!function(){"use strict";var e,t,i;function __awaiter(e,t,i,a){return new(i||(i=Promise))(function(s,o){function fulfilled(e){try{step(a.next(e));}catch(e){e=VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);o(e);}}
function rejected(e){try{step(a.throw(e));}catch(e){e=VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);o(e);}}
function step(e){e.done?s(e.value):new i(function(t){t(e.value);}).then(fulfilled,rejected);}
step((a=a.apply(e,t||[])).next());});}
!function(e){e.Town="1_1xiaozhen",e.Circus="2_1maxituan",e.Cemetery="3_1mudi",e.Stall="4_1huotan",e.Garage="5_1cheku",e.Classroom="6_1classroom",e.Forest="7_1forest";}(e||(e={}));class a{static get Town(){return "res3d/LayaScene_SceneOptimize/Conventional/1_1xiaozhen.lh";}
static get Circus(){return "res3d/LayaScene_SceneOptimize/Conventional/2_1maxituan.lh";}
static get Cemetery(){return "res3d/LayaScene_SceneOptimize/Conventional/3_1mudi.lh";}
static get Stall(){return "res3d/LayaScene_SceneOptimize/Conventional/4_1huotan.lh";}
static get Garage(){return "res3d/LayaScene_SceneOptimize/Conventional/5_1cheku.lh";}
static get Classroom(){return "res3d/LayaScene_SceneOptimize/Conventional/6_1classroom.lh";}
static get Forest(){return "res3d/LayaScene_SceneOptimize/Conventional/7_1forest.lh";}}
class s{static get Camera(){return "res3d/LayaScene_SceneOptimize/Conventional/Main Camera.lh";}
static get GlobalResource(){return "res3d/LayaScene_SceneOptimize/Conventional/global_resource.lh";}
static get RodRole(){return "res3d/LayaScene_SceneOptimize/Conventional/rod_role.lh";}
static get Comp(){return "res/atlas/comp.atlas";}
static get KaijuAtlas(){return "res/atlas/imagesUI/shouye-kaiju.atlas";}
static get ShezhiAtlas(){return "res/atlas/imagesUI/shezhi.atlas";}
static get TishiAtlas(){return "res/atlas/imagesUI/tishi.atlas";}
static get YouxiAtlas(){return "res/atlas/imagesUI/youxi.atlas";}
static get MapAtlas(){return "res/atlas/imagesUI/map.atlas";}
static get IconAtlas(){return "res/atlas/imagesUI/icon.atlas";}
static get JiesuanAtlas(){return "res/atlas/imagesUI/jiesuan.atlas";}
static get OtherAtlas(){return "res/atlas/imagesUI/other.atlas";}}
s.ObjectListJson="res/json/objectList.json",s.TriggerBox1Json="res/json/trigger_box1.json",s.TriggerBox2Json="res/json/trigger_box2.json",s.TriggerBox3Json="res/json/trigger_box3.json",s.TriggerBox4Json="res/json/trigger_box4.json",s.TriggerBox5Json="res/json/trigger_box5.json",s.TriggerBox6Json="res/json/trigger_box6.json",t||(t={}),i||(i={});class o{}
o.MUSIC_VOLUME="music_volume",o.SOUND_VOLUME="sound_volume",o.HINT_ANSWER="hint_answer",o.NOVICE_GUIDE="novice_guide",o.GAME_DATA="game_data";class r{constructor(){}
static init(){Laya.ClassUtils.regClass;}}
r.width=1920,r.height=1080,r.scaleMode="showall",r.screenMode="none",r.alignV="middle",r.alignH="center",r.startScene="PrepareGameView.scene",r.sceneRoot="",r.debug=!1,r.stat=!1,r.physicsDebug=!1,r.exportSceneToJson=!0,r.init();class n{static getLocal(e){e=this.appName+"_"+e;let t=Laya.LocalStorage.getItem(e);if(!t)return null;let i=JSON.parse(t);return i&&(i.data||0==i.data||"0"==i.data)?i.data:null;}
static setLocal(e,t){e=this.appName+"_"+e;let i={data:t};Laya.LocalStorage.setItem(e,JSON.stringify(i));}}
n.appName="Ice-SHEscape-";class l{static init(){return new Promise((e,t)=>{Laya.Browser.onMiniGame?(this.immediatelyConfigList.push({packageName:"imagesUI"},{packageName:"res"},{packageName:"sound"}),this.configList.push({path:"res3d/",packageName:"res3d"})):Laya.Browser.onQGMiniGame?(this.immediatelyConfigList.push({packageName:"imagesUI"},{packageName:"sound"},{packageName:"oppo_sub1"},{packageName:"oppo_sub2"}),this.configList.push({path:"res3d/",packageName:"res3d"})):Laya.Browser.onVVMiniGame?(this.immediatelyConfigList.push({packageName:"imagesUI"},{packageName:"sound"}),this.configList.push({path:"res3d/",packageName:"res3d"})):Laya.Browser.onQQMiniGame&&(this.immediatelyConfigList.push({packageName:"imagesUI"},{packageName:"res"},{packageName:"sound"}),this.configList.push({path:"res3d/",packageName:"res3d"})),this.loadPlatformRes().then(e).catch(t);});}
static load(e,t,i,a=!0){e&&e.length?this.loadPlatformRes(e).then(()=>{Laya.loader.create(e,Laya.Handler.create(t.caller,function(e){t.runWith(Array.isArray(e)?[e]:e);}),i);}).catch(e=>{Qx.Log.error(e),t.runWith(!1);}):t.runWith(!0);}
static loadPlatformRes(e){return new Promise((t,i)=>{function loadHandler(e){return __awaiter(this,void 0,void 0,function*(){if(e.length){const a=[],s=[];for(const t of e)t.zipPath?s.push({url:t.zipPath,folder:t.unzipFolder,packageName:t.packageName}):t.packageName&&a.push(t.packageName);try{a.length&&(yield Qx.platform.loadSubpackage(...a)),s.length&&(yield Qx.platform.unzip(...s)),t("load_platform_res ok");}catch(e){e=VM2_INTERNAL_STATE_DO_NOT_USE_OR_PROGRAM_WILL_FAIL.handleException(e);i(e);}}else t("load_platform_res ok");});}
if(e){const t=[];if(this.configList.length){const i=e=>{const i=e.url?e.url:e,a=this.configList.findIndex(e=>i.startsWith(e.path));if(-1!==a){const e=this.configList.splice(a,1);t.push(e.shift());}};if(Array.isArray(e))for(const t of e)i(t);else i(e);}
loadHandler(t);}else{let e=null;this.immediatelyConfigList.length?(e=this.immediatelyConfigList.concat(),this.immediatelyConfigList.length=0):e=this.immediatelyConfigList,loadHandler(e);}});}}
l.configList=[],l.immediatelyConfigList=[];class h extends Laya.Sprite{constructor(e,t=48,i="#ffffff"){super();let a=R.getView(R.GAME_VIEW);t*=a.ratio[0];var s=Math.round(6*t/48),o=new Laya.Panel();this.addChild(o),o.bgColor="#000000",o.alpha=.3,o.size(Laya.stage.width,t+2*s),o.x=.5*-o.width,o.y+=s;var r=new Laya.Text();r.text=e,r.color=i,r.fontSize=t,r.bold=!0,this.addChild(r),r.pos(.5*-r.textWidth,(t+2*s-r.textHeight>>1)+s),Laya.stage.addChild(this),this.pos(.5*Laya.stage.width,300*a.ratio[0]);var n=this;n.alpha=0,Laya.Tween.to(this,{y:200,alpha:1},500,Laya.Ease.sineOut,Laya.Handler.create(null,function(){Laya.Tween.to(n,{alpha:0,y:n.y-50},100,Laya.Ease.linearNone,Laya.Handler.create(null,function(){n.removeSelf();}),2e3);}));}}
var c,p=Laya.View,m=Laya.ClassUtils.regClass;!function(e){class t extends p{constructor(){super();}
createChildren(){super.createChildren(),this.createView(t.uiView);}}
t.uiView={"x":0,"type":"View","selectedBox":148,"selecteID":205,"searchKey":"View","props":{"width":1920,"height":1080},"nodeParent":-1,"maxID":214,"loadList3D":[],"loadList":["imagesUI/other/jvx.png","imagesUI/other/zant.png","imagesUI/other/tiaog.png","imagesUI/youxi/hudong.png","imagesUI/other/Btn_3.png","imagesUI/youxi/shezhi.png","imagesUI/youxi/tishi.png","imagesUI/youxi/tishi1.png","imagesUI/youxi/fangxiang.png","imagesUI/youxi/fangxiang1.png","imagesUI/youxi/xingdong.png","imagesUI/youxi/zou.png","imagesUI/youxi/dun.png","imagesUI/youxi/fangx.png"],"label":"View","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":2,"child":[{"x":15,"type":"Image","searchKey":"Image,others","props":{"visible":false,"top":0,"right":0,"name":"others","left":0,"bottom":0},"nodeParent":2,"label":"others","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":137,"child":[{"x":30,"type":"Sprite","searchKey":"Sprite,interactionArea1","props":{"visible":false,"name":"interactionArea1"},"nodeParent":137,"label":"interactionArea1","isOpen":false,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":63,"child":[{"type":"Rect","searchKey":"Rect","props":{"y":222,"x":580,"width":1005,"lineWidth":1,"height":655,"fillColor":"#ff0000"},"nodeParent":63,"label":"Rect","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":67,"child":[],"$HIDDEN":false},{"type":"Sprite","searchKey":"Sprite,direction_guide1","props":{"y":345,"x":887,"name":"direction_guide1"},"nodeParent":63,"label":"direction_guide1","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":89,"child":[{"type":"Text","searchKey":"Text","props":{"x":123,"text":"↑","runtime":"Laya.Text","fontSize":144,"font":"Arial","color":"#ffffff"},"nodeParent":89,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":79,"child":[],"$HIDDEN":false},{"type":"Text","searchKey":"Text","props":{"y":252,"x":126,"text":"↓","runtime":"Laya.Text","fontSize":144,"font":"Arial","color":"#ffffff"},"nodeParent":89,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":80,"child":[],"$HIDDEN":false},{"type":"Text","searchKey":"Text","props":{"y":127,"text":"←","runtime":"Laya.Text","fontSize":144,"font":"Arial","color":"#ffffff"},"nodeParent":89,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":81,"child":[],"$HIDDEN":false},{"type":"Text","searchKey":"Text","props":{"y":127,"x":255,"text":"→","runtime":"Laya.Text","fontSize":144,"font":"Arial","color":"#ffffff"},"nodeParent":89,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":82,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"type":"Sprite","searchKey":"Sprite,test","props":{"y":470,"x":1010,"visible":false,"name":"test"},"nodeParent":63,"label":"test","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":88,"child":[{"type":"Text","searchKey":"Text","props":{"text":"↑","runtime":"Laya.Text","fontSize":144,"font":"Arial","color":"#ffffff"},"nodeParent":88,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":84,"child":[],"$HIDDEN":false},{"type":"Text","searchKey":"Text","props":{"y":2,"x":3,"text":"↓","runtime":"Laya.Text","fontSize":144,"font":"Arial","color":"#ffffff"},"nodeParent":88,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":85,"child":[],"$HIDDEN":false},{"type":"Text","searchKey":"Text","props":{"y":2,"x":3,"text":"←","runtime":"Laya.Text","fontSize":144,"font":"Arial","color":"#ffffff"},"nodeParent":88,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":86,"child":[],"$HIDDEN":false},{"type":"Text","searchKey":"Text","props":{"y":2,"x":3,"text":"→","runtime":"Laya.Text","fontSize":144,"font":"Arial","color":"#ffffff"},"nodeParent":88,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":87,"child":[],"$HIDDEN":false}],"$HIDDEN":false}],"$HIDDEN":true},{"x":30,"type":"Image","searchKey":"Image,touch_area,touch_area","props":{"y":3,"x":0,"width":1920,"visible":false,"var":"touch_area","name":"touch_area","height":1080},"nodeParent":137,"label":"touch_area","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":30,"child":[],"$HIDDEN":true}],"$HIDDEN":false},{"x":15,"type":"Sprite","searchKey":"Sprite,full_screen_scale,full_screen_scale","props":{"zOrder":1,"y":0,"x":0,"width":1920,"var":"full_screen_scale","name":"full_screen_scale","height":1080},"nodeParent":2,"label":"full_screen_scale","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":147,"child":[],"$HIDDEN":true},{"x":15,"type":"Sprite","searchKey":"Sprite,full_screen_stretch,full_screen_stretch","props":{"zOrder":2,"y":0,"x":0,"width":1920,"var":"full_screen_stretch","name":"full_screen_stretch","height":1080},"nodeParent":2,"label":"full_screen_stretch","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":146,"child":[],"$HIDDEN":true},{"x":15,"type":"Image","searchKey":"Image,scale_screen,scale_screen","props":{"zOrder":3,"var":"scale_screen","top":0,"right":0,"name":"scale_screen","left":0,"bottom":0},"nodeParent":2,"label":"scale_screen","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":148,"child":[{"x":30,"type":"Panel","searchKey":"Panel,right_area,right_area","props":{"zOrder":1,"var":"right_area","top":0,"right":0,"name":"right_area","left":0,"bottom":0,"alpha":0.2},"nodeParent":148,"label":"right_area","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":32,"child":[],"$HIDDEN":false},{"x":30,"type":"Image","searchKey":"Image,up_box,up_box","props":{"zOrder":2,"width":100,"var":"up_box","top":0,"name":"up_box","height":100,"centerX":0},"nodeParent":148,"label":"up_box","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":150,"child":[{"x":45,"type":"Image","searchKey":"Image,pause,pause","props":{"y":145.5,"x":-550,"visible":false,"var":"pause","skin":"imagesUI/other/jvx.png","name":"pause"},"nodeParent":150,"label":"pause","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":196,"child":[{"x":60,"type":"Sprite","searchKey":"Sprite,pause2,pause2","props":{"var":"pause2","texture":"imagesUI/other/zant.png","name":"pause2"},"nodeParent":196,"label":"pause2","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":198,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"x":45,"type":"Sprite","searchKey":"Sprite,exit_anim_scene,exit_anim_scene","props":{"y":153,"x":440,"var":"exit_anim_scene","texture":"imagesUI/other/tiaog.png","name":"exit_anim_scene"},"nodeParent":150,"label":"exit_anim_scene","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":194,"child":[],"$HIDDEN":false},{"x":45,"type":"Text","searchKey":"Text,chat_text1,chat_text1","props":{"y":321,"x":-910,"width":1920,"var":"chat_text1","text":"TipTipTip","name":"chat_text1","height":48,"fontSize":48,"color":"#ffffff","bold":true,"alpha":0,"align":"center"},"nodeParent":150,"label":"chat_text1","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":46,"child":[{"x":60,"type":"Panel","searchKey":"Panel,chat_text1_bg,chat_text1_bg","props":{"y":-6,"x":0,"width":1920,"var":"chat_text1_bg","name":"chat_text1_bg","height":60,"bgColor":"#000000","alpha":0.3},"nodeParent":46,"label":"chat_text1_bg","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":54,"child":[],"$HIDDEN":false}],"$HIDDEN":false}],"$HIDDEN":false},{"x":30,"type":"Sprite","searchKey":"Sprite,left_box,left_box","props":{"zOrder":2,"y":490,"x":0,"width":100,"var":"left_box","name":"left_box","height":100},"nodeParent":148,"label":"left_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":151,"child":[],"$HIDDEN":false},{"x":30,"type":"Image","searchKey":"Image,down_box,down_box","props":{"zOrder":2,"width":100,"var":"down_box","name":"down_box","height":100,"centerX":0,"bottom":0},"nodeParent":148,"label":"down_box","isOpen":false,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":152,"child":[{"type":"Text","searchKey":"Text,discard","props":{"y":0,"x":2,"width":96,"visible":false,"runtime":"Laya.Text","name":"discard","height":48,"fontSize":48,"color":"#ffffff"},"nodeParent":152,"label":"discard","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":43,"child":[{"type":"Text","searchKey":"Text","props":{"y":-11,"x":0,"text":"↓","runtime":"Laya.Text","rotation":30,"fontSize":60,"font":"Arial","color":"#ffffff","bold":true},"nodeParent":43,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":56,"child":[],"$HIDDEN":false},{"type":"Text","searchKey":"Text","props":{"y":-9,"x":38,"text":"↓","runtime":"Laya.Text","rotation":30,"fontSize":60,"font":"Arial","color":"#ffffff","bold":true},"nodeParent":43,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":57,"child":[],"$HIDDEN":false},{"type":"Text","searchKey":"Text","props":{"y":-9,"x":75,"text":"↓","runtime":"Laya.Text","rotation":30,"fontSize":60,"font":"Arial","color":"#ffffff","bold":true},"nodeParent":43,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":58,"child":[],"$HIDDEN":false}],"$HIDDEN":false}],"$HIDDEN":false},{"x":30,"type":"Image","searchKey":"Image,right_box,right_box","props":{"zOrder":2,"width":100,"var":"right_box","right":0,"name":"right_box","height":100,"centerY":1},"nodeParent":148,"label":"right_box","isOpen":false,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":153,"child":[{"type":"Sprite","searchKey":"Sprite,interaction,interaction","props":{"y":-74,"x":-125,"width":149,"var":"interaction","name":"interaction","height":201},"nodeParent":153,"label":"interaction","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":170,"child":[{"type":"Image","searchKey":"Image,interaction","props":{"skin":"imagesUI/youxi/hudong.png","name":"interaction"},"nodeParent":170,"label":"interaction","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":29,"child":[],"$HIDDEN":false}],"$HIDDEN":false}],"$HIDDEN":false},{"x":30,"type":"Image","searchKey":"Image,operation_tip","props":{"centerX":0,"var":"operation_tip","top":29},"nodeParent":148,"label":"operation_tip","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":205,"child":[{"x":45,"type":"Sprite","searchKey":"Sprite","props":{"x":-248,"texture":"imagesUI/youxi/Tips.png"},"nodeParent":205,"label":"Sprite","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":213,"child":[]},{"x":45,"type":"Sprite","searchKey":"Sprite","props":{"x":-250,"visible":false,"alpha":0.5},"nodeParent":205,"label":"Sprite","isOpen":false,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":206,"child":[{"type":"Rect","searchKey":"Rect","props":{"width":500,"lineWidth":1,"height":150,"fillColor":"#000000"},"nodeParent":206,"label":"Rect","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":207,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"x":45,"type":"Text","searchKey":"Text,title","props":{"y":10,"x":-250,"width":500,"visible":false,"text":"Tip","runtime":"Laya.Text","name":"title","fontSize":40,"font":"Arial","color":"#ff0000","align":"center"},"nodeParent":205,"label":"title","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":208,"child":[],"$HIDDEN":false},{"x":45,"type":"Text","searchKey":"Text,describe","props":{"y":55,"x":-237,"wordWrap":true,"width":480,"valign":"middle","text":"Open window","runtime":"Laya.Text","name":"describe","height":85,"fontSize":35,"font":"Arial","color":"#ffffff","align":"center"},"nodeParent":205,"label":"describe","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":209,"child":[],"$HIDDEN":false},{"x":45,"type":"Sprite","searchKey":"Sprite,close_operation_tip_btn","props":{"y":152,"x":125,"var":"close_operation_tip_btn","texture":"imagesUI/other/Btn_3.png","scaleY":0.7,"scaleX":0.5},"nodeParent":205,"label":"close_operation_tip_btn","isOpen":false,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":210,"child":[{"type":"Text","searchKey":"Text","props":{"y":16,"x":24,"width":136,"text":"Close","scaleY":1.3,"scaleX":1.5,"runtime":"Laya.Text","height":25,"fontSize":25,"font":"Arial","color":"#000000","align":"center"},"nodeParent":210,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":211,"child":[],"$HIDDEN":false}],"$HIDDEN":false}],"$HIDDEN":false},{"x":30,"type":"Image","searchKey":"Image,center_box,center_box","props":{"zOrder":2,"width":100,"visible":true,"var":"center_box","name":"center_box","height":100,"centerY":0,"centerX":0},"nodeParent":148,"label":"center_box","isOpen":false,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":154,"child":[{"type":"Sprite","searchKey":"Sprite,interaction_point,interaction_point","props":{"y":43,"x":-160,"var":"interaction_point","name":"interaction_point"},"nodeParent":154,"label":"interaction_point","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":167,"child":[{"type":"Sprite","searchKey":"Sprite,center_point,center_point","props":{"y":10,"x":210,"width":20,"var":"center_point","pivotY":10,"pivotX":10,"name":"center_point","height":20},"nodeParent":167,"label":"center_point","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":40,"child":[{"type":"Circle","searchKey":"Circle","props":{"y":10,"x":10,"radius":10,"lineWidth":1,"fillColor":"#ffffff"},"nodeParent":40,"label":"Circle","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":34,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"type":"Text","searchKey":"Text,hint_text,hint_text","props":{"y":33,"x":210,"width":420,"var":"hint_text","text":"Bed","runtime":"Laya.Text","pivotX":210,"name":"hint_text","height":116,"fontSize":48,"color":"#ffffff","align":"center"},"nodeParent":167,"label":"hint_text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":39,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"type":"Text","searchKey":"Text,chat_text2,chat_text2","props":{"y":331,"x":-910,"width":1920,"visible":false,"var":"chat_text2","text":"TipTipTip","runtime":"Laya.Text","name":"chat_text2","height":48,"fontSize":48,"color":"#ffffff","bold":true,"align":"center"},"nodeParent":154,"label":"chat_text2","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":47,"child":[],"$HIDDEN":false},{"type":"Text","searchKey":"Text,center_text,center_text","props":{"y":31,"x":-910,"width":1920,"var":"center_text","text":"Next Purpose","runtime":"Laya.Text","name":"center_text","height":90,"fontSize":60,"font":"Arial","color":"#ffffff","alpha":0,"align":"center"},"nodeParent":154,"label":"center_text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":53,"child":[],"$HIDDEN":false},{"type":"Text","searchKey":"Text,hint_text2,hint_text2","props":{"y":-259,"x":-910,"width":1920,"visible":false,"var":"hint_text2","runtime":"Laya.Text","name":"hint_text2","height":48,"fontSize":48,"color":"#ffffff","bold":true,"alpha":0,"align":"center"},"nodeParent":154,"label":"hint_text2","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":144,"child":[{"type":"Panel","searchKey":"Panel,hint_text2_bg,hint_text2_bg","props":{"y":-6,"x":0,"width":1920,"var":"hint_text2_bg","name":"hint_text2_bg","height":60,"bgColor":"#000000","alpha":0.3},"nodeParent":144,"label":"hint_text2_bg","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":145,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"type":"Sprite","searchKey":"Sprite,guide1,guide1","props":{"y":-140,"x":-23,"width":400,"var":"guide1","name":"guide1","height":400},"nodeParent":154,"label":"guide1","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":143,"child":[{"type":"Sprite","searchKey":"Sprite,direction,direction","props":{"y":0,"x":0,"width":400,"visible":false,"var":"direction","name":"direction","height":400},"nodeParent":143,"label":"direction","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":138,"child":[{"type":"Text","searchKey":"Text","props":{"x":123,"text":"↑","runtime":"Laya.Text","fontSize":144,"font":"Arial","color":"#ffffff"},"nodeParent":138,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":139,"child":[],"$HIDDEN":false},{"type":"Text","searchKey":"Text","props":{"y":252,"x":126,"text":"↓","runtime":"Laya.Text","fontSize":144,"font":"Arial","color":"#ffffff"},"nodeParent":138,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":140,"child":[],"$HIDDEN":false},{"type":"Text","searchKey":"Text","props":{"y":127,"text":"←","runtime":"Laya.Text","fontSize":144,"font":"Arial","color":"#ffffff"},"nodeParent":138,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":141,"child":[],"$HIDDEN":false},{"type":"Text","searchKey":"Text","props":{"y":127,"x":255,"text":"→","runtime":"Laya.Text","fontSize":144,"font":"Arial","color":"#ffffff"},"nodeParent":138,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":142,"child":[],"$HIDDEN":false}],"$HIDDEN":false}],"$HIDDEN":false}],"$HIDDEN":false},{"x":30,"type":"Image","searchKey":"Image,left_up_box,left_up_box","props":{"zOrder":2,"width":100,"var":"left_up_box","top":0,"name":"left_up_box","left":0,"height":100},"nodeParent":148,"label":"left_up_box","isOpen":false,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":155,"child":[{"type":"Image","searchKey":"Image,setting_btn,setting_btn","props":{"y":119,"x":116,"visible":false,"var":"setting_btn","skin":"imagesUI/youxi/shezhi.png","name":"setting_btn","alpha":0},"nodeParent":155,"label":"setting_btn","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":20,"child":[],"$HIDDEN":false},{"type":"Image","searchKey":"Image,soundBtn,soundBtn","props":{"y":168,"x":168,"var":"soundBtn","skin":"imagesUI/youxi/sound0.png","name":"soundBtn","anchorY":0.5,"anchorX":0.5},"nodeParent":155,"label":"soundBtn","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":212,"child":[]},{"type":"Image","searchKey":"Image,light_off,light_off","props":{"y":112,"x":255,"var":"light_off","skin":"imagesUI/youxi/tishi.png","name":"light_off"},"nodeParent":155,"label":"light_off","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":22,"child":[],"$HIDDEN":false},{"type":"Image","searchKey":"Image,light_up,light_up","props":{"y":104,"x":247,"visible":false,"var":"light_up","skin":"imagesUI/youxi/tishi1.png","name":"light_up"},"nodeParent":155,"label":"light_up","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":23,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"x":30,"type":"Image","searchKey":"Image,right_up_box,right_up_box","props":{"zOrder":2,"width":100,"var":"right_up_box","top":0,"right":0,"name":"right_up_box","height":100},"nodeParent":148,"label":"right_up_box","isOpen":false,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":156,"child":[{"type":"Panel","searchKey":"Panel,show_custom_ad_pos","props":{"y":100,"x":-140,"width":180,"visible":false,"name":"show_custom_ad_pos","height":280,"bgColor":"#ff7cd5"},"nodeParent":156,"label":"show_custom_ad_pos","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":192,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"x":30,"type":"Image","searchKey":"Image,left_down_box,left_down_box","props":{"zOrder":2,"width":100,"var":"left_down_box","name":"left_down_box","left":0,"height":100,"bottom":0},"nodeParent":148,"label":"left_down_box","isOpen":false,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":157,"child":[{"type":"Sprite","searchKey":"Sprite,joystick_left,joystick_left","props":{"y":-322,"x":100,"width":308,"var":"joystick_left","texture":"imagesUI/youxi/fangxiang.png","name":"joystick_left","height":308},"nodeParent":157,"label":"joystick_left","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":24,"child":[{"type":"Image","searchKey":"Image,joystick_left_touch,joystick_left_touch","props":{"y":103,"x":104,"var":"joystick_left_touch","skin":"imagesUI/youxi/fangxiang1.png","name":"joystick_left_touch"},"nodeParent":24,"label":"joystick_left_touch","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":25,"child":[],"$HIDDEN":false}],"$HIDDEN":false}],"$HIDDEN":false},{"x":30,"type":"Image","searchKey":"Image,right_down_box,right_down_box","props":{"zOrder":2,"width":100,"var":"right_down_box","right":0,"name":"right_down_box","height":100,"bottom":-5},"nodeParent":148,"label":"right_down_box","isOpen":false,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":158,"child":[{"type":"Image","searchKey":"Image,action_state,action_state","props":{"y":-220,"x":-225,"var":"action_state","skin":"imagesUI/youxi/xingdong.png","name":"action_state"},"nodeParent":158,"label":"action_state","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":26,"child":[{"type":"Image","searchKey":"Image,walk,walk","props":{"y":66,"x":87,"var":"walk","skin":"imagesUI/youxi/zou.png","name":"walk"},"nodeParent":26,"label":"walk","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":27,"child":[],"$HIDDEN":false},{"type":"Image","searchKey":"Image,squat,squat","props":{"y":60,"x":114,"var":"squat","skin":"imagesUI/youxi/dun.png","name":"squat"},"nodeParent":26,"label":"squat","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":28,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"type":"Sprite","searchKey":"Sprite,discard,discard","props":{"y":-338,"x":-423,"var":"discard","texture":"imagesUI/youxi/fangx.png","name":"discard"},"nodeParent":158,"label":"discard","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":193,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"x":30,"type":"Image","searchKey":"Image,draw_pie,draw_pie","props":{"y":532,"x":950,"var":"draw_pie","name":"draw_pie"},"nodeParent":148,"label":"draw_pie","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":45,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"x":15,"type":"Sprite","searchKey":"Sprite,no_scale_screen,no_scale_screen","props":{"x":0,"var":"no_scale_screen","name":"no_scale_screen"},"nodeParent":2,"label":"no_scale_screen","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":149,"child":[],"$HIDDEN":false},{"x":15,"type":"Image","searchKey":"Image,novice_guide,novice_guide","props":{"zOrder":5,"visible":false,"var":"novice_guide","top":0,"right":0,"name":"novice_guide","left":0,"bottom":0},"nodeParent":2,"label":"novice_guide","isOpen":false,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":59,"child":[{"type":"Sprite","searchKey":"Sprite,gameContainer,gameContainer","props":{"y":2,"x":0,"visible":true,"var":"gameContainer","name":"gameContainer"},"nodeParent":59,"label":"gameContainer","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":60,"child":[],"$HIDDEN":false},{"type":"Image","searchKey":"Image,guideContainer,guideContainer","props":{"visible":true,"var":"guideContainer","top":0,"right":0,"name":"guideContainer","left":0,"cacheAs":"bitmap","bottom":0},"nodeParent":59,"label":"guideContainer","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":61,"child":[{"type":"Sprite","searchKey":"Sprite,maskArea,maskArea","props":{"y":-1,"x":0,"var":"maskArea","name":"maskArea"},"nodeParent":61,"label":"maskArea","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":62,"child":[],"$HIDDEN":false},{"type":"Sprite","searchKey":"Sprite,interactionArea1,interactionArea1","props":{"y":229,"x":637,"width":1005,"var":"interactionArea1","name":"interactionArea1","height":655},"nodeParent":61,"label":"interactionArea1","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":161,"child":[{"type":"Rect","searchKey":"Rect","props":{"y":0,"x":0,"width":1005,"lineWidth":1,"height":655,"fillColor":"#000000"},"nodeParent":161,"label":"Rect","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":126,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"type":"Sprite","searchKey":"Sprite,interactionArea2,interactionArea2","props":{"y":1,"x":0,"var":"interactionArea2","name":"interactionArea2"},"nodeParent":61,"label":"interactionArea2","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":160,"child":[{"type":"Rect","searchKey":"Rect","props":{"y":396,"x":1667,"width":208,"lineWidth":1,"height":250,"fillColor":"#000000"},"nodeParent":160,"label":"Rect","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":105,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"type":"Image","searchKey":"Image,interactionArea3,interactionArea3","props":{"width":396,"var":"interactionArea3","name":"interactionArea3","left":57,"height":396,"bottom":66},"nodeParent":61,"label":"interactionArea3","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":159,"child":[{"type":"Circle","searchKey":"Circle","props":{"y":196,"x":196,"radius":198,"lineWidth":1,"fillColor":"#000000"},"nodeParent":159,"label":"Circle","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":124,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"type":"Sprite","searchKey":"Sprite,drawIArea,drawIArea","props":{"y":0,"x":0,"var":"drawIArea","name":"drawIArea"},"nodeParent":61,"label":"drawIArea","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":179,"child":[],"$HIDDEN":false}],"$HIDDEN":false}],"$HIDDEN":true},{"x":15,"type":"Panel","searchKey":"Panel,blank_screen,blank_screen","props":{"zOrder":6,"visible":true,"var":"blank_screen","top":0,"right":0,"name":"blank_screen","left":0,"bottom":0,"bgColor":"#000000","alpha":0},"nodeParent":2,"label":"blank_screen","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":52,"child":[],"$HIDDEN":true}],"animations":[{"nodes":[],"name":"ani1","id":1,"frameRate":24,"action":0}],"$HIDDEN":false},e.GameViewUI=t,m("ui.GameViewUI",t);class i extends p{constructor(){super();}
createChildren(){super.createChildren(),this.createView(i.uiView);}}
i.uiView={"x":0,"type":"View","selectedBox":58,"selecteID":63,"searchKey":"View","props":{"width":1920,"height":1080},"nodeParent":-1,"maxID":113,"loadList3D":[],"loadList":["imagesUI/tishi/bg1.png","imagesUI/shezhi/x.png","imagesUI/tishi/mianban3.png","imagesUI/tishi/mianban4.png","imagesUI/tishi/1.png","imagesUI/tishi/daoju.png","imagesUI/tishi/2.png","imagesUI/tishi/daoju1.png","imagesUI/tishi/miti.png","imagesUI/tishi/miti1.png","imagesUI/tishi/jiesuo.png","imagesUI/tishi/yijiesuo.png"],"label":"View","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":2,"child":[{"x":15,"type":"Image","searchKey":"Image,full_screen_stretch,full_screen_stretch","props":{"var":"full_screen_stretch","top":0,"right":0,"name":"full_screen_stretch","left":0,"bottom":0},"nodeParent":2,"label":"full_screen_stretch","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":80,"child":[{"x":30,"type":"Image","searchKey":"Image,bg,bg","props":{"var":"bg","top":0,"skin":"imagesUI/tishi/bg1.png","right":0,"name":"bg","left":0,"bottom":0},"nodeParent":80,"label":"bg","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":3,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"x":15,"type":"Sprite","searchKey":"Sprite,full_screen_scale,full_screen_scale","props":{"y":0,"x":0,"var":"full_screen_scale","name":"full_screen_scale"},"nodeParent":2,"label":"full_screen_scale","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":81,"child":[],"$HIDDEN":false},{"x":15,"type":"Image","searchKey":"Image,scale_screen,scale_screen","props":{"var":"scale_screen","top":0,"right":0,"name":"scale_screen","left":0,"bottom":0},"nodeParent":2,"label":"scale_screen","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":82,"child":[{"x":30,"type":"Sprite","searchKey":"Sprite,up_box,up_box","props":{"y":0,"x":910,"width":100,"var":"up_box","name":"up_box","height":100},"nodeParent":82,"label":"up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":84,"child":[],"$HIDDEN":false},{"x":30,"type":"Sprite","searchKey":"Sprite,left_box,left_box","props":{"y":490,"x":0,"width":100,"var":"left_box","name":"left_box","height":100},"nodeParent":82,"label":"left_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":85,"child":[],"$HIDDEN":false},{"x":30,"type":"Sprite","searchKey":"Sprite,down_box,down_box","props":{"y":980,"x":910,"width":100,"var":"down_box","name":"down_box","height":100},"nodeParent":82,"label":"down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":86,"child":[],"$HIDDEN":false},{"x":30,"type":"Sprite","searchKey":"Sprite,right_box,right_box","props":{"y":490,"x":1820,"width":100,"var":"right_box","name":"right_box","height":100},"nodeParent":82,"label":"right_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":87,"child":[],"$HIDDEN":false},{"x":30,"type":"Image","searchKey":"Image,center_box,center_box","props":{"width":100,"var":"center_box","name":"center_box","height":100,"centerY":0,"centerX":0},"nodeParent":82,"label":"center_box","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":88,"child":[{"x":45,"type":"Sprite","searchKey":"Sprite,close_btn,close_btn","props":{"y":-440,"x":610,"var":"close_btn","texture":"imagesUI/shezhi/x.png","name":"close_btn"},"nodeParent":88,"label":"close_btn","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":31,"child":[],"$HIDDEN":false},{"x":45,"type":"Sprite","searchKey":"Sprite,bg_left","props":{"y":-376,"x":-580,"texture":"imagesUI/tishi/mianban3.png","name":"bg_left"},"nodeParent":88,"label":"bg_left","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":4,"child":[],"$HIDDEN":false},{"x":45,"type":"Sprite","searchKey":"Sprite,bg_right","props":{"y":-355,"x":137,"texture":"imagesUI/tishi/mianban4.png","name":"bg_right"},"nodeParent":88,"label":"bg_right","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":5,"child":[],"$HIDDEN":false},{"x":45,"type":"Sprite","searchKey":"Sprite,title","props":{"y":-320,"x":-735,"name":"title"},"nodeParent":88,"label":"title","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":25,"child":[{"x":60,"type":"Sprite","searchKey":"Sprite,prop,prop","props":{"y":16,"x":16,"width":163,"var":"prop","name":"prop","height":118},"nodeParent":25,"label":"prop","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":32,"child":[{"x":75,"type":"Sprite","searchKey":"Sprite,normal_bg","props":{"texture":"imagesUI/tishi/1.png","name":"normal_bg"},"nodeParent":32,"label":"normal_bg","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":6,"child":[],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,normal_text","props":{"y":33,"x":39,"texture":"imagesUI/tishi/daoju.png","name":"normal_text"},"nodeParent":32,"label":"normal_text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":8,"child":[],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,select_bg","props":{"y":-16,"x":-16,"texture":"imagesUI/tishi/2.png","name":"select_bg"},"nodeParent":32,"label":"select_bg","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":7,"child":[],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,select_text","props":{"y":33,"x":39,"texture":"imagesUI/tishi/daoju1.png","name":"select_text"},"nodeParent":32,"label":"select_text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":9,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"x":60,"type":"Sprite","searchKey":"Sprite,puzzle,puzzle","props":{"y":148,"x":16,"width":163,"var":"puzzle","name":"puzzle","height":118},"nodeParent":25,"label":"puzzle","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":33,"child":[{"x":75,"type":"Sprite","searchKey":"Sprite,normal_bg","props":{"texture":"imagesUI/tishi/1.png","name":"normal_bg"},"nodeParent":33,"label":"normal_bg","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":12,"child":[],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,normal_text","props":{"y":33,"x":40,"texture":"imagesUI/tishi/miti.png","name":"normal_text"},"nodeParent":33,"label":"normal_text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":16,"child":[],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,select_bg","props":{"y":-16,"x":-16,"texture":"imagesUI/tishi/2.png","name":"select_bg"},"nodeParent":33,"label":"select_bg","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":13,"child":[],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,select_text","props":{"y":33,"x":40,"texture":"imagesUI/tishi/miti1.png","name":"select_text"},"nodeParent":33,"label":"select_text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":17,"child":[],"$HIDDEN":false}],"$HIDDEN":false}],"$HIDDEN":false},{"x":45,"type":"Sprite","searchKey":"Sprite,right","props":{"y":-262,"x":151,"name":"right"},"nodeParent":88,"label":"right","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":24,"child":[{"x":60,"type":"Sprite","searchKey":"Sprite,propQW,propQW","props":{"y":24,"x":0,"var":"propQW","name":"propQW"},"nodeParent":24,"label":"propQW","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":43,"child":[{"x":75,"type":"Text","searchKey":"Text","props":{"y":-35,"x":70,"text":"Where can I find the item?","runtime":"Laya.Text","fontSize":36,"font":"Arial","color":"#733b00"},"nodeParent":43,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":45,"child":[],"$HIDDEN":false},{"x":75,"type":"Text","searchKey":"Text","props":{"y":138,"x":70,"text":"What is it for?","runtime":"Laya.Text","fontSize":36,"font":"Arial","color":"#733b00"},"nodeParent":43,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":49,"child":[],"$HIDDEN":false},{"x":75,"type":"Text","searchKey":"Text","props":{"y":315,"x":70,"text":"Lead me to the prop...","runtime":"Laya.Text","fontSize":36,"font":"Arial","color":"#733b00"},"nodeParent":43,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":94,"child":[],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,prop_question1,prop_question1","props":{"y":15,"x":23,"visible":false,"var":"prop_question1","texture":"imagesUI/tishi/jiesuo.png","name":"prop_question1"},"nodeParent":43,"label":"prop_question1","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":44,"child":[],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,prop_answer1,prop_answer1","props":{"zOrder":1,"y":1,"x":0,"visible":false,"var":"prop_answer1","texture":"imagesUI/tishi/yijiesuo.png","name":"prop_answer1"},"nodeParent":43,"label":"prop_answer1","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":46,"child":[{"x":90,"type":"Text","searchKey":"Text,need_prop_text","props":{"y":42,"x":252,"runtime":"Laya.Text","name":"need_prop_text","fontSize":36,"font":"Arial","color":"#d76d00"},"nodeParent":46,"label":"need_prop_text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":47,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,prop_question2,prop_question2","props":{"y":190,"x":23,"visible":false,"var":"prop_question2","texture":"imagesUI/tishi/jiesuo.png","name":"prop_question2"},"nodeParent":43,"label":"prop_question2","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":48,"child":[],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,prop_answer2,prop_answer2","props":{"zOrder":1,"y":174,"x":0,"visible":false,"var":"prop_answer2","texture":"imagesUI/tishi/yijiesuo.png","name":"prop_answer2"},"nodeParent":43,"label":"prop_answer2","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":50,"child":[{"x":90,"type":"Text","searchKey":"Text,need_prop_text","props":{"y":42,"x":252,"runtime":"Laya.Text","name":"need_prop_text","fontSize":36,"font":"Arial","color":"#d76d00"},"nodeParent":50,"label":"need_prop_text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":51,"child":[],"$HIDDEN":false}],"$HIDDEN":false}],"$HIDDEN":false},{"x":60,"type":"Sprite","searchKey":"Sprite,puzzleQW,puzzleQW","props":{"y":25,"x":0,"var":"puzzleQW","name":"puzzleQW"},"nodeParent":24,"label":"puzzleQW","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":42,"child":[{"x":75,"type":"Text","searchKey":"Text","props":{"y":-36,"x":70,"text":"What is this puzzle?","runtime":"Laya.Text","fontSize":36,"font":"Arial","color":"#733b00"},"nodeParent":42,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":19,"child":[],"$HIDDEN":false},{"x":75,"type":"Text","searchKey":"Text","props":{"y":139,"x":70,"text":"Where can I find it?","runtime":"Laya.Text","fontSize":36,"font":"Arial","color":"#733b00"},"nodeParent":42,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":20,"child":[],"$HIDDEN":false},{"x":75,"type":"Text","searchKey":"Text","props":{"y":315,"x":70,"text":"What props do I need?","runtime":"Laya.Text","fontSize":36,"font":"Arial","color":"#733b00"},"nodeParent":42,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":37,"child":[],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,puzzle_question1,puzzle_question1","props":{"y":16,"x":23,"visible":false,"var":"puzzle_question1","texture":"imagesUI/tishi/jiesuo.png","name":"puzzle_question1"},"nodeParent":42,"label":"puzzle_question1","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":18,"child":[],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,puzzle_answer1,puzzle_answer1","props":{"zOrder":1,"y":1,"x":0,"visible":false,"var":"puzzle_answer1","texture":"imagesUI/tishi/yijiesuo.png","name":"puzzle_answer1"},"nodeParent":42,"label":"puzzle_answer1","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":34,"child":[{"x":90,"type":"Text","searchKey":"Text,need_prop_text","props":{"y":42,"x":252,"runtime":"Laya.Text","name":"need_prop_text","fontSize":36,"font":"Arial","color":"#d76d00"},"nodeParent":34,"label":"need_prop_text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":35,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,puzzle_question2,puzzle_question2","props":{"y":189,"x":23,"visible":false,"var":"puzzle_question2","texture":"imagesUI/tishi/jiesuo.png","name":"puzzle_question2"},"nodeParent":42,"label":"puzzle_question2","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":21,"child":[],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,puzzle_answer2,puzzle_answer2","props":{"zOrder":1,"y":175,"x":0,"visible":false,"var":"puzzle_answer2","texture":"imagesUI/tishi/yijiesuo.png","name":"puzzle_answer2"},"nodeParent":42,"label":"puzzle_answer2","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":39,"child":[{"x":90,"type":"Text","searchKey":"Text,need_prop_text","props":{"y":42,"x":252,"runtime":"Laya.Text","name":"need_prop_text","fontSize":36,"font":"Arial","color":"#d76d00"},"nodeParent":39,"label":"need_prop_text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":40,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,puzzle_question3,puzzle_question3","props":{"y":363,"x":23,"visible":false,"var":"puzzle_question3","texture":"imagesUI/tishi/jiesuo.png","name":"puzzle_question3"},"nodeParent":42,"label":"puzzle_question3","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":36,"child":[],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,puzzle_answer3,puzzle_answer3","props":{"zOrder":1,"y":347,"x":0,"visible":false,"var":"puzzle_answer3","texture":"imagesUI/tishi/yijiesuo.png","name":"puzzle_answer3"},"nodeParent":42,"label":"puzzle_answer3","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":23,"child":[{"x":90,"type":"Text","searchKey":"Text,need_prop_text","props":{"y":42,"x":252,"runtime":"Laya.Text","name":"need_prop_text","fontSize":36,"font":"Arial","color":"#d76d00"},"nodeParent":23,"label":"need_prop_text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":27,"child":[],"$HIDDEN":false},{"x":90,"type":"Text","searchKey":"Text","props":{"y":-33,"x":66,"visible":false,"text":"What props do I need?","runtime":"Laya.Text","fontSize":36,"font":"Arial","color":"#733b00"},"nodeParent":23,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":22,"child":[],"$HIDDEN":false}],"$HIDDEN":false}],"$HIDDEN":false},{"x":60,"type":"Sprite","searchKey":"Sprite,question1,question1","props":{"y":41,"x":23,"var":"question1","texture":"imagesUI/tishi/jiesuo.png","name":"question1"},"nodeParent":24,"label":"question1","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":57,"child":[],"$HIDDEN":false},{"x":60,"type":"Sprite","searchKey":"Sprite,answer1,answer1","props":{"zOrder":1,"y":26,"x":0,"visible":false,"var":"answer1","texture":"imagesUI/tishi/yijiesuo.png","name":"answer1"},"nodeParent":24,"label":"answer1","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":58,"child":[{"x":75,"type":"Text","searchKey":"Text,answer_text1,answer_text1","props":{"y":23,"x":78,"wordWrap":true,"width":471,"var":"answer_text1","valign":"middle","text":"使用滑索进入马戏团后，你可以访问下面的下水道。为此，你需要推入笼子并打开活板门","runtime":"Laya.Text","name":"answer_text1","height":76,"fontSize":26,"font":"Arial","color":"#d76d00","align":"left"},"nodeParent":58,"label":"answer_text1","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":63,"child":[],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,icon1,icon1","props":{"y":1,"x":430,"width":120,"var":"icon1","name":"icon1","height":120},"nodeParent":58,"label":"icon1","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":96,"child":[{"x":90,"type":"Image","searchKey":"Image","props":{},"nodeParent":96,"label":"Image","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":102,"child":[],"$HIDDEN":false}],"$HIDDEN":false}],"$HIDDEN":false},{"x":60,"type":"Sprite","searchKey":"Sprite,question2,question2","props":{"y":214,"x":23,"var":"question2","texture":"imagesUI/tishi/jiesuo.png","name":"question2"},"nodeParent":24,"label":"question2","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":59,"child":[],"$HIDDEN":false},{"x":60,"type":"Sprite","searchKey":"Sprite,answer2,answer2","props":{"zOrder":1,"y":199,"x":0,"visible":false,"var":"answer2","texture":"imagesUI/tishi/yijiesuo.png","name":"answer2"},"nodeParent":24,"label":"answer2","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":60,"child":[{"x":75,"type":"Text","searchKey":"Text,answer_text2,answer_text2","props":{"y":23,"x":78,"width":467,"var":"answer_text2","valign":"middle","text":"hammer","runtime":"Laya.Text","name":"answer_text2","height":76,"fontSize":26,"font":"Arial","color":"#d76d00","align":"left"},"nodeParent":60,"label":"answer_text2","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":64,"child":[],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,icon2,icon2","props":{"y":1,"x":430,"width":120,"var":"icon2","name":"icon2","height":120},"nodeParent":60,"label":"icon2","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":100,"child":[{"x":90,"type":"Image","searchKey":"Image","props":{},"nodeParent":100,"label":"Image","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":103,"child":[],"$HIDDEN":false}],"$HIDDEN":false}],"$HIDDEN":false},{"x":60,"type":"Sprite","searchKey":"Sprite,question3,question3","props":{"y":387,"x":23,"var":"question3","texture":"imagesUI/tishi/jiesuo.png","name":"question3"},"nodeParent":24,"label":"question3","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":61,"child":[],"$HIDDEN":false},{"x":60,"type":"Sprite","searchKey":"Sprite,answer3,answer3","props":{"zOrder":1,"y":371,"x":0,"visible":false,"var":"answer3","texture":"imagesUI/tishi/yijiesuo.png","name":"answer3"},"nodeParent":24,"label":"answer3","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":62,"child":[{"x":75,"type":"Text","searchKey":"Text,answer_text3,answer_text3","props":{"y":23,"x":75,"width":474,"var":"answer_text3","valign":"middle","text":"hammer","runtime":"Laya.Text","name":"answer_text3","height":76,"fontSize":26,"font":"Arial","color":"#d76d00","align":"left"},"nodeParent":62,"label":"answer_text3","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":65,"child":[],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,icon3,icon3","props":{"y":1,"x":430,"width":120,"var":"icon3","name":"icon3","height":120},"nodeParent":62,"label":"icon3","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":101,"child":[{"x":90,"type":"Image","searchKey":"Image","props":{},"nodeParent":101,"label":"Image","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":104,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,icon4,icon4","props":{"y":1,"x":265,"width":120,"var":"icon4","name":"icon4","height":120},"nodeParent":62,"label":"icon4","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":107,"child":[{"x":90,"type":"Image","searchKey":"Image","props":{},"nodeParent":107,"label":"Image","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":108,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"x":75,"type":"Sprite","searchKey":"Sprite,icon5,icon5","props":{"y":1,"x":100,"width":120,"var":"icon5","name":"icon5","height":120},"nodeParent":62,"label":"icon5","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":111,"child":[{"x":90,"type":"Image","searchKey":"Image","props":{},"nodeParent":111,"label":"Image","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":112,"child":[],"$HIDDEN":false}],"$HIDDEN":false}],"$HIDDEN":false}],"$HIDDEN":false},{"x":45,"type":"List","searchKey":"List,list,list","props":{"y":-316,"x":-510,"width":604,"var":"list","name":"list","height":560},"nodeParent":88,"label":"list","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":26,"child":[],"$HIDDEN":false},{"x":45,"type":"VScrollBar","searchKey":"VScrollBar","props":{"y":-332,"x":62,"width":32,"visible":false,"height":592},"nodeParent":88,"label":"VScrollBar","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":30,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"x":30,"type":"Sprite","searchKey":"Sprite,left_up_box,left_up_box","props":{"y":0,"x":0,"width":100,"var":"left_up_box","name":"left_up_box","height":100},"nodeParent":82,"label":"left_up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":89,"child":[],"$HIDDEN":false},{"x":30,"type":"Sprite","searchKey":"Sprite,right_up_box,right_up_box","props":{"y":0,"x":1820,"width":100,"var":"right_up_box","name":"right_up_box","height":100},"nodeParent":82,"label":"right_up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":90,"child":[],"$HIDDEN":false},{"x":30,"type":"Sprite","searchKey":"Sprite,left_down_box,left_down_box","props":{"y":980,"x":0,"width":100,"var":"left_down_box","name":"left_down_box","height":100},"nodeParent":82,"label":"left_down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":91,"child":[],"$HIDDEN":false},{"x":30,"type":"Sprite","searchKey":"Sprite,right_down_box,right_down_box","props":{"y":980,"x":1820,"width":100,"var":"right_down_box","name":"right_down_box","height":100},"nodeParent":82,"label":"right_down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":92,"child":[],"$HIDDEN":false}],"$HIDDEN":false},{"x":15,"type":"Sprite","searchKey":"Sprite,no_scale_screen,no_scale_screen","props":{"y":0,"x":0,"var":"no_scale_screen","name":"no_scale_screen"},"nodeParent":2,"label":"no_scale_screen","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":83,"child":[],"$HIDDEN":false}],"animations":[{"nodes":[],"name":"ani1","id":1,"frameRate":24,"action":0}],"$HIDDEN":false},e.HintViewUI=i,m("ui.HintViewUI",i);class a extends p{constructor(){super();}
createChildren(){super.createChildren(),this.createView(a.uiView);}}
a.uiView={"x":0,"type":"View","selectedBox":2,"selecteID":12,"searchKey":"View","props":{"width":1920,"height":1080},"nodeParent":-1,"maxID":80,"loadList3D":[],"loadList":["loading/bg.jpg","loading/t2.png","loading/t1.png","loading/logo(2).png","loading/btnBg.png"],"label":"View","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":2,"child":[{"x":15,"type":"Sprite","searchKey":"Sprite,full_screen_stretch,full_screen_stretch","props":{"y":0,"x":0,"var":"full_screen_stretch","name":"full_screen_stretch"},"nodeParent":2,"label":"full_screen_stretch","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":11,"child":[]},{"x":15,"type":"Sprite","searchKey":"Sprite,full_screen_scale,full_screen_scale","props":{"y":-108,"x":-192,"width":2304,"var":"full_screen_scale","name":"full_screen_scale","height":1296},"nodeParent":2,"label":"full_screen_scale","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":12,"child":[{"x":30,"type":"Sprite","searchKey":"Sprite","props":{"y":0,"x":0,"width":2304,"texture":"loading/bg.jpg","height":1296},"nodeParent":12,"label":"Sprite","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":5,"child":[]}],"$HIDDEN":false},{"x":15,"type":"Sprite","searchKey":"Sprite,scale_screen,scale_screen","props":{"y":0,"x":0,"var":"scale_screen","name":"scale_screen"},"nodeParent":2,"label":"scale_screen","isOpen":false,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":13,"child":[{"type":"Sprite","searchKey":"Sprite,up_box,up_box","props":{"y":0,"x":910,"width":100,"var":"up_box","name":"up_box","height":100},"nodeParent":13,"label":"up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":26,"child":[]},{"type":"Sprite","searchKey":"Sprite,left_box,left_box","props":{"y":492,"x":0,"width":100,"var":"left_box","name":"left_box","height":100},"nodeParent":13,"label":"left_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":29,"child":[]},{"type":"Sprite","searchKey":"Sprite,down_box,down_box","props":{"y":984,"x":889,"width":100,"var":"down_box","name":"down_box","height":100},"nodeParent":13,"label":"down_box","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":32,"child":[{"type":"Sprite","searchKey":"Sprite,loading_hslider","props":{"y":-89,"x":-688,"name":"loading_hslider"},"nodeParent":32,"label":"loading_hslider","isOpen":null,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":9,"child":[{"type":"Sprite","searchKey":"Sprite,hslider_bg","props":{"y":18,"x":44,"texture":"loading/t2.png","name":"hslider_bg"},"nodeParent":9,"label":"hslider_bg","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":7,"child":[]},{"type":"Sprite","searchKey":"Sprite,hslider_progres,hslider_progres","props":{"y":0,"x":38,"var":"hslider_progres","texture":"loading/t1.png","scaleX":1,"name":"hslider_progres"},"nodeParent":9,"label":"hslider_progres","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":8,"child":[]},{"type":"Text","searchKey":"Text,progres_text,progres_text","props":{"y":-32,"x":749,"var":"progres_text","text":"20%","runtime":"Laya.Text","name":"progres_text","fontSize":48,"color":"#ffffff"},"nodeParent":9,"label":"progres_text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":10,"child":[]}]},{"type":"Text","searchKey":"Text,hint_text,hint_text","props":{"y":-37,"x":-688,"wordWrap":true,"width":1556,"var":"hint_text","valign":"top","text":"Loading…","runtime":"Laya.Text","overflow":"visible","name":"hint_text","italic":true,"height":56,"fontSize":24,"color":"#ffffff","align":"center"},"nodeParent":32,"label":"hint_text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":64,"child":[]},{"type":"Panel","searchKey":"Panel,show_custom_ad_pos","props":{"y":-369,"x":-652,"width":180,"visible":false,"name":"show_custom_ad_pos","height":280,"bgColor":"#ff7cd5"},"nodeParent":32,"label":"show_custom_ad_pos","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":67,"child":[]},{"type":"Panel","searchKey":"Panel,show_custom_ad_pos","props":{"y":-369,"x":573,"width":180,"visible":false,"name":"show_custom_ad_pos","height":280,"bgColor":"#ff7cd5"},"nodeParent":32,"label":"show_custom_ad_pos","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":68,"child":[]}],"$HIDDEN":false},{"type":"Sprite","searchKey":"Sprite,right_box,right_box","props":{"y":504,"x":1820,"width":100,"var":"right_box","name":"right_box","height":100},"nodeParent":13,"label":"right_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":39,"child":[]},{"type":"Sprite","searchKey":"Sprite,center_box,center_box","props":{"y":491,"x":910,"width":100,"var":"center_box","name":"center_box","height":100},"nodeParent":13,"label":"center_box","isOpen":false,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":42,"child":[{"type":"Sprite","searchKey":"Sprite","props":{"y":-329,"x":145,"visible":false,"texture":"loading/logo(2).png"},"nodeParent":42,"label":"Sprite","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":6,"child":[]},{"type":"Sprite","searchKey":"Sprite,loadLose,loadLose","props":{"y":42,"x":42,"visible":false,"var":"loadLose","name":"loadLose"},"nodeParent":42,"label":"loadLose","isOpen":null,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":76,"child":[{"type":"Panel","searchKey":"Panel","props":{"y":-182,"x":-389,"width":794,"height":380,"bgColor":"#000000","alpha":0.8},"nodeParent":76,"label":"Panel","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":75,"child":[]},{"type":"Text","searchKey":"Text,text2","props":{"y":-145,"x":-285,"wordWrap":true,"width":585,"var":"text2","valign":"middle","runtime":"Laya.Text","height":164,"fontSize":48,"color":"#ffffff","align":"center"},"nodeParent":76,"label":"text2","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":77,"child":[]},{"type":"Button","searchKey":"Button,back,back","props":{"y":102,"x":-78,"width":172,"visible":false,"var":"back","stateNum":3,"skin":"loading/btnBg.png","sizeGrid":"9,12,9,10","name":"back","labelStrokeColor":"#000000","labelSize":36,"labelBold":true,"labelAlign":"center","label":"返回主页","height":57},"nodeParent":76,"label":"back","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":78,"child":[]}],"$HIDDEN":true}],"$HIDDEN":true},{"type":"Sprite","searchKey":"Sprite,left_up_box,left_up_box","props":{"y":0,"x":0,"width":100,"var":"left_up_box","name":"left_up_box","height":100},"nodeParent":13,"label":"left_up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":52,"child":[]},{"type":"Sprite","searchKey":"Sprite,right_up_box,right_up_box","props":{"y":0,"x":1820,"width":100,"var":"right_up_box","name":"right_up_box","height":100},"nodeParent":13,"label":"right_up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":55,"child":[]},{"type":"Sprite","searchKey":"Sprite,left_down_box,left_down_box","props":{"y":984,"x":0,"width":100,"var":"left_down_box","name":"left_down_box","height":100},"nodeParent":13,"label":"left_down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":58,"child":[]},{"type":"Sprite","searchKey":"Sprite,right_down_box,right_down_box","props":{"y":984,"x":1820,"width":100,"var":"right_down_box","name":"right_down_box","height":100},"nodeParent":13,"label":"right_down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":61,"child":[]}],"$HIDDEN":false},{"x":15,"type":"Sprite","searchKey":"Sprite,no_scale_screen,no_scale_screen","props":{"y":0,"x":0,"var":"no_scale_screen","name":"no_scale_screen"},"nodeParent":2,"label":"no_scale_screen","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":14,"child":[]},{"x":15,"type":"Label","searchKey":"Label","props":{"wordWrap":true,"width":1556,"valign":"top","text":"Loading......","strokeColor":"#000000","stroke":3,"overflow":"visible","italic":true,"height":56,"fontSize":60,"color":"#ffffff","centerY":0,"centerX":0,"align":"center"},"nodeParent":2,"label":"Label","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":79,"child":[]}],"animations":[{"nodes":[],"name":"ani1","id":1,"frameRate":24,"action":0}]},e.LoadingViewUI=a,m("ui.LoadingViewUI",a);class s extends p{constructor(){super();}
createChildren(){super.createChildren(),this.createView(s.uiView);}}
s.uiView={"x":0,"type":"View","selectedBox":15,"selecteID":65,"searchKey":"View","props":{"y":0,"x":0,"width":1920,"height":1080},"nodeParent":-1,"maxID":66,"loadList3D":[],"loadList":["imagesUI/shouye-kaiju/bg1.png","imagesUI/shouye-kaiju/kaishiyouxi.png"],"label":"View","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":2,"child":[{"x":15,"type":"Panel","searchKey":"Panel","props":{"visible":false,"top":0,"right":0,"left":0,"bottom":0,"bgColor":"#20b21a"},"nodeParent":2,"label":"Panel","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":12,"child":[]},{"x":15,"type":"Panel","searchKey":"Panel,bg","props":{"visible":false,"top":0,"right":0,"name":"bg","left":0,"bottom":0,"bgColor":"#000000"},"nodeParent":2,"label":"bg","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":10,"child":[]},{"x":15,"type":"Sprite","searchKey":"Sprite,rod_sprite,rod_sprite","props":{"y":532,"x":952,"width":0,"var":"rod_sprite","name":"rod_sprite","height":0},"nodeParent":2,"label":"rod_sprite","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":9,"child":[]},{"x":15,"type":"Sprite","searchKey":"Sprite,full_screen_stretch,full_screen_stretch","props":{"y":0,"x":0,"var":"full_screen_stretch","name":"full_screen_stretch"},"nodeParent":2,"label":"full_screen_stretch","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":13,"child":[]},{"x":15,"type":"Sprite","searchKey":"Sprite,full_screen_scale,full_screen_scale","props":{"y":0,"x":0,"var":"full_screen_scale","name":"full_screen_scale"},"nodeParent":2,"label":"full_screen_scale","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":14,"child":[]},{"x":15,"type":"Image","searchKey":"Image,scale_screen,scale_screen","props":{"var":"scale_screen","top":0,"right":0,"name":"scale_screen","left":0,"bottom":0},"nodeParent":2,"label":"scale_screen","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":15,"child":[{"x":30,"type":"Sprite","searchKey":"Sprite,up_box,up_box","props":{"y":0,"x":910,"width":100,"var":"up_box","name":"up_box","height":100},"nodeParent":15,"label":"up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":32,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,left_box,left_box","props":{"y":490,"x":0,"width":100,"var":"left_box","name":"left_box","height":100},"nodeParent":15,"label":"left_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":35,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,down_box,down_box","props":{"y":980,"x":910,"width":100,"var":"down_box","name":"down_box","height":100},"nodeParent":15,"label":"down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":38,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,right_box,right_box","props":{"y":490,"x":1820,"width":100,"var":"right_box","name":"right_box","height":100},"nodeParent":15,"label":"right_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":45,"child":[]},{"x":30,"type":"Image","searchKey":"Image,center_box,center_box","props":{"width":100,"var":"center_box","name":"center_box","height":100,"centerY":0,"centerX":0},"nodeParent":15,"label":"center_box","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":48,"child":[{"x":45,"type":"Sprite","searchKey":"Sprite,logo","props":{"y":-404,"x":-227,"visible":false,"texture":"imagesUI/shouye-kaiju/bg1.png","scaleY":1.4,"scaleX":1.4,"name":"logo"},"nodeParent":48,"label":"logo","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":5,"child":[]},{"x":45,"type":"Sprite","searchKey":"Sprite,start_game,start_game","props":{"y":62,"x":-341,"width":782,"var":"start_game","texture":"imagesUI/shouye-kaiju/kaishiyouxi.png","name":"start_game","height":153},"nodeParent":48,"label":"start_game","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":7,"child":[]},{"x":45,"type":"Text","searchKey":"Text,2","props":{"y":-58,"x":22,"visible":false,"text":"2","runtime":"Laya.Text","name":"2","fontSize":100,"font":"Arial","color":"#ffffff"},"nodeParent":48,"label":"2","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":8,"child":[]}]},{"x":30,"type":"Sprite","searchKey":"Sprite,left_up_box,left_up_box","props":{"y":0,"x":0,"width":100,"var":"left_up_box","name":"left_up_box","height":100},"nodeParent":15,"label":"left_up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":54,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,right_up_box,right_up_box","props":{"y":0,"x":1820,"width":100,"var":"right_up_box","name":"right_up_box","height":100},"nodeParent":15,"label":"right_up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":57,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,left_down_box,left_down_box","props":{"y":980,"x":0,"width":100,"var":"left_down_box","name":"left_down_box","height":100},"nodeParent":15,"label":"left_down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":60,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,right_down_box,right_down_box","props":{"y":980,"x":1820,"width":100,"var":"right_down_box","name":"right_down_box","height":100},"nodeParent":15,"label":"right_down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":63,"child":[]},{"x":30,"type":"Image","searchKey":"Image,soundBtn,soundBtn","props":{"var":"soundBtn","top":138,"skin":"imagesUI/youxi/sound0.png","name":"soundBtn","left":94,"anchorY":0.5,"anchorX":0.5},"nodeParent":15,"label":"soundBtn","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":64,"child":[]},{"x":30,"type":"Image","searchKey":"Image","props":{"top":86,"skin":"imagesUI/shouye-kaiju/bg1.png","scaleY":1.4,"scaleX":1.4,"centerX":0},"nodeParent":15,"label":"Image","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":65,"child":[]}],"$HIDDEN":false},{"x":15,"type":"Sprite","searchKey":"Sprite,no_scale_screen,no_scale_screen","props":{"y":0,"x":0,"var":"no_scale_screen","name":"no_scale_screen"},"nodeParent":2,"label":"no_scale_screen","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":16,"child":[]}],"animations":[{"nodes":[],"name":"ani1","id":1,"frameRate":24,"action":0}]},e.MainViewUI=s,m("ui.MainViewUI",s);class o extends p{constructor(){super();}
createChildren(){super.createChildren(),this.createView(o.uiView);}}
o.uiView={"x":0,"type":"View","selectedBox":85,"selecteID":91,"searchKey":"View","props":{"width":1920,"height":1080},"nodeParent":-1,"maxID":121,"loadList3D":[],"loadList":["imagesUI/map/dizhi.png","imagesUI/map/xuanzhong.png","imagesUI/map/maxi.png","imagesUI/map/huotan.png","imagesUI/map/linju.png","imagesUI/map/dianying.png","imagesUI/map/mudi.png","imagesUI/tishi/bg1.png","imagesUI/shezhi/x.png","imagesUI/map/mianban.png"],"label":"View","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":2,"child":[{"x":15,"type":"Sprite","searchKey":"Sprite,others","props":{"y":0,"x":0,"name":"others"},"nodeParent":2,"label":"others","isOpen":null,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":96,"child":[{"type":"Sprite","searchKey":"Sprite,template ","props":{"y":505,"x":523,"width":180,"visible":false,"name":"template ","height":182},"nodeParent":96,"label":"template ","isDirectory":true,"isAniNode":true,"hasChild":true,"compId":20,"child":[{"type":"Sprite","searchKey":"Sprite,dizhi","props":{"y":189,"x":7,"texture":"imagesUI/map/dizhi.png","name":"dizhi"},"nodeParent":20,"label":"dizhi","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":14,"child":[]},{"type":"Sprite","searchKey":"Sprite,select_box","props":{"y":1,"x":0,"width":180,"texture":"imagesUI/map/xuanzhong.png","name":"select_box","height":180},"nodeParent":20,"label":"select_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":13,"child":[]},{"type":"Sprite","searchKey":"Sprite,2_1maxituan","props":{"y":34,"x":24,"texture":"imagesUI/map/maxi.png","name":"2_1maxituan"},"nodeParent":20,"label":"2_1maxituan","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":15,"child":[]},{"type":"Sprite","searchKey":"Sprite,4_1huotan","props":{"y":54,"x":21,"texture":"imagesUI/map/huotan.png","name":"4_1huotan"},"nodeParent":20,"label":"4_1huotan","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":16,"child":[]},{"type":"Sprite","searchKey":"Sprite,1_1xiaozhen","props":{"y":22,"x":17,"texture":"imagesUI/map/linju.png","name":"1_1xiaozhen"},"nodeParent":20,"label":"1_1xiaozhen","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":17,"child":[]},{"type":"Sprite","searchKey":"Sprite,5_1cheku","props":{"y":28,"x":18,"texture":"imagesUI/map/dianying.png","name":"5_1cheku"},"nodeParent":20,"label":"5_1cheku","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":18,"child":[]},{"type":"Sprite","searchKey":"Sprite,3_1mudi","props":{"y":4,"x":40,"texture":"imagesUI/map/mudi.png","name":"3_1mudi"},"nodeParent":20,"label":"3_1mudi","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":19,"child":[]}]},{"type":"Sprite","searchKey":"Sprite,icon_sprite,icon_sprite","props":{"y":-20,"x":0,"var":"icon_sprite","name":"icon_sprite"},"nodeParent":96,"label":"icon_sprite","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":82,"child":[]}]},{"x":15,"type":"Sprite","searchKey":"Sprite,full_screen_stretch,full_screen_stretch","props":{"y":0,"x":0,"var":"full_screen_stretch","name":"full_screen_stretch"},"nodeParent":2,"label":"full_screen_stretch","isOpen":null,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":83,"child":[{"type":"Sprite","searchKey":"Sprite,bg","props":{"y":0,"x":0,"texture":"imagesUI/tishi/bg1.png","name":"bg"},"nodeParent":83,"label":"bg","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":97,"child":[]}]},{"x":15,"type":"Sprite","searchKey":"Sprite,full_screen_scale,full_screen_scale","props":{"y":0,"x":0,"var":"full_screen_scale","name":"full_screen_scale"},"nodeParent":2,"label":"full_screen_scale","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":84,"child":[]},{"x":15,"type":"Image","searchKey":"Image,scale_screen,scale_screen","props":{"var":"scale_screen","top":0,"right":0,"name":"scale_screen","left":0,"bottom":0},"nodeParent":2,"label":"scale_screen","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":85,"child":[{"x":30,"type":"Sprite","searchKey":"Sprite,up_box,up_box","props":{"y":0,"x":910,"width":100,"var":"up_box","name":"up_box","height":100},"nodeParent":85,"label":"up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":87,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,left_box,left_box","props":{"y":490,"x":0,"width":100,"var":"left_box","name":"left_box","height":100},"nodeParent":85,"label":"left_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":88,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,down_box,down_box","props":{"y":980,"x":910,"width":100,"var":"down_box","name":"down_box","height":100},"nodeParent":85,"label":"down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":89,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,right_box,right_box","props":{"y":490,"x":1820,"width":100,"var":"right_box","name":"right_box","height":100},"nodeParent":85,"label":"right_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":90,"child":[]},{"x":30,"type":"Image","searchKey":"Image,center_box,center_box","props":{"width":100,"var":"center_box","name":"center_box","height":100,"centerY":0,"centerX":0},"nodeParent":85,"label":"center_box","isOpen":null,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":91,"child":[{"type":"Sprite","searchKey":"Sprite,close_btn,close_btn","props":{"y":-460,"x":410,"var":"close_btn","texture":"imagesUI/shezhi/x.png","name":"close_btn"},"nodeParent":91,"label":"close_btn","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":77,"child":[]},{"type":"Sprite","searchKey":"Sprite,bg,bg","props":{"y":-5,"x":50,"width":1279,"var":"bg","texture":"imagesUI/map/mianban.png","pivotY":376,"pivotX":640,"name":"bg","height":752},"nodeParent":91,"label":"bg","isDirectory":true,"isAniNode":true,"hasChild":true,"compId":4,"child":[{"type":"Sprite","searchKey":"Sprite,xiaozhen,xiaozhen","props":{"y":316,"x":549.5,"width":180,"var":"xiaozhen","name":"xiaozhen","height":182},"nodeParent":4,"label":"xiaozhen","isDirectory":true,"isAniNode":true,"hasChild":true,"compId":29,"child":[{"type":"Sprite","searchKey":"Sprite,dizhi","props":{"y":189,"x":7,"texture":"imagesUI/map/dizhi.png","name":"dizhi"},"nodeParent":29,"label":"dizhi","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":30,"child":[]},{"type":"Sprite","searchKey":"Sprite,select_box","props":{"width":180,"texture":"imagesUI/map/xuanzhong.png","name":"select_box","height":180},"nodeParent":29,"label":"select_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":31,"child":[]},{"type":"Sprite","searchKey":"Sprite,img","props":{"y":1,"x":18,"texture":"imagesUI/map/linju.png","name":"img"},"nodeParent":29,"label":"img","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":34,"child":[]}]},{"type":"Sprite","searchKey":"Sprite,maxituan,maxituan","props":{"y":389,"x":160,"width":180,"var":"maxituan","name":"maxituan","height":182},"nodeParent":4,"label":"maxituan","isDirectory":true,"isAniNode":true,"hasChild":true,"compId":37,"child":[{"type":"Sprite","searchKey":"Sprite,dizhi","props":{"y":189,"x":7,"texture":"imagesUI/map/dizhi.png","name":"dizhi"},"nodeParent":37,"label":"dizhi","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":38,"child":[]},{"type":"Sprite","searchKey":"Sprite,select_box","props":{"width":180,"texture":"imagesUI/map/xuanzhong.png","name":"select_box","height":180},"nodeParent":37,"label":"select_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":39,"child":[]},{"type":"Sprite","searchKey":"Sprite,img","props":{"y":13,"x":24,"texture":"imagesUI/map/maxi.png","name":"img"},"nodeParent":37,"label":"img","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":40,"child":[]}]},{"type":"Sprite","searchKey":"Sprite,mudi,mudi","props":{"y":447,"x":1013,"width":180,"var":"mudi","name":"mudi","height":182},"nodeParent":4,"label":"mudi","isDirectory":true,"isAniNode":true,"hasChild":true,"compId":45,"child":[{"type":"Sprite","searchKey":"Sprite,dizhi","props":{"y":189,"x":7,"texture":"imagesUI/map/dizhi.png","name":"dizhi"},"nodeParent":45,"label":"dizhi","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":46,"child":[]},{"type":"Sprite","searchKey":"Sprite,select_box","props":{"width":180,"texture":"imagesUI/map/xuanzhong.png","name":"select_box","height":180},"nodeParent":45,"label":"select_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":47,"child":[]},{"type":"Sprite","searchKey":"Sprite,img","props":{"y":-17,"x":40,"texture":"imagesUI/map/mudi.png","name":"img"},"nodeParent":45,"label":"img","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":52,"child":[]}]},{"type":"Sprite","searchKey":"Sprite,huotan,huotan","props":{"y":79,"x":300,"width":180,"var":"huotan","name":"huotan","height":182},"nodeParent":4,"label":"huotan","isDirectory":true,"isAniNode":true,"hasChild":true,"compId":53,"child":[{"type":"Sprite","searchKey":"Sprite,dizhi","props":{"y":189,"x":7,"texture":"imagesUI/map/dizhi.png","name":"dizhi"},"nodeParent":53,"label":"dizhi","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":54,"child":[]},{"type":"Sprite","searchKey":"Sprite,select_box","props":{"width":180,"texture":"imagesUI/map/xuanzhong.png","name":"select_box","height":180},"nodeParent":53,"label":"select_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":55,"child":[]},{"type":"Sprite","searchKey":"Sprite,img","props":{"y":33,"x":21,"texture":"imagesUI/map/huotan.png","name":"img"},"nodeParent":53,"label":"img","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":57,"child":[]}]},{"type":"Sprite","searchKey":"Sprite,cheku,cheku","props":{"y":124,"x":879,"width":180,"var":"cheku","name":"cheku","height":182},"nodeParent":4,"label":"cheku","isDirectory":true,"isAniNode":true,"hasChild":true,"compId":61,"child":[{"type":"Sprite","searchKey":"Sprite,dizhi","props":{"y":189,"x":7,"texture":"imagesUI/map/dizhi.png","name":"dizhi"},"nodeParent":61,"label":"dizhi","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":62,"child":[]},{"type":"Sprite","searchKey":"Sprite,select_box","props":{"width":180,"texture":"imagesUI/map/xuanzhong.png","name":"select_box","height":180},"nodeParent":61,"label":"select_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":63,"child":[]},{"type":"Sprite","searchKey":"Sprite,img","props":{"y":7,"x":18,"texture":"imagesUI/map/dianying.png","name":"img"},"nodeParent":61,"label":"img","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":67,"child":[]}]}]}]},{"x":30,"type":"Sprite","searchKey":"Sprite,left_up_box,left_up_box","props":{"y":0,"x":0,"width":100,"var":"left_up_box","name":"left_up_box","height":100},"nodeParent":85,"label":"left_up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":92,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,right_up_box,right_up_box","props":{"y":0,"x":1820,"width":100,"var":"right_up_box","name":"right_up_box","height":100},"nodeParent":85,"label":"right_up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":93,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,left_down_box,left_down_box","props":{"y":980,"x":0,"width":100,"var":"left_down_box","name":"left_down_box","height":100},"nodeParent":85,"label":"left_down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":94,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,right_down_box,right_down_box","props":{"y":980,"x":1820,"width":100,"var":"right_down_box","name":"right_down_box","height":100},"nodeParent":85,"label":"right_down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":95,"child":[]}]},{"x":15,"type":"Sprite","searchKey":"Sprite,no_scale_screen,no_scale_screen","props":{"y":0,"x":0,"var":"no_scale_screen","name":"no_scale_screen"},"nodeParent":2,"label":"no_scale_screen","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":86,"child":[]},{"x":15,"type":"Sprite","searchKey":"Sprite,novice_guide,novice_guide","props":{"y":1,"x":0,"visible":true,"var":"novice_guide","name":"novice_guide"},"nodeParent":2,"label":"novice_guide","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":120,"child":[]}],"animations":[{"nodes":[],"name":"ani1","id":1,"frameRate":24,"action":0}]},e.MapViewUI=o,m("ui.MapViewUI",o);class r extends p{constructor(){super();}
createChildren(){super.createChildren(),this.createView(r.uiView);}}
r.uiView={"x":0,"type":"View","selectedBox":87,"selecteID":98,"searchKey":"View","props":{"width":1920,"sceneColor":"#efefef","height":1080},"nodeParent":-1,"maxID":99,"loadList3D":[],"loadList":["imagesUI/tishi/bg1.png","imagesUI/shouye-kaiju/mianban.png","imagesUI/shouye-kaiju/mianban2.png","imagesUI/shouye-kaiju/xuanzhong.png","imagesUI/shouye-kaiju/lj.png","imagesUI/shouye-kaiju/bg.png","imagesUI/shouye-kaiju/bg1.png","imagesUI/shouye-kaiju/kaishiyouxi1.png"],"label":"View","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":2,"child":[{"x":15,"type":"Sprite","searchKey":"Sprite,rod_sprite,rod_sprite","props":{"y":535,"x":952,"width":0,"var":"rod_sprite","name":"rod_sprite","height":0},"nodeParent":2,"label":"rod_sprite","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":78,"child":[],"$HIDDEN":false},{"x":15,"type":"Image","searchKey":"Image,full_screen_stretch,full_screen_stretch","props":{"var":"full_screen_stretch","top":0,"right":0,"name":"full_screen_stretch","left":0,"bottom":0},"nodeParent":2,"label":"full_screen_stretch","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":79,"child":[{"x":30,"type":"Image","searchKey":"Image,bg,bg","props":{"var":"bg","top":0,"skin":"imagesUI/tishi/bg1.png","right":0,"name":"bg","left":0,"bottom":0},"nodeParent":79,"label":"bg","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":77,"child":[]}],"$HIDDEN":false},{"x":15,"type":"Sprite","searchKey":"Sprite,full_screen_scale,full_screen_scale","props":{"y":0,"x":0,"var":"full_screen_scale","name":"full_screen_scale"},"nodeParent":2,"label":"full_screen_scale","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":80,"child":[],"$HIDDEN":false},{"x":15,"type":"Image","searchKey":"Image,scale_screen,scale_screen","props":{"var":"scale_screen","top":0,"right":0,"name":"scale_screen","left":0,"bottom":0},"nodeParent":2,"label":"scale_screen","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":81,"child":[{"x":30,"type":"Sprite","searchKey":"Sprite,up_box,up_box","props":{"y":0,"x":910,"width":100,"var":"up_box","name":"up_box","height":100},"nodeParent":81,"label":"up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":83,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,left_box,left_box","props":{"y":490,"x":0,"width":100,"var":"left_box","name":"left_box","height":100},"nodeParent":81,"label":"left_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":84,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,down_box,down_box","props":{"y":980,"x":910,"width":100,"var":"down_box","name":"down_box","height":100},"nodeParent":81,"label":"down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":85,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,right_box,right_box","props":{"y":490,"x":1820,"width":100,"var":"right_box","name":"right_box","height":100},"nodeParent":81,"label":"right_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":86,"child":[]},{"x":30,"type":"Image","searchKey":"Image,center_box,center_box","props":{"width":100,"var":"center_box","name":"center_box","height":100,"centerY":0,"centerX":0},"nodeParent":81,"label":"center_box","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":87,"child":[{"x":45,"type":"Sprite","searchKey":"Sprite,bg_white","props":{"y":-23,"x":50,"width":1920,"texture":"imagesUI/shouye-kaiju/mianban.png","pivotY":317,"pivotX":960,"name":"bg_white","height":634},"nodeParent":87,"label":"bg_white","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":4,"child":[],"$HIDDEN":true},{"x":45,"type":"Sprite","searchKey":"Sprite,bg_brown","props":{"y":-24,"x":211,"width":1526,"texture":"imagesUI/shouye-kaiju/mianban2.png","pivotY":301,"pivotX":763,"name":"bg_brown","height":601},"nodeParent":87,"label":"bg_brown","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":5,"child":[]},{"x":45,"type":"Sprite","searchKey":"Sprite","props":{"y":-397,"x":-206,"texture":"imagesUI/shouye-kaiju/titile.png"},"nodeParent":87,"label":"Sprite","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":98,"child":[]},{"x":45,"type":"List","searchKey":"List,list,list","props":{"y":-282,"x":-911,"width":362,"var":"list","name":"list","height":530},"nodeParent":87,"label":"list","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":7,"child":[]},{"x":45,"type":"List","searchKey":"List,list2","props":{"y":-229,"x":546,"width":350,"visible":false,"name":"list2","height":411},"nodeParent":87,"label":"list2","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":10,"child":[]},{"x":45,"type":"Sprite","searchKey":"Sprite,choose_brown","props":{"y":-256,"x":-892,"visible":false,"texture":"imagesUI/shouye-kaiju/xuanzhong.png","name":"choose_brown"},"nodeParent":87,"label":"choose_brown","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":9,"child":[]},{"x":45,"type":"Sprite","searchKey":"Sprite,mode_explain,mode_explain","props":{"y":-244,"x":550,"var":"mode_explain","name":"mode_explain"},"nodeParent":87,"label":"mode_explain","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":73,"child":[{"x":60,"type":"Sprite","searchKey":"Sprite,mode_explain1,mode_explain1","props":{"visible":false,"var":"mode_explain1","name":"mode_explain1"},"nodeParent":73,"label":"mode_explain1","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":26,"child":[{"x":75,"type":"Text","searchKey":"Text,title","props":{"x":144,"text":"Rule","runtime":"Laya.Text","name":"title","fontSize":36,"color":"#ffffff"},"nodeParent":26,"label":"title","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":25,"child":[]},{"x":75,"type":"Sprite","searchKey":"Sprite,text1","props":{"y":73,"name":"text1"},"nodeParent":26,"label":"text1","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":15,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,book","props":{"y":3,"texture":"imagesUI/shouye-kaiju/lj.png","name":"book"},"nodeParent":15,"label":"book","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":13,"child":[]},{"x":90,"type":"Text","searchKey":"Text,text,text","props":{"y":-18,"x":86,"wordWrap":true,"width":268,"var":"text","valign":"middle","text":"Rod can't see you","runtime":"Laya.Text","name":"text","height":57,"fontSize":28,"color":"#ffffff"},"nodeParent":15,"label":"text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":14,"child":[]}]},{"x":75,"type":"Sprite","searchKey":"Sprite,text2","props":{"y":172,"visible":false,"name":"text2"},"nodeParent":26,"label":"text2","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":16,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,book","props":{"y":3,"texture":"imagesUI/shouye-kaiju/lj.png","name":"book"},"nodeParent":16,"label":"book","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":17,"child":[]},{"x":90,"type":"Text","searchKey":"Text,text","props":{"y":-18,"x":86,"wordWrap":true,"width":268,"valign":"middle","text":"游戏中有广告","runtime":"Laya.Text","name":"text","height":57,"fontSize":28,"color":"#ffffff"},"nodeParent":16,"label":"text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":18,"child":[]}]},{"x":75,"type":"Sprite","searchKey":"Sprite,text3","props":{"y":270,"visible":false,"name":"text3"},"nodeParent":26,"label":"text3","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":19,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,book","props":{"y":3,"texture":"imagesUI/shouye-kaiju/lj.png","name":"book"},"nodeParent":19,"label":"book","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":20,"child":[]},{"x":90,"type":"Text","searchKey":"Text,text","props":{"y":-18,"x":86,"wordWrap":true,"width":268,"valign":"middle","text":"夜晚更黑了","runtime":"Laya.Text","name":"text","height":57,"fontSize":28,"color":"#ffffff"},"nodeParent":19,"label":"text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":21,"child":[]}]},{"x":75,"type":"Sprite","searchKey":"Sprite,text4","props":{"y":369,"visible":false,"name":"text4"},"nodeParent":26,"label":"text4","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":22,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,book","props":{"y":3,"texture":"imagesUI/shouye-kaiju/lj.png","name":"book"},"nodeParent":22,"label":"book","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":23,"child":[]},{"x":90,"type":"Text","searchKey":"Text,text","props":{"y":-18,"x":86,"wordWrap":true,"width":268,"valign":"middle","text":"夜晚更黑了","runtime":"Laya.Text","name":"text","height":57,"fontSize":28,"color":"#ffffff"},"nodeParent":22,"label":"text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":24,"child":[]}]}]},{"x":60,"type":"Sprite","searchKey":"Sprite,mode_explain2,mode_explain2","props":{"visible":false,"var":"mode_explain2","name":"mode_explain2"},"nodeParent":73,"label":"mode_explain2","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":27,"child":[{"x":75,"type":"Text","searchKey":"Text,title","props":{"x":144,"text":"Rule","runtime":"Laya.Text","name":"title","fontSize":36,"color":"#ffffff"},"nodeParent":27,"label":"title","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":28,"child":[]},{"x":75,"type":"Sprite","searchKey":"Sprite,text1","props":{"y":73,"name":"text1"},"nodeParent":27,"label":"text1","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":29,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,book","props":{"y":3,"texture":"imagesUI/shouye-kaiju/lj.png","name":"book"},"nodeParent":29,"label":"book","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":30,"child":[]},{"x":90,"type":"Text","searchKey":"Text,text","props":{"y":-18,"x":86,"wordWrap":true,"width":268,"text":"Rod walks at normal speed","runtime":"Laya.Text","name":"text","height":57,"fontSize":28,"color":"#ffffff"},"nodeParent":29,"label":"text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":31,"child":[]}]},{"x":75,"type":"Sprite","searchKey":"Sprite,text2","props":{"y":172,"name":"text2"},"nodeParent":27,"label":"text2","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":32,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,book","props":{"y":3,"texture":"imagesUI/shouye-kaiju/lj.png","name":"book"},"nodeParent":32,"label":"book","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":33,"child":[]},{"x":90,"type":"Text","searchKey":"Text,text","props":{"y":-18,"x":86,"wordWrap":true,"width":268,"valign":"middle","text":"The day is dark","runtime":"Laya.Text","name":"text","height":57,"fontSize":28,"color":"#ffffff"},"nodeParent":32,"label":"text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":34,"child":[]}]},{"x":75,"type":"Sprite","searchKey":"Sprite,text3","props":{"y":270,"name":"text3"},"nodeParent":27,"label":"text3","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":35,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,book","props":{"y":3,"texture":"imagesUI/shouye-kaiju/lj.png","name":"book"},"nodeParent":35,"label":"book","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":36,"child":[]},{"x":90,"type":"Text","searchKey":"Text,text","props":{"y":-18,"x":86,"wordWrap":true,"width":268,"valign":"middle","text":"You have 3 chances!","runtime":"Laya.Text","name":"text","height":57,"fontSize":28,"color":"#ffffff"},"nodeParent":35,"label":"text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":37,"child":[]}]},{"x":75,"type":"Sprite","searchKey":"Sprite,text4","props":{"y":369,"visible":false,"name":"text4"},"nodeParent":27,"label":"text4","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":38,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,book","props":{"y":3,"texture":"imagesUI/shouye-kaiju/lj.png","name":"book"},"nodeParent":38,"label":"book","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":39,"child":[]},{"x":90,"type":"Text","searchKey":"Text,text","props":{"y":-18,"x":86,"wordWrap":true,"width":268,"valign":"middle","text":"The night is getting darker","runtime":"Laya.Text","name":"text","height":57,"fontSize":28,"color":"#ffffff"},"nodeParent":38,"label":"text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":93,"child":[]}]}]},{"x":60,"type":"Sprite","searchKey":"Sprite,mode_explain3,mode_explain3","props":{"visible":false,"var":"mode_explain3","name":"mode_explain3"},"nodeParent":73,"label":"mode_explain3","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":41,"child":[{"x":75,"type":"Text","searchKey":"Text,title","props":{"x":144,"text":"Rule","runtime":"Laya.Text","name":"title","fontSize":36,"color":"#ffffff"},"nodeParent":41,"label":"title","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":42,"child":[]},{"x":75,"type":"Sprite","searchKey":"Sprite,text1","props":{"y":73,"name":"text1"},"nodeParent":41,"label":"text1","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":43,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,book","props":{"y":3,"texture":"imagesUI/shouye-kaiju/lj.png","name":"book"},"nodeParent":43,"label":"book","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":44,"child":[]},{"x":90,"type":"Text","searchKey":"Text,text","props":{"y":-18,"x":86,"wordWrap":true,"width":268,"valign":"middle","text":"Rod walks fast","runtime":"Laya.Text","name":"text","height":57,"fontSize":28,"color":"#ffffff"},"nodeParent":43,"label":"text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":45,"child":[]}]},{"x":75,"type":"Sprite","searchKey":"Sprite,text2","props":{"y":172,"name":"text2"},"nodeParent":41,"label":"text2","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":46,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,book","props":{"y":3,"texture":"imagesUI/shouye-kaiju/lj.png","name":"book"},"nodeParent":46,"label":"book","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":47,"child":[]},{"x":90,"type":"Text","searchKey":"Text,text","props":{"y":-18,"x":86,"wordWrap":true,"width":268,"valign":"middle","text":"Rod can hear everything","runtime":"Laya.Text","name":"text","height":57,"fontSize":28,"color":"#ffffff"},"nodeParent":46,"label":"text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":94,"child":[]}]},{"x":75,"type":"Sprite","searchKey":"Sprite,text3","props":{"y":270,"name":"text3"},"nodeParent":41,"label":"text3","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":49,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,book","props":{"y":3,"texture":"imagesUI/shouye-kaiju/lj.png","name":"book"},"nodeParent":49,"label":"book","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":50,"child":[]},{"x":90,"type":"Text","searchKey":"Text,text","props":{"y":-18,"x":86,"wordWrap":true,"width":268,"valign":"middle","text":"You have 3 chances!","runtime":"Laya.Text","name":"text","height":57,"fontSize":28,"color":"#ffffff"},"nodeParent":49,"label":"text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":51,"child":[]}]},{"x":75,"type":"Sprite","searchKey":"Sprite,text4","props":{"y":369,"visible":false,"name":"text4"},"nodeParent":41,"label":"text4","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":52,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,book","props":{"y":3,"texture":"imagesUI/shouye-kaiju/lj.png","name":"book"},"nodeParent":52,"label":"book","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":53,"child":[]},{"x":90,"type":"Text","searchKey":"Text,text","props":{"y":-18,"x":86,"wordWrap":true,"width":268,"valign":"middle","text":"The day is dark","runtime":"Laya.Text","name":"text","height":57,"fontSize":28,"color":"#ffffff"},"nodeParent":52,"label":"text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":95,"child":[]}]}]},{"x":60,"type":"Sprite","searchKey":"Sprite,mode_explain4,mode_explain4","props":{"visible":false,"var":"mode_explain4","name":"mode_explain4"},"nodeParent":73,"label":"mode_explain4","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":55,"child":[{"x":75,"type":"Text","searchKey":"Text,title","props":{"x":144,"text":"Rule","runtime":"Laya.Text","name":"title","fontSize":36,"color":"#ffffff"},"nodeParent":55,"label":"title","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":56,"child":[]},{"x":75,"type":"Sprite","searchKey":"Sprite,text1","props":{"y":73,"name":"text1"},"nodeParent":55,"label":"text1","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":57,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,book","props":{"y":3,"texture":"imagesUI/shouye-kaiju/lj.png","name":"book"},"nodeParent":57,"label":"book","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":58,"child":[]},{"x":90,"type":"Text","searchKey":"Text,text","props":{"y":-18,"x":86,"wordWrap":true,"width":268,"valign":"middle","text":"Rod walks fast","runtime":"Laya.Text","name":"text","height":57,"fontSize":28,"color":"#ffffff"},"nodeParent":57,"label":"text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":59,"child":[]}]},{"x":75,"type":"Sprite","searchKey":"Sprite,text2","props":{"y":172,"name":"text2"},"nodeParent":55,"label":"text2","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":60,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,book","props":{"y":3,"texture":"imagesUI/shouye-kaiju/lj.png","name":"book"},"nodeParent":60,"label":"book","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":61,"child":[]},{"x":90,"type":"Text","searchKey":"Text,text","props":{"y":-18,"x":86,"wordWrap":true,"width":268,"valign":"middle","text":"Rod can hear everything","runtime":"Laya.Text","name":"text","height":57,"fontSize":28,"color":"#ffffff"},"nodeParent":60,"label":"text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":96,"child":[]}]},{"x":75,"type":"Sprite","searchKey":"Sprite,text3","props":{"y":270,"name":"text3"},"nodeParent":55,"label":"text3","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":63,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,book","props":{"y":3,"texture":"imagesUI/shouye-kaiju/lj.png","name":"book"},"nodeParent":63,"label":"book","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":64,"child":[]},{"x":90,"type":"Text","searchKey":"Text,text","props":{"y":-18,"x":86,"wordWrap":true,"width":268,"valign":"middle","text":"You have 1 chance!","runtime":"Laya.Text","name":"text","height":57,"fontSize":28,"color":"#ffffff"},"nodeParent":63,"label":"text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":65,"child":[]}]},{"x":75,"type":"Sprite","searchKey":"Sprite,text4","props":{"y":369,"name":"text4"},"nodeParent":55,"label":"text4","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":66,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,book","props":{"y":3,"texture":"imagesUI/shouye-kaiju/lj.png","name":"book"},"nodeParent":66,"label":"book","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":67,"child":[]},{"x":90,"type":"Text","searchKey":"Text,text","props":{"y":-18,"x":86,"wordWrap":true,"width":268,"valign":"middle","text":"The day is dark","runtime":"Laya.Text","name":"text","height":57,"fontSize":28,"color":"#ffffff"},"nodeParent":66,"label":"text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":97,"child":[]}]}]}]},{"x":45,"type":"Sprite","searchKey":"Sprite","props":{"y":-220,"x":-416,"texture":"imagesUI/shouye-kaiju/bg.png"},"nodeParent":87,"label":"Sprite","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":74,"child":[]},{"x":45,"type":"Sprite","searchKey":"Sprite","props":{"y":42,"x":18,"visible":false,"texture":"imagesUI/shouye-kaiju/bg1.png"},"nodeParent":87,"label":"Sprite","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":75,"child":[]},{"x":45,"type":"Sprite","searchKey":"Sprite,start_game,start_game","props":{"y":200,"x":534,"width":378,"var":"start_game","texture":"imagesUI/shouye-kaiju/kaishiyouxi1.png","name":"start_game","height":137},"nodeParent":87,"label":"start_game","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":6,"child":[]},{"x":45,"type":"Sprite","searchKey":"Sprite,ad_helper_single","props":{"y":-255,"x":-503,"width":1000,"var":"ad_helper_single","height":491},"nodeParent":87,"label":"ad_helper_single","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":92,"child":[]}],"$HIDDEN":false},{"x":30,"type":"Sprite","searchKey":"Sprite,left_up_box,left_up_box","props":{"y":0,"x":0,"width":100,"var":"left_up_box","name":"left_up_box","height":100},"nodeParent":81,"label":"left_up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":88,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,right_up_box,right_up_box","props":{"y":0,"x":1820,"width":100,"var":"right_up_box","name":"right_up_box","height":100},"nodeParent":81,"label":"right_up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":89,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,left_down_box,left_down_box","props":{"y":980,"x":0,"width":100,"var":"left_down_box","name":"left_down_box","height":100},"nodeParent":81,"label":"left_down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":90,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,right_down_box,right_down_box","props":{"y":980,"x":1820,"width":100,"var":"right_down_box","name":"right_down_box","height":100},"nodeParent":81,"label":"right_down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":91,"child":[]}],"$HIDDEN":false},{"x":15,"type":"Sprite","searchKey":"Sprite,no_scale_screen,no_scale_screen","props":{"y":0,"x":0,"var":"no_scale_screen","name":"no_scale_screen"},"nodeParent":2,"label":"no_scale_screen","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":82,"child":[]}],"animations":[{"nodes":[],"name":"ani1","id":1,"frameRate":24,"action":0}]},e.PrepareGameViewUI=r,m("ui.PrepareGameViewUI",r);class n extends p{constructor(){super();}
createChildren(){super.createChildren(),this.createView(n.uiView);}}
n.uiView={"x":0,"type":"View","selectedBox":17,"selecteID":23,"searchKey":"View","props":{"width":1920,"height":1080},"nodeParent":-1,"maxID":28,"loadList3D":[],"loadList":["imagesUI/jiesuan/bg2.jpg","imagesUI/jiesuan/bg.jpg","imagesUI/jiesuan/shibai.png","imagesUI/jiesuan/huidao.png","imagesUI/jiesuan/chenggong.png","imagesUI/jiesuan/shijian.png"],"label":"View","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":2,"child":[{"x":15,"type":"Sprite","searchKey":"Sprite,full_screen_stretch,full_screen_stretch","props":{"y":0,"x":0,"var":"full_screen_stretch","name":"full_screen_stretch"},"nodeParent":2,"label":"full_screen_stretch","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":15,"child":[]},{"x":15,"type":"Sprite","searchKey":"Sprite,full_screen_scale,full_screen_scale","props":{"y":0,"x":0,"var":"full_screen_scale","name":"full_screen_scale"},"nodeParent":2,"label":"full_screen_scale","isOpen":null,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":16,"child":[{"type":"Sprite","searchKey":"Sprite,bg_losing,bg_losing","props":{"y":2,"x":0,"var":"bg_losing","texture":"imagesUI/jiesuan/bg2.jpg","name":"bg_losing"},"nodeParent":16,"label":"bg_losing","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":3,"child":[]},{"type":"Sprite","searchKey":"Sprite,bg_winning,bg_winning","props":{"y":2,"x":0,"visible":false,"var":"bg_winning","texture":"imagesUI/jiesuan/bg.jpg","name":"bg_winning"},"nodeParent":16,"label":"bg_winning","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":12,"child":[]}]},{"x":15,"type":"Image","searchKey":"Image,scale_screen,scale_screen","props":{"var":"scale_screen","top":0,"right":0,"name":"scale_screen","left":0,"bottom":0},"nodeParent":2,"label":"scale_screen","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":17,"child":[{"x":30,"type":"Sprite","searchKey":"Sprite,up_box,up_box","props":{"y":0,"x":910,"width":100,"var":"up_box","name":"up_box","height":100},"nodeParent":17,"label":"up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":19,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,left_box,left_box","props":{"y":490,"x":0,"width":100,"var":"left_box","name":"left_box","height":100},"nodeParent":17,"label":"left_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":20,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,down_box,down_box","props":{"y":980,"x":910,"width":100,"var":"down_box","name":"down_box","height":100},"nodeParent":17,"label":"down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":21,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,right_box,right_box","props":{"y":490,"x":1820,"width":100,"var":"right_box","name":"right_box","height":100},"nodeParent":17,"label":"right_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":22,"child":[]},{"x":30,"type":"Image","searchKey":"Image,center_box,center_box","props":{"width":100,"var":"center_box","name":"center_box","height":100,"centerY":0,"centerX":0},"nodeParent":17,"label":"center_box","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":23,"child":[{"x":45,"type":"Sprite","searchKey":"Sprite,losing,losing","props":{"y":-490,"x":-910,"var":"losing","name":"losing"},"nodeParent":23,"label":"losing","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":11,"child":[{"x":60,"type":"Sprite","searchKey":"Sprite,game_losing","props":{"y":164,"x":551,"texture":"imagesUI/jiesuan/shibai.png","name":"game_losing"},"nodeParent":11,"label":"game_losing","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":6,"child":[]},{"x":60,"type":"Sprite","searchKey":"Sprite,back_home,back_home","props":{"y":575,"x":569,"var":"back_home","texture":"imagesUI/jiesuan/huidao.png","name":"back_home"},"nodeParent":11,"label":"back_home","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":7,"child":[]}],"$HIDDEN":false},{"x":45,"type":"Sprite","searchKey":"Sprite,winning,winning","props":{"y":-489,"x":-910,"visible":false,"var":"winning","name":"winning"},"nodeParent":23,"label":"winning","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":13,"child":[{"x":60,"type":"Sprite","searchKey":"Sprite,game_winning","props":{"y":164,"x":551,"texture":"imagesUI/jiesuan/chenggong.png","name":"game_winning"},"nodeParent":13,"label":"game_winning","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":5,"child":[]},{"x":60,"type":"Sprite","searchKey":"Sprite,gmeclock","props":{"y":498,"x":917,"name":"gmeclock"},"nodeParent":13,"label":"gmeclock","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":8,"child":[{"x":75,"type":"Sprite","searchKey":"Sprite,time_icon","props":{"y":-30.5,"x":-185,"texture":"imagesUI/jiesuan/shijian.png","name":"time_icon"},"nodeParent":8,"label":"time_icon","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":9,"child":[]},{"x":75,"type":"Text","searchKey":"Text,time_text,time_text","props":{"y":-31,"x":-130,"var":"time_text","text":"It takes time 00:00:00","runtime":"Laya.Text","name":"time_text","fontSize":48,"color":"#ffffff"},"nodeParent":8,"label":"time_text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":10,"child":[]}]}]}]},{"x":30,"type":"Sprite","searchKey":"Sprite,left_up_box,left_up_box","props":{"y":0,"x":0,"width":100,"var":"left_up_box","name":"left_up_box","height":100},"nodeParent":17,"label":"left_up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":24,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,right_up_box,right_up_box","props":{"y":0,"x":1820,"width":100,"var":"right_up_box","name":"right_up_box","height":100},"nodeParent":17,"label":"right_up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":25,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,left_down_box,left_down_box","props":{"y":980,"x":0,"width":100,"var":"left_down_box","name":"left_down_box","height":100},"nodeParent":17,"label":"left_down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":26,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,right_down_box,right_down_box","props":{"y":980,"x":1820,"width":100,"var":"right_down_box","name":"right_down_box","height":100},"nodeParent":17,"label":"right_down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":27,"child":[]}]},{"x":15,"type":"Sprite","searchKey":"Sprite,no_scale_screen,no_scale_screen","props":{"y":0,"x":0,"var":"no_scale_screen","name":"no_scale_screen"},"nodeParent":2,"label":"no_scale_screen","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":18,"child":[]}],"animations":[{"nodes":[],"name":"ani1","id":1,"frameRate":24,"action":0}]},e.ResultViewUI=n,m("ui.ResultViewUI",n);class l extends p{constructor(){super();}
createChildren(){super.createChildren(),this.createView(l.uiView);}}
l.uiView={"x":0,"type":"View","selectedBox":46,"selecteID":42,"searchKey":"View","props":{"width":1920,"height":1080},"nodeParent":-1,"maxID":83,"loadList3D":[],"loadList":["imagesUI/tishi/bg1.png","imagesUI/shezhi/x.png","imagesUI/shezhi/mianban5.png","imagesUI/shezhi/tuichu.png","imagesUI/shezhi/btn_bg.png","imagesUI/shezhi/sz1.png","imagesUI/shezhi/sz2.png","imagesUI/shezhi/sz3.png","imagesUI/shezhi/tiao1.png","imagesUI/shezhi/tiao.png","imagesUI/shezhi/yinxiao.png","imagesUI/shezhi/hslider_yinxiao.png","imagesUI/shezhi/yinyuw.png","imagesUI/shezhi/hslider_yinyuw.png","imagesUI/shezhi/hslider.png"],"label":"View","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":2,"child":[{"x":15,"type":"Image","searchKey":"Image,full_screen_stretch,full_screen_stretch","props":{"var":"full_screen_stretch","top":0,"right":0,"name":"full_screen_stretch","left":0,"bottom":0},"nodeParent":2,"label":"full_screen_stretch","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":58,"child":[{"x":30,"type":"Image","searchKey":"Image,bg","props":{"top":0,"skin":"imagesUI/tishi/bg1.png","right":0,"name":"bg","left":0,"bottom":0},"nodeParent":58,"label":"bg","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":57,"child":[]}]},{"x":15,"type":"Sprite","searchKey":"Sprite,full_screen_scale,full_screen_scale","props":{"y":0,"x":0,"var":"full_screen_scale","name":"full_screen_scale"},"nodeParent":2,"label":"full_screen_scale","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":59,"child":[]},{"x":15,"type":"Image","searchKey":"Image,scale_screen,scale_screen","props":{"var":"scale_screen","top":0,"right":0,"name":"scale_screen","left":0,"bottom":0},"nodeParent":2,"label":"scale_screen","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":60,"child":[{"x":30,"type":"Sprite","searchKey":"Sprite,up_box,up_box","props":{"y":0,"x":910,"width":100,"var":"up_box","name":"up_box","height":100},"nodeParent":60,"label":"up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":62,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,left_box,left_box","props":{"y":490,"x":0,"width":100,"var":"left_box","name":"left_box","height":100},"nodeParent":60,"label":"left_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":63,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,down_box,down_box","props":{"y":980,"x":910,"width":100,"var":"down_box","name":"down_box","height":100},"nodeParent":60,"label":"down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":64,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,right_box,right_box","props":{"y":490,"x":1820,"width":100,"var":"right_box","name":"right_box","height":100},"nodeParent":60,"label":"right_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":65,"child":[]},{"x":30,"type":"Image","searchKey":"Image,center_box,center_box","props":{"width":100,"var":"center_box","name":"center_box","height":100,"centerY":0,"centerX":0},"nodeParent":60,"label":"center_box","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":66,"child":[{"x":45,"type":"Sprite","searchKey":"Sprite,close_btn,close_btn","props":{"y":-440,"x":377,"var":"close_btn","texture":"imagesUI/shezhi/x.png","name":"close_btn"},"nodeParent":66,"label":"close_btn","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":5,"child":[]},{"x":45,"type":"Sprite","searchKey":"Sprite,bg_book","props":{"y":-353,"x":-569,"texture":"imagesUI/shezhi/mianban5.png","name":"bg_book"},"nodeParent":66,"label":"bg_book","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":4,"child":[]},{"x":45,"type":"Sprite","searchKey":"Sprite,exit_game_btn,exit_game_btn","props":{"y":153,"x":299,"width":242,"var":"exit_game_btn","texture":"imagesUI/shezhi/tuichu.png","name":"exit_game_btn","height":78},"nodeParent":66,"label":"exit_game_btn","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":6,"child":[]},{"x":45,"type":"Button","searchKey":"Button,exit_game_btn2,exit_game_btn2","props":{"y":153,"x":73,"width":182,"var":"exit_game_btn2","stateNum":1,"skin":"imagesUI/shezhi/btn_bg.png","name":"exit_game_btn2","labelSize":28,"labelColors":"#e3d9cb","labelBold":true,"labelAlign":"center","height":80},"nodeParent":66,"label":"exit_game_btn2","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":82,"child":[{"x":60,"type":"Text","searchKey":"Text","props":{"y":2,"x":6,"wordWrap":true,"width":171,"valign":"middle","text":"Clear data and exit","runtime":"Laya.Text","height":74,"fontSize":24,"color":"#e3d9cb","bold":true,"align":"center"},"nodeParent":82,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":73,"child":[]}]},{"x":45,"type":"Sprite","searchKey":"Sprite,test_save","props":{"y":103,"x":-480,"visible":false,"name":"test_save"},"nodeParent":66,"label":"test_save","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":80,"child":[{"x":60,"type":"Panel","searchKey":"Panel,save,save","props":{"x":358,"width":148,"visible":false,"var":"save","name":"save","height":70,"bgColor":"#b35245"},"nodeParent":80,"label":"save","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":74,"child":[{"x":75,"type":"Text","searchKey":"Text","props":{"y":0,"x":15,"wordWrap":true,"width":118,"valign":"middle","text":"Save","runtime":"Laya.Text","height":74,"fontSize":28,"color":"#e3d9cb","bold":true,"align":"center"},"nodeParent":74,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":75,"child":[]}]},{"x":60,"type":"Panel","searchKey":"Panel,update,update","props":{"x":179,"width":148,"visible":false,"var":"update","name":"update","height":70,"bgColor":"#b35245"},"nodeParent":80,"label":"update","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":78,"child":[{"x":75,"type":"Text","searchKey":"Text","props":{"y":0,"x":15,"wordWrap":true,"width":118,"valign":"middle","text":"Update","runtime":"Laya.Text","height":74,"fontSize":28,"color":"#e3d9cb","bold":true,"align":"center"},"nodeParent":78,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":79,"child":[]}]},{"x":60,"type":"Panel","searchKey":"Panel,read,read","props":{"width":148,"visible":false,"var":"read","name":"read","height":70,"bgColor":"#b35245"},"nodeParent":80,"label":"read","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":76,"child":[{"x":75,"type":"Text","searchKey":"Text","props":{"y":0,"x":15,"wordWrap":true,"width":118,"valign":"middle","text":"Read","runtime":"Laya.Text","height":74,"fontSize":28,"color":"#e3d9cb","bold":true,"align":"center"},"nodeParent":76,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":77,"child":[]}]}]},{"x":45,"type":"Sprite","searchKey":"Sprite,remain_health","props":{"y":188,"x":-442,"name":"remain_health"},"nodeParent":66,"label":"remain_health","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":50,"child":[{"x":60,"type":"Sprite","searchKey":"Sprite,one,one","props":{"y":18,"x":176,"width":8,"var":"one","texture":"imagesUI/shezhi/sz1.png","pivotY":18,"pivotX":4,"name":"one","height":35},"nodeParent":50,"label":"one","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":8,"child":[]},{"x":60,"type":"Sprite","searchKey":"Sprite,two,two","props":{"y":18,"x":176,"width":24,"var":"two","texture":"imagesUI/shezhi/sz2.png","pivotY":18,"pivotX":12,"name":"two","height":35},"nodeParent":50,"label":"two","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":9,"child":[]},{"x":60,"type":"Sprite","searchKey":"Sprite,three,three","props":{"y":18,"x":176,"width":24,"var":"three","texture":"imagesUI/shezhi/sz3.png","pivotY":18,"pivotX":12,"name":"three","height":35},"nodeParent":50,"label":"three","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":10,"child":[]},{"x":60,"type":"Text","searchKey":"Text","props":{"y":0,"x":0,"width":153,"text":"Life:","runtime":"Laya.Text","height":36,"fontSize":36,"align":"right"},"nodeParent":50,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":49,"child":[]}]},{"x":45,"type":"Sprite","searchKey":"Sprite,left","props":{"y":-199,"x":-435,"name":"left"},"nodeParent":66,"label":"left","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":48,"child":[{"x":60,"type":"Sprite","searchKey":"Sprite,sound_hslider","props":{"y":40,"x":10,"name":"sound_hslider"},"nodeParent":48,"label":"sound_hslider","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":30,"child":[{"x":75,"type":"Sprite","searchKey":"Sprite","props":{"y":0,"x":-10,"visible":false},"nodeParent":30,"label":"Sprite","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":52,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,hslider_bg","props":{"y":11,"texture":"imagesUI/shezhi/tiao1.png","name":"hslider_bg"},"nodeParent":52,"label":"hslider_bg","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":31,"child":[]},{"x":90,"type":"Sprite","searchKey":"Sprite,hslider_progres","props":{"y":11,"texture":"imagesUI/shezhi/tiao.png","name":"hslider_progres"},"nodeParent":52,"label":"hslider_progres","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":32,"child":[]},{"x":90,"type":"Sprite","searchKey":"Sprite,hslider_bar","props":{"texture":"imagesUI/shezhi/yinxiao.png","name":"hslider_bar"},"nodeParent":52,"label":"hslider_bar","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":33,"child":[]}]},{"x":75,"type":"Text","searchKey":"Text","props":{"y":-40,"x":-10,"text":"Music volume","runtime":"Laya.Text","fontSize":36},"nodeParent":30,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":37,"child":[]},{"x":75,"type":"HSlider","searchKey":"HSlider,music_hslider,music_hslider","props":{"y":9.5,"x":-10,"var":"music_hslider","value":50,"skin":"imagesUI/shezhi/hslider_yinxiao.png","name":"music_hslider","max":100},"nodeParent":30,"label":"music_hslider","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":54,"child":[]}]},{"x":60,"type":"Sprite","searchKey":"Sprite,sound_effect_hslider","props":{"y":184,"x":10,"name":"sound_effect_hslider"},"nodeParent":48,"label":"sound_effect_hslider","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":26,"child":[{"x":75,"type":"Sprite","searchKey":"Sprite","props":{"y":-5,"x":-10,"visible":false},"nodeParent":26,"label":"Sprite","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":53,"child":[{"x":90,"type":"Sprite","searchKey":"Sprite,hslider_bg","props":{"y":16,"texture":"imagesUI/shezhi/tiao1.png","name":"hslider_bg"},"nodeParent":53,"label":"hslider_bg","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":27,"child":[]},{"x":90,"type":"Sprite","searchKey":"Sprite,hslider_progres","props":{"y":16,"texture":"imagesUI/shezhi/tiao.png","name":"hslider_progres"},"nodeParent":53,"label":"hslider_progres","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":28,"child":[]},{"x":90,"type":"Sprite","searchKey":"Sprite,hslider_bar","props":{"texture":"imagesUI/shezhi/yinyuw.png","name":"hslider_bar"},"nodeParent":53,"label":"hslider_bar","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":38,"child":[]}]},{"x":75,"type":"Text","searchKey":"Text","props":{"y":-40,"x":-10,"text":"Sound volume","runtime":"Laya.Text","fontSize":36},"nodeParent":26,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":36,"child":[]},{"x":75,"type":"HSlider","searchKey":"HSlider,sound_hslider,sound_hslider","props":{"y":9,"x":-10,"var":"sound_hslider","value":50,"skin":"imagesUI/shezhi/hslider_yinyuw.png","name":"sound_hslider","max":100},"nodeParent":26,"label":"sound_hslider","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":55,"child":[]}]}]},{"x":45,"type":"Sprite","searchKey":"Sprite,right","props":{"y":-252,"x":124,"name":"right"},"nodeParent":66,"label":"right","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":47,"child":[{"x":60,"type":"Sprite","searchKey":"Sprite,ui_alpha_hslider","props":{"name":"ui_alpha_hslider"},"nodeParent":47,"label":"ui_alpha_hslider","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":44,"child":[{"x":75,"type":"HSlider","searchKey":"HSlider,ui_alpha_hslider","props":{"y":52,"value":50,"skin":"imagesUI/shezhi/hslider.png","name":"ui_alpha_hslider","max":100},"nodeParent":44,"label":"ui_alpha_hslider","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":13,"child":[]},{"x":75,"type":"Text","searchKey":"Text","props":{"x":10,"text":"Interface transparency","runtime":"Laya.Text","fontSize":36},"nodeParent":44,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":39,"child":[]}]},{"x":60,"type":"Sprite","searchKey":"Sprite,game_size_hslider","props":{"y":119,"name":"game_size_hslider"},"nodeParent":47,"label":"game_size_hslider","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":45,"child":[{"x":75,"type":"HSlider","searchKey":"HSlider,game_size_hslider","props":{"y":53,"value":50,"skin":"imagesUI/shezhi/hslider.png","name":"game_size_hslider","max":100},"nodeParent":45,"label":"game_size_hslider","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":14,"child":[]},{"x":75,"type":"Text","searchKey":"Text","props":{"x":10,"text":"Game size","runtime":"Laya.Text","fontSize":36},"nodeParent":45,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":41,"child":[]}]},{"x":60,"type":"Sprite","searchKey":"Sprite,camera_sensitivity_hslider","props":{"y":238,"name":"camera_sensitivity_hslider"},"nodeParent":47,"label":"camera_sensitivity_hslider","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":46,"child":[{"x":75,"type":"HSlider","searchKey":"HSlider,camera_sensitivity_hslider","props":{"y":52,"value":50,"skin":"imagesUI/shezhi/hslider.png","name":"camera_sensitivity_hslider","max":100},"nodeParent":46,"label":"camera_sensitivity_hslider","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":15,"child":[]},{"x":75,"type":"Text","searchKey":"Text","props":{"x":10,"text":"Camera sensitivity","runtime":"Laya.Text","fontSize":36},"nodeParent":46,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":42,"child":[]}]}]}]},{"x":30,"type":"Sprite","searchKey":"Sprite,left_up_box,left_up_box","props":{"y":0,"x":0,"width":100,"var":"left_up_box","name":"left_up_box","height":100},"nodeParent":60,"label":"left_up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":67,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,right_up_box,right_up_box","props":{"y":0,"x":1820,"width":100,"var":"right_up_box","name":"right_up_box","height":100},"nodeParent":60,"label":"right_up_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":68,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,left_down_box,left_down_box","props":{"y":980,"x":0,"width":100,"var":"left_down_box","name":"left_down_box","height":100},"nodeParent":60,"label":"left_down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":69,"child":[]},{"x":30,"type":"Sprite","searchKey":"Sprite,right_down_box,right_down_box","props":{"y":980,"x":1820,"width":100,"var":"right_down_box","name":"right_down_box","height":100},"nodeParent":60,"label":"right_down_box","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":70,"child":[]}]},{"x":15,"type":"Sprite","searchKey":"Sprite,no_scale_screen,no_scale_screen","props":{"y":0,"x":0,"var":"no_scale_screen","name":"no_scale_screen"},"nodeParent":2,"label":"no_scale_screen","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":61,"child":[]}],"animations":[{"nodes":[],"name":"ani1","id":1,"frameRate":24,"action":0}]},e.SettingViewUI=l,m("ui.SettingViewUI",l);class h extends p{constructor(){super();}
createChildren(){super.createChildren(),this.createView(h.uiView);}}
h.uiView={type:"View",props:{width:1920,height:1080},compId:2,child:[{type:"Sprite",props:{y:0,x:0,var:"full_screen_scale",name:"full_screen_scale"},compId:111,child:[{type:"Sprite",props:{y:0,x:0,texture:"loading/bg.jpg"},compId:124},{type:"Panel",props:{y:0,x:0,width:120,height:120,bgColor:"#1eff00"},compId:73},{type:"Panel",props:{y:961,x:0,width:120,height:120,bgColor:"#1eff00"},compId:74},{type:"Panel",props:{y:1,x:1800,width:120,height:120,bgColor:"#1eff00"},compId:75},{type:"Panel",props:{y:961,x:1800,width:120,height:120,bgColor:"#1eff00"},compId:76},{type:"Panel",props:{y:481,x:900,width:120,height:120,bgColor:"#1eff00"},compId:108,child:[{type:"Text",props:{text:"In the",fontSize:120,runtime:"Laya.Text"},compId:109}]}]},{type:"Sprite",props:{y:0,x:0,var:"full_screen_stretch",name:"full_screen_stretch"},compId:64,child:[{type:"Panel",props:{y:0,x:0,width:140,height:140,bgColor:"#ff0400"},compId:68},{type:"Panel",props:{y:940,x:0,width:140,height:140,bgColor:"#ff0400"},compId:70},{type:"Panel",props:{y:0,x:1780,width:140,height:140,bgColor:"#ff0400"},compId:71},{type:"Panel",props:{y:941,x:1780,width:140,height:140,bgColor:"#ff0400"},compId:72},{type:"Sprite",props:{y:532,x:952},compId:252,child:[{type:"Sprite",props:{y:0,x:0,name:"width"},compId:253,child:[{type:"Panel",props:{y:-42,x:-952,width:100,height:100,bgColor:"#ffc978"},compId:257},{type:"Panel",props:{y:-42,x:-497,width:100,height:100,bgColor:"#ffc978"},compId:259},{type:"Panel",props:{y:-42,x:-42,width:100,height:100,bgColor:"#ffc978"},compId:261},{type:"Panel",props:{y:-42,x:413,width:100,height:100,bgColor:"#ffc978"},compId:263},{type:"Panel",props:{y:-42,x:868,width:100,height:100,bgColor:"#ffc978"},compId:264}]},{type:"Sprite",props:{y:0,x:0,name:"height"},compId:254,child:[{type:"Panel",props:{y:-532,x:-42,width:100,height:100,bgColor:"#ffc978"},compId:256},{type:"Panel",props:{y:-287,x:-42,width:100,height:100,bgColor:"#ffc978"},compId:258},{type:"Panel",props:{y:-41,x:-42,width:100,height:100,bgColor:"#ffc978"},compId:265},{type:"Panel",props:{y:204,x:-42,width:100,height:100,bgColor:"#ffc978"},compId:266},{type:"Panel",props:{y:449,x:-42,width:100,height:100,bgColor:"#ffc978"},compId:267}]}]}]},{type:"Sprite",props:{y:0,x:0,var:"scale_screen",name:"scale_screen"},compId:66,child:[{type:"Panel",props:{y:2,x:0,bgColor:"#00fff4"},compId:77},{type:"Panel",props:{y:983,x:0,bgColor:"#00fff4"},compId:78},{type:"Panel",props:{y:2,x:1820,bgColor:"#00fff4"},compId:79},{type:"Panel",props:{y:982,x:1820,bgColor:"#00fff4"},compId:80},{type:"Sprite",props:{y:2,x:910,width:100,var:"up_box",name:"up_box",height:100},compId:117,child:[{type:"Panel",props:{bgColor:"#0033ff"},compId:81,child:[{type:"Text",props:{text:"on",fontSize:100,runtime:"Laya.Text"},compId:86}]}]},{type:"Sprite",props:{y:495,x:0,width:100,var:"left_box",name:"left_box",height:100},compId:118,child:[{type:"Panel",props:{bgColor:"#0033ff"},compId:83,child:[{type:"Text",props:{y:0,x:0,text:"On the left",fontSize:100,runtime:"Laya.Text"},compId:88}]}]},{type:"Sprite",props:{y:987,x:889,width:100,var:"down_box",name:"down_box",height:100},compId:119,child:[{type:"Panel",props:{bgColor:"#0033ff"},compId:82,child:[{type:"Text",props:{y:0,x:0,text:"Under the",fontSize:100,runtime:"Laya.Text"},compId:87}]},{type:"Sprite",props:{y:-90,x:-688,name:"loading_hslider"},compId:126,child:[{type:"Sprite",props:{y:18,x:44,texture:"loading/t2.png",name:"hslider_bg"},compId:127},{type:"Sprite",props:{y:0,x:38,var:"hslider_progres",texture:"loading/t1.png",scaleX:1,name:"hslider_progres"},compId:128},{type:"Text",props:{y:-32,x:749,var:"progres_text",text:"20%",name:"progres_text",fontSize:48,color:"#ffffff",runtime:"Laya.Text"},compId:129}]}]},{type:"Sprite",props:{y:507,x:1820,width:100,var:"right_box",name:"right_box",height:100},compId:120,child:[{type:"Panel",props:{bgColor:"#0033ff"},compId:84,child:[{type:"Text",props:{y:0,x:0,text:"right",fontSize:100,runtime:"Laya.Text"},compId:89}]}]},{type:"Sprite",props:{y:494,x:910,width:100,var:"center_box",name:"center_box",height:100},compId:121,child:[{type:"Sprite",props:{y:-330,x:145,texture:"loading/logo(2).png"},compId:125},{type:"Panel",props:{visible:!0,bgColor:"#0033ff"},compId:112,child:[{type:"Text",props:{y:0,x:0,text:"In the",fontSize:100,runtime:"Laya.Text"},compId:114}]},{type:"Sprite",props:{y:50,x:50,width:20,pivotY:10,pivotX:10,name:"center_point",height:20},compId:113,child:[{type:"Circle",props:{y:10,x:10,radius:10,lineWidth:1,fillColor:"#ffffff"},compId:115}]}]},{type:"Sprite",props:{y:1,x:0,width:100,var:"left_up_box",name:"left_up_box",height:100},compId:130,child:[{type:"Panel",props:{bgColor:"#0033ff"},compId:131,child:[{type:"Text",props:{text:"Top left",fontSize:50,runtime:"Laya.Text"},compId:132}]}]},{type:"Sprite",props:{y:1,x:1820,width:100,var:"right_up_box",name:"right_up_box",height:100},compId:136,child:[{type:"Panel",props:{bgColor:"#0033ff"},compId:137,child:[{type:"Text",props:{text:"Top right",fontSize:50,runtime:"Laya.Text"},compId:138}]}]},{type:"Sprite",props:{y:985,x:0,width:100,var:"left_down_box",name:"left_down_box",height:100},compId:139,child:[{type:"Panel",props:{bgColor:"#0033ff"},compId:140,child:[{type:"Text",props:{text:"Bottom left",fontSize:50,runtime:"Laya.Text"},compId:141}]}]},{type:"Sprite",props:{y:985,x:1820,width:100,var:"right_down_box",name:"right_down_box",height:100},compId:142,child:[{type:"Panel",props:{bgColor:"#0033ff"},compId:143,child:[{type:"Text",props:{text:"Bottom right",fontSize:50,runtime:"Laya.Text"},compId:144}]}]},{type:"Sprite",props:{var:"relative_scale_box",name:"relative_scale_box"},compId:268,child:[{type:"Sprite",props:{y:0,x:0,var:"relative_left_up",name:"relative_left_up"},compId:271,child:[{type:"Panel",props:{y:540,x:960,width:200,visible:!0,name:"show_custom_ad_pos",height:200,bgColor:"#ff7cd5"},compId:270}]},{type:"Sprite",props:{y:0,x:0,var:"relative_center",name:"relative_center"},compId:272,child:[{type:"Panel",props:{y:736,x:455,width:100,visible:!0,name:"show_custom_ad_pos",height:100,bgColor:"#ff7cd5"},compId:269}]}]}]},{type:"Sprite",props:{y:0,x:0,var:"no_scale_screen",name:"no_scale_screen"},compId:122},{type:"Panel",props:{y:530,x:950,width:20,var:"aa",name:"aa",height:20,bgColor:"#ffff00"},compId:92}],loadList:["loading/bg.jpg","loading/t2.png","loading/t1.png","loading/logo(2).png"],loadList3D:[]},e.TestViewUI=h,m("ui.TestViewUI",h);}(c||(c={})),function(e){!function(e){class t extends p{constructor(){super();}
createChildren(){super.createChildren(),this.createView(t.uiView);}}
t.uiView={type:"View",props:{width:264,height:280},compId:2,child:[{type:"Sprite",props:{y:0,x:0,texture:"imagesUI/tishi/eupin.png",name:"item_bg"},compId:3},{type:"Sprite",props:{y:0,x:0,var:"select_bg",texture:"imagesUI/tishi/wupinxz.png",name:"select_bg"},compId:4},{type:"Sprite",props:{y:202,x:0,texture:"imagesUI/tishi/mingcheng.png",name:"text_bg"},compId:6},{type:"Sprite",props:{y:1,x:213,var:"red_dot",texture:"imagesUI/tishi/dian.png",name:"red_dot"},compId:5},{type:"Text",props:{y:216,x:20,var:"text1",text:"Get it",name:"text1",fontSize:36,font:"Arial",color:"#fdc387",runtime:"Laya.Text"},compId:7},{type:"Text",props:{y:208,x:96,wordWrap:!0,width:154,var:"prop_name",valign:"middle",text:"Clock clock",name:"prop_name",height:52,fontSize:36,font:"Arial",color:"#ff3100",runtime:"Laya.Text"},compId:8},{type:"Sprite",props:{y:44,x:31,width:187,var:"icon_sprite",name:"icon_sprite",height:145},compId:16}],loadList:["imagesUI/tishi/eupin.png","imagesUI/tishi/wupinxz.png","imagesUI/tishi/mingcheng.png","imagesUI/tishi/dian.png"],loadList3D:[]},e.HintItemUI=t,m("ui.Item.HintItemUI",t);class i extends p{constructor(){super();}
createChildren(){super.createChildren(),this.createView(i.uiView);}}
i.uiView={"x":0,"type":"View","selectedBox":2,"selecteID":3,"searchKey":"View","props":{"width":362,"height":90},"nodeParent":-1,"maxID":6,"loadList3D":[],"loadList":["imagesUI/shouye-kaiju/xuanzhong.png"],"label":"View","isOpen":true,"isDirectory":true,"isAniNode":true,"hasChild":true,"compId":2,"child":[{"x":15,"type":"Sprite","searchKey":"Sprite,choose_bg,choose_bg","props":{"y":0,"x":-123,"width":750,"var":"choose_bg","texture":"imagesUI/shouye-kaiju/xuanzhong.png","name":"choose_bg","height":90},"nodeParent":2,"label":"choose_bg","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":3,"child":[]},{"x":15,"type":"Text","searchKey":"Text,text,text","props":{"y":25,"x":0,"width":362,"var":"text","text":"正常难度","runtime":"Laya.Text","name":"text","height":40,"fontSize":40,"font":"Arial","color":"#ffdebb","bold":true,"align":"center"},"nodeParent":2,"label":"text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":4,"child":[]},{"x":15,"type":"Text","searchKey":"Text","props":{"y":25,"x":0,"width":362,"visible":false,"text":"正常难度","runtime":"Laya.Text","height":40,"fontSize":40,"font":"Arial","color":"#5d3000","bold":true,"align":"center"},"nodeParent":2,"label":"Text","isDirectory":false,"isAniNode":true,"hasChild":false,"compId":5,"child":[]}],"animations":[{"nodes":[],"name":"ani1","id":1,"frameRate":24,"action":0}]},e.PrepareGameItemUI=i,m("ui.Item.PrepareGameItemUI",i);class a extends p{constructor(){super();}
createChildren(){super.createChildren(),this.createView(a.uiView);}}
a.uiView={type:"View",props:{width:350,height:70},compId:2,child:[{type:"Sprite",props:{y:24,x:20,texture:"imagesUI/shouye-kaiju/lj.png",name:"book"},compId:3},{type:"Text",props:{y:21,x:105,var:"text",text:"The day is dark",name:"text",fontSize:28,color:"#ffffff",runtime:"Laya.Text"},compId:4}],loadList:["imagesUI/shouye-kaiju/lj.png"],loadList3D:[]},e.PrepareGameItem2UI=a,m("ui.Item.PrepareGameItem2UI",a);}(e.Item||(e.Item={}));}(c||(c={}));class d{static get VECTOR_ZEOR(){return new Laya.Vector3();}
static get VECTOR_FORWARD(){return new Laya.Vector3(0,0,1);}
static get VECTOR_RIGHT(){return new Laya.Vector3(0,0,-1);}
static get VECTOR_UP(){return new Laya.Vector3(0,0,1);}
static meshVolume(e){let t=e.meshRenderer.bounds.getMin(),i=e.meshRenderer.bounds.getMax(),a=Math.abs(t.x-i.x),s=Math.abs(t.y-i.y),o=Math.abs(t.z-i.z);return new Laya.Vector3(a,s,o);}
static roleMeshVoume(e){let t=e.skinnedMeshRenderer.bounds.getMin(),i=e.skinnedMeshRenderer.bounds.getMax(),a=Math.abs(t.x-i.x),s=Math.abs(t.y-i.y),o=Math.abs(t.z-i.z);return new Laya.Vector3(a,s,o);}
static vectorSubToNum(e,t){return e.x/=t,e.y/=t,e.z/=t,e;}
static moveTo(e,t,i,a){Laya.Tween.to(e.transform,{localPositionX:t.x,localPositionY:t.y,localPosition:t.z},200,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{a&&a();})),Laya.Tween.to(e.transform,{localScaleX:i.x,localScaleY:i.y,localScaleZ:i.z},200,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{}));}
static strToColorVector4(e,t=1){e=e.toLocaleLowerCase();let i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],a=(16*i.indexOf(e.substr(1,1))+i.indexOf(e.substr(2,1)))/255,s=(16*i.indexOf(e.substr(3,1))+i.indexOf(e.substr(4,1)))/255,o=(16*i.indexOf(e.substr(5,1))+i.indexOf(e.substr(6,1)))/255;return new Laya.Vector4(a,s,o,t);}
static randomFloat(e,t){return Math.random()*(t-e)+e;}
static scale(e){return e.on(Laya.Event.MOUSE_DOWN,null,function(){Laya.Tween.to(e,{scaleX:.9,scaleY:.9},100,Laya.Ease.linearNone);}),e.on(Laya.Event.MOUSE_OUT,null,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1},100,Laya.Ease.linearNone);}),e.on(Laya.Event.MOUSE_UP,null,function(){Laya.Tween.to(e,{scaleX:1,scaleY:1},100,Laya.Ease.linearNone);}),e;}
static worldToScreen(e,t){var i=new Laya.Vector4();return e.viewport.project(t,e.projectionViewMatrix,i),new Laya.Vector3(i.x/Laya.stage.clientScaleX,i.y/Laya.stage.clientScaleY,0);}
static eulerToQuaternion(e){let t=e.x/180*Math.PI,i=e.y/180*Math.PI,a=e.z/180*Math.PI,s=new Laya.Quaternion();return Laya.Quaternion.createFromYawPitchRoll(i,t,a,s),s;}
static scaleBy(e,t=500,i=new Laya.Vector3(1,1,1),a){e.transform.localScale=new Laya.Vector3(0,0,0),Laya.Tween.to(e.transform,{localScaleX:i.x,localScaleY:i.y,localScaleZ:i.z},t,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{a&&a();}));}
static scaleLoop(e,t=500,i){Laya.Tween.to(e.transform,{localScaleX:.5,localScaleY:.5,localScaleZ:.5},t/2,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{Laya.Tween.to(e.transform,{localScaleX:1,localScaleY:1,localScaleZ:1},t/2,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{i&&i();}));}));}
static getChilds(e){let t=[];for(let i=0;i<e.numChildren;i++)t.push(e.getChildAt(i));return t;}
static getExcludeChilds(e,t){let i=[];for(let a=0;a<e.numChildren;a++){let s=e.getChildAt(a),o=s.name,r=!0;for(let e=0;e<t.length;e++)if(-1!=o.indexOf(t[e])){r=!1;break;}
r&&i.push(s);}
return i;}
static getChildsByName(e,t){let i=[];for(let a=0;a<e.numChildren;a++){let s=e.getChildAt(a);-1!=s.name.indexOf(t)&&i.push(s);}
return i;}
static testLightDir(e,t=.01){Laya.stage.on(Laya.Event.KEY_DOWN,null,function(i){let a=new Laya.Vector3();switch(e.transform.worldMatrix.getForward(a),i.keyCode){case Laya.Keyboard.W:a.z-=t;break;case Laya.Keyboard.S:a.z+=t;break;case Laya.Keyboard.A:a.x-=t;break;case Laya.Keyboard.D:a.x+=t;break;case Laya.Keyboard.Z:a.y+=t;break;case Laya.Keyboard.X:a.y-=t;}
e.transform.worldMatrix.setForward(a),console.log(a);});}
static testPos(e,t=.01){Laya.stage.on(Laya.Event.KEY_DOWN,null,function(i){let a=e.transform.localPosition.clone();switch(i.keyCode){case Laya.Keyboard.W:a.z-=t;break;case Laya.Keyboard.S:a.z+=t;break;case Laya.Keyboard.A:a.x-=t;break;case Laya.Keyboard.D:a.x+=t;break;case Laya.Keyboard.Z:a.y+=t;break;case Laya.Keyboard.X:a.y-=t;}
e.transform.localPosition=a,console.log(a);});}
static convertAngle(e){for(;e>360;)e-=360;for(;e<0;)e+=360;return e;}
static convertAngle2(e){return e.x=d.convertAngle(e.x),e.y=d.convertAngle(e.y),e.z=d.convertAngle(e.z),e;}
static getRecentAgnle(e,t){for(;Math.abs(e-t)>180;)t+=360*(e>t?1:-1);return t;}
static findObjectByLikeName(e,t){let i=[];if(-1==e.name.indexOf(t))return this.findChildrenLikeName(e._children,i,t);i.push(e);}
static findChildrenLikeName(e,t,i){for(var a=[],s=0;s<e.length;s++){var o=e[s];-1!=o.name.indexOf(i)&&t.push(o),o.numChildren&&(a=a.concat(o._children));}
return a.length?this.findChildrenLikeName(a,t,i):t;}
static findObjectByName(e,t,i=!0,a=!1,s=[],o=!1){a||e.name!=t?a&&-1!=e.name.indexOf(t)&&s.push(e):s.push(e);for(let r=0;r<e.numChildren;r++)i&&s.length>1&&!o&&(o=!0,Laya.timer.callLater(this,()=>{console.warn(t+"Find an object that is not unique!");})),this.findObjectByName(e.getChildAt(r),t,i,a,s,o);return i?s.length>=1?s[0]:0==s.length?null:void 0:s;}
static getFadeMaterial(){let e=new Laya.PBRStandardMaterial();return e.albedoColor=new Laya.Vector4(1,0,0,0),e.renderMode=Laya.PBRRenderMode.Fade,e;}
static selectRoleHair(e,t){let i=[],a=t.getChildByName("model").getChildByName("FemaleAnimations_v11"),s=a.getChildByName("Character"),o=s.getChildByName("Hair_1");i.push(o);let r=s.getChildByName("Hair_2");i.push(r);let n=a.getChildAt(1).getChildAt(2).getChildAt(0).getChildAt(0).getChildAt(1).getChildAt(0),l=n.getChildByName("Hair_3 1"),h=n.getChildByName("Hair_4");i.push(l),i.push(h);for(let t=0;t<i.length;t++)i[t].active=e-1==t;}
static splitRoleInfo(e){return e.split(",");}
static repeatRotate(e){e&&e.transform&&(e.transform.localRotationEulerY=0,Laya.Tween.to(e.transform,{localRotationEulerY:360},2e3,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{this.repeatRotate(e);})));}
static inRectangle(e,t){let i=d.meshVolume(t);d.vectorSubToNum(i,2);let a=new Laya.Vector3();Laya.Vector3.subtract(t.transform.position.clone(),e.clone(),a);let s=new Laya.Vector3();t.transform.getForward(s);let o=Laya.Vector3.dot(s.clone(),a.clone());if(Math.abs(o)<i.z){let e=new Laya.Vector3();t.transform.getRight(e);let s=Laya.Vector3.dot(e.clone(),a.clone());if(Math.abs(s)<i.x){let e=new Laya.Vector3();t.transform.getUp(e);let s=Laya.Vector3.dot(e.clone(),a.clone());if(Math.abs(s)<i.y)return!0;}}
return!1;}
static boxCollider(e,t,i){let a=e.transform.position.clone(),s=e.getChildByName("role_box"),o=new Laya.Vector3();Laya.Vector3.subtract(t.clone(),a.clone(),o);let r=s.meshRenderer.bounds._boundBox.max.clone(),n=s.meshRenderer.bounds._boundBox.min.clone();Laya.Vector3.add(r.clone(),o.clone(),r),Laya.Vector3.add(n.clone(),o.clone(),n);let l=new Laya.BoundBox(n,r),h=i.meshRenderer.bounds._boundBox;return Laya.CollisionUtils.boxContainsBox(l,h)>0;}
static boxCollider2(e,t,i){e.meshRenderer.bounds._boundBox.max.clone(),e.meshRenderer.bounds._boundBox.min.clone(),i.meshRenderer.bounds._boundBox.max.clone(),i.meshRenderer.bounds._boundBox.min.clone();return!1;}
static polygonsCollisionTest(e,t){for(var i=e.getSides().concat(t.getSides()),a=new Array(),s=0,o=i.length;s<o;s++)a.push(new Laya.Vector3(i[s].y,-i[s].z,-i[s].x));for(var r=0,n=a.length;r<n;r++){var l=a[r],h=e.getProjection(l),c=t.getProjection(l);if(this.isOverlay(h,c))return!1;}
return!0;}
static getIntervalValue(e,t,i){return e=Math.min(t,e),e=Math.max(i,e);}
static isOverlay(e,t){let i=e.min,a=e.max;return i=e.min<t.min?e.min:t.min,a=e.max>t.max?e.max:t.max,e.max-e.min+(t.max-t.min)<a-i;}
isVector3Zero(e){return e==d.VECTOR_ZEOR;}
static rotateVector3(e,t){let i=this.eulerToQuaternion(t),a=d.VECTOR_ZEOR;return Laya.Vector3.transformQuat(e,i,a),a;}
static getFractureIndex(e,t,i){let a,s=d.vectorSubToNum(d.meshVolume(t),2),o=t.transform.position.clone();a=i?o.x-s.x:o.x+s.x;for(let t=0;t<e.numChildren;t++){let a=e.getChildAt(t).transform.position.clone();if(i){if(a.x>o.x)return t;}else if(a.x<o.x)return t;}
return-1;}
static addDownAction(e){let t=e.transform.position.y-5;Laya.Tween.to(e.transform,{localPositionY:t},1e3,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{e.destroy();}));}
static addButtonAction(e){e.on(Laya.Event.MOUSE_DOWN,this,()=>{Laya.Tween.clearAll(e),e.scale(1,1),Laya.Tween.to(e,{scaleX:.8,scaleY:.8},200,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:1,scaleY:1},100,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{}));}));});}
static addFide(e){e.alpha=.2,Laya.Tween.to(e,{alpha:1},3500,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{alpha:.2},3500,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{this.addFide(e);}));}));}
static userHit(e,t,i){let a=new Array();this.ray||(this.ray=new Laya.Ray(new Laya.Vector3(),new Laya.Vector3()),this.point=new Laya.Vector2()),this.point.x=e.x
this.point.y=e.y
i.viewportPointToRay(this.point,this.ray),t.physicsSimulation.rayCastAll(this.ray,a,.15);return(a=this.hitResultsSort(this.ray.origin,a)).length>0?a:null;}
static hitResultsSort(e,t){for(let i=0;i<t.length-1;i++)for(let a=0;a<t.length-1-i;a++){if(Laya.Vector3.distance(t[a].point,e)>Laya.Vector3.distance(t[a+1].point,e)){let e=t[a+1];t[a+1]=t[a],t[a]=e;}}
return t;}
static setColliderTransparent(e){if(e)for(let t=0;t<e.length;t++){e[t].meshRenderer.material=d.getFadeMaterial();}}
static material(e){let t=e;if(t.meshRenderer&&t.meshRenderer.material)for(let e=0;e<t.meshRenderer.materials.length;e++){let i=t.meshRenderer.materials[e];i=i.clone();}else{let t=e;t.skinnedMeshRenderer&&t.skinnedMeshRenderer.material&&(t.skinnedMeshRenderer.material=t.skinnedMeshRenderer.material.clone());}
for(let t=0;t<e.numChildren;t++)this.material(e.getChildAt(t));}
static setRoughMaterial(e){let t=e;if(t.meshRenderer&&t.meshRenderer.material)for(let e=0;e<t.meshRenderer.materials.length;e++){let i=t.meshRenderer.materials[e];i instanceof Laya.PBRStandardMaterial&&(i.smoothness=0);}else{let t=e;t.skinnedMeshRenderer&&t.skinnedMeshRenderer.material&&t.skinnedMeshRenderer.material instanceof Laya.PBRStandardMaterial&&(t.skinnedMeshRenderer.material.smoothness=0);}
for(let t=0;t<e.numChildren;t++)this.setRoughMaterial(e.getChildAt(t));}
static translateTargetRotation(e,t){for(;Math.abs(e.x-t.x)>180;)t.x+=360*(e.x>t.x?1:-1);for(;Math.abs(e.y-t.y)>180;)t.y+=360*(e.y>t.y?1:-1);for(;Math.abs(e.z-t.z)>180;)t.z+=360*(e.z>t.z?1:-1);return t;}
static translateQuaternionToEuler(e){let t=new Laya.Vector3();return e.getYawPitchRoll(t),t.x=t.x/Math.PI*180,t.y=t.y/Math.PI*180,t.z=t.z/Math.PI*180,t=new Laya.Vector3(t.y,t.x,t.z);}
static colliderRotate(e,t,i=!1){if(e&&e.getComponent(Laya.PhysicsCollider)){let a=e.getComponent(Laya.PhysicsCollider),s=e.getComponent(Laya.PhysicsComponent).colliderShape.clone(),o=new Laya.Quaternion();t instanceof Laya.Quaternion?o=t:t instanceof Laya.Vector3&&(i&&Laya.Vector3.scale(t.clone(),180/Math.PI,t),o=d.eulerToQuaternion(t)),Laya.Vector3.transformQuat(s.localOffset.clone(),o,s.localOffset),a.colliderShape=s;}}
static jsonToArray(e){let t=[];return Object.keys(e).forEach(i=>{let a=e[i];a instanceof Object&&(a=this.jsonToArray(a)),t.push(a);}),t;}
static animPlayCirculation(e,t,i,a=1,s=1,o=1){let r=e.getComponent(Laya.Animator),n="",l=1;1==o?(n=t,l=a):2==o&&(n=i,l=s),r.play(n,0,0);let h=r.getControllerLayer(0).getCurrentPlayState().animatorState.clip.duration()/l;return Laya.timer.once(1e3*h,this.animPlayCirculation,()=>{o=1==o?2:1,this.animPlayCirculation(e,t,i,a,s,o);}),r;}
static screenAdaptation(e){let t=[1,1,0,0];return e.scale_screen.x=a,t;}
static loadSprite3D(e,t=null){let i=Laya.loader.getRes(e);return i?Laya.Sprite3D.instantiate(i):(Laya.Sprite3D.load(e,Laya.Handler.create(this,e=>{let i=Laya.Sprite3D.instantiate(e);t&&t(i);})),null);}
static radiusScope(e,t,i){let a=e.clone(),s=t.clone(),o=s.clone();if(e instanceof Laya.Vector2&&t instanceof Laya.Vector2){let e=this.vector2Subtract(s,a);Laya.Vector2.scalarLength(e)>i?(Laya.Vector2.normalize(e.clone(),e),Laya.Vector2.scale(e.clone(),i,e),o=this.vector2Add(a,e)):o=t;}else if(e instanceof Laya.Vector3&&t instanceof Laya.Vector3){let e=new Laya.Vector3();Laya.Vector3.subtract(s,a,e),Laya.Vector3.distance(s,a)>i?(Laya.Vector3.normalize(e.clone(),e),Laya.Vector3.scale(e.clone(),i,e),Laya.Vector3.add(a.clone(),e.clone(),o)):o=t;}else console.warn(" ");return o;}
static vector2Subtract(e,t,i){let a=e.x-t.x,s=e.y-t.y;return new Laya.Vector2(a,s);}
static vector2Add(e,t,i){let a=e.x+t.x,s=e.y+t.y;return new Laya.Vector2(a,s);}
static coordinateSystemChange(e,t=1){let i=e.clone();return 1==t?(i.y+=180,i.x*=-1):2==t&&(i.z*=-1),(e=i.clone()).clone();}
static randomRange(e,t){let i=Math.min(e,t),a=Math.max(e,t),s=Math.max(this.getFloatNum(i),this.getFloatNum(a));return Math.floor((Math.random()*(a-i)+i)*Math.pow(10,s))/Math.pow(10,s);}
static getFloatNum(e){let t=0;if(!Number.isInteger(e)){let i=e.toString(),a=i.indexOf(".");-1!=a&&(t=i.length-a-1);}
return t;}
static lookTargetAngle(e,t){let i=new Laya.Vector3();Laya.Vector3.subtract(t.clone(),e.clone(),i),Laya.Vector3.normalize(i.clone(),i),console.log(i);let a=Laya.Vector3.dot(i.clone(),new Laya.Vector3(1,0,0)),s=Laya.Vector3.dot(i.clone(),new Laya.Vector3(0,1,0)),o=Laya.Vector3.dot(i.clone(),new Laya.Vector3(0,0,1));console.log(new Laya.Vector3(a,s,o)),i.x=Math.atan2(s,o)/Math.PI,i.y=Math.atan2(o,a)/Math.PI,i.z=Math.atan2(a,s)/Math.PI,console.log(i);}
static highlightHint(e,t,i,a){let s=Laya.stage.width,o=Laya.stage.height;e.destroyChildren();let r=this.switchPointLocalOrGlobal(e.parent,0,0,!1);e.pos(r.x,r.y);let n=new Laya.Sprite(),l=new Laya.Sprite(),h=new Laya.Sprite();e.addChild(n),n.addChild(l),n.addChild(h),l.alpha=.5,l.graphics.drawRect(0,0,s,o,"#101010"),n.cacheAs="bitmap";let c=new Laya.HitArea();c.hit.drawRect(0,0,s,o,"#000000"),n.hitArea=c,n.mouseEnabled=!0;let p=t.width*t.globalScaleX,m=t.height*t.globalScaleY,d=this.switchPointLocalOrGlobal(t,0,0),g=d.x,u=d.y;c.unHit.drawRect(g,u,p,m,"#000000"),h.visible=!0,h.blendMode="destination-out",h.graphics=c.unHit;let y=new Laya.Label();if(e.addChild(y),a){let e=new Laya.Text();y.addChild(e),e.text=a,e.align="center",e.wordWrap=!0,e.color="#ffffff",e.fontSize=.044*o,e.width=.65*s,e.height=Math.ceil(e.fontSize*a.length/e.width)*e.fontSize,e.x=(s-e.width)/2,e.y=e.fontSize/8,y.bgColor="#000000",y.y=.212*o,y.width=s,y.height=e.height+2*e.y;}
let _=()=>{t.off(Laya.Event.MOUSE_DOWN,this.highlightHint,_),n.off(Laya.Event.MOUSE_DOWN,this.highlightHint,f),Laya.Tween.clearAll(y),e.destroyChildren(),i&&i();},f=()=>{a&&(Laya.Tween.clearAll(y),Laya.Tween.to(y,{alpha:0},300,Laya.Ease.linearIn,Laya.Handler.create(this.highlightHint,()=>{Laya.Tween.to(y,{alpha:1},300,Laya.Ease.linearIn,Laya.Handler.create(this.highlightHint,()=>{}));})));};t.on(Laya.Event.MOUSE_DOWN,this.highlightHint,_),n.on(Laya.Event.MOUSE_DOWN,this.highlightHint,f);}
static switchPointLocalOrGlobal(e,t=.5,i=.5,a=!0){let s=new Laya.Point();return a?(t<=1&&i<=1?(s.x=e.width*t,s.y=e.height*i):(s.x=t,s.y=i),e.localToGlobal(s)):(s.x=t,s.y=i,e.globalToLocal(s)),s;}}
class g extends Laya.Sprite{constructor(){super();}
showToStage(e,t=null){this.callback=t;}
loadComplete(e){this.atlasUrl?l.load(this.atlasUrl,Laya.Handler.create(this,()=>{e&&e();})):e&&e();}
removeFromStage(){this.callback&&this.callback();}}
class u extends g{constructor(){super(),this.screenRatio=[1,1,0,0],this.progress=0,this.hintTextArr=["* The game will save its progress when you leave town","* Regarding saving, the system will save the things you put in the car, and the car will be automatically fetched when you enter the corresponding scene","* Regarding saving, the system will save the events that you have done. For example: the door you opened with a key does not need a key","* For saving, if you want to clear the saved data, click Settings → Clear Data and exit","* Regarding saving, if the game fails, you start over"],this.initView(),this.initEvent();}
initView(){this.loadingView||(this.loadingView=new c.LoadingViewUI(),this.addChild(this.loadingView),Laya.timer.callLater(this,()=>{this.screenRatio=d.screenAdaptation(this.loadingView);}));}
initEvent(){this.loadingView.back.on(Laya.Event.MOUSE_DOWN,this,this.back);}
showToStage(e){this._params=e,this.loadingView.loadLose.visible=!1,this.loadingView.back.visible=!1,Laya.timer.frameLoop(180,this,this.updateHint),this.updateHint(),this.progress=0,this.loadingView.hslider_progres.scaleX=this.progress,this.loadingView.progres_text.text=Math.round(100*this.progress)+"%",e&&e.urls?l.load(e.urls,Laya.Handler.create(this,t=>{t?(e.beforNextCb&&e.beforNextCb(),Laya.timer.once(500,this,()=>{e.nextView&&(R.hideView(R.LOAD_VIEW),R.showView(e.nextView)),e.cb&&e.cb();})):this.loadErr();}),Laya.Handler.create(this,e=>{this.updateProgress(e);})):this.updateProgress(.99);Laya.stage.on("resize",this,this.resizeFun);this.resizeFun();}
resizeFun(){this.loadingView.width=Laya.stage.width;this.loadingView.height=Laya.stage.height;let c=Laya.Browser.clientWidth/Laya.Browser.clientHeight,d=Laya.stage.width,g=Laya.stage.height,u=Laya.stage.width/1920,y=Laya.stage.height/1080;if(1920/1080>c){this.loadingView.full_screen_scale.scale(y,y),this.loadingView.full_screen_scale.x=-(2304*y-d)/2}else{this.loadingView.full_screen_scale.scale(u,u),this.loadingView.full_screen_scale.y=-(1296*u-g)/2}}
loadErr(){console.log("Load failure"),this.loadingView.loadLose.visible=!0,this.loadingView.text2.text=1==this._params.type?"Loading failed, please try to restart the game!":"Load failed, please click the back home button, re-enter the game!",this.loadingView.back.visible=1!=this._params.type;}
back(){R.hideView(R.LOAD_VIEW),R.showView(R.MAIN_VIEW);}
removeFromStage(){Laya.stage.off("resize",this,this.resizeFun);Laya.timer.clear(this,this.updateHint);}
updateProgress(e){this.progress=e,this.loadingView.hslider_progres.scaleX=this.progress,this.loadingView.progres_text.text=Math.round(100*this.progress)+"%";}
updateHint(){let e=this.hintTextArr.length,t=this.hintTextArr[d.randomRange(0,e)];e>1&&t==this.loadingView.hint_text.text?this.updateHint():this.loadingView.hint_text.text=t;}}
class y{constructor(){this.url="sound/",this.updateSoundSize();}
updateSoundSize(){}
blur(){Laya.stage.on(Laya.Event.BLUR,this,()=>{});}
static playMusic(e,t=1,i=null,a=0){if(window.pause)return;this.stopMusic();this.curr_bgm_url=e;let s=Laya.SoundManager.playMusic(e,t,Laya.Handler.create(this,()=>{i&&Laya.timer.once(200,this,()=>{i();});}),a);return this.bgmMusic=s,s;}
static playSound(e,t=1,i=null,a=null,s=0){if(window.pause)return;let o=Laya.SoundManager.playSound(e,t,Laya.Handler.create(this,()=>{i&&Laya.timer.once(200,this,()=>{i();});}),a,s);return-1==this.soundNameArr.indexOf(e)&&(this.soundNameArr.push(e),this.soundChannelArr.push(o)),o;}
static stopSound(e){(-1!=this.soundNameArr.indexOf(e)||this.bgmMusic instanceof Laya.SoundChannel&&-1!=this.bgmMusic.url.indexOf(e))&&Laya.SoundManager.stopSound(e),-1!=this.soundNameArr.indexOf(e)&&(this.soundNameArr.splice(this.soundNameArr.indexOf(e),1),this.soundChannelArr.forEach((t,i)=>{t instanceof Laya.SoundChannel&&-1!=t.url.indexOf(e)&&this.soundChannelArr.splice(i,1);})),this.bgmMusic instanceof Laya.SoundChannel&&-1!=this.bgmMusic.url.indexOf(e)&&(this.bgmMusic=null);}
static stopAll(){Laya.SoundManager.stopAll(),this.bgmMusic=null,this.soundNameArr=[],this.soundChannelArr=[];}
static stopMusic(){Laya.SoundManager.stopMusic(),this.bgmMusic=null;}
static stopAllSound(){Laya.SoundManager.stopAllSound(),this.soundNameArr=[],this.soundChannelArr=[];}}
y.bgmMusic=null,y.soundNameArr=[],y.soundChannelArr=[];class _{constructor(){}
static get NEXT_PAGE(){return "sound/next_page_baofeng"+this.suffix;}
static get SONIDOS_ATAQUE(){return "sound/sonidos_ataque_baofeng"+this.suffix;}
static get AUTO_70CHEVYSS(){return "sound/70ChevySS"+this.suffix;}
static get METALLIC_BLIND(){return "sound/ID_metallic_blind_baofeng"+this.suffix;}
static get STOP_VAN(){return "sound/ID_stop_van_baofeng"+this.suffix;}
static get OPEN_WOOD_DOOR(){return "sound/ID_open_wood_door_baofeng"+this.suffix;}
static get OPEN_WOOD_DRAWER(){return "sound/ID_open_wood_drawer_baofeng"+this.suffix;}
static get CLOSE_WOOD_DOOR(){return "sound/ID_close_wood_door_baofeng"+this.suffix;}
static get CLOSE_WOOD_DRAWER(){return "sound/ID_close_wood_drawer_baofeng"+this.suffix;}
static get GRAB_ITEM(){return "sound/ID_grab_item_baofeng"+this.suffix;}
static get DROP_ROPE(){return "sound/ID_drop_rope_baofeng"+this.suffix;}
static get DROP_SMALL_ITEM(){return "sound/ID_drop_small_item_baofeng"+this.suffix;}
static get FOOTSTEP4(){return "sound/footstep4"+this.suffix;}
static get FOOTSTEP5(){return "sound/footstep5"+this.suffix;}
static get FOOTSTEP8(){return "sound/footstep8"+this.suffix;}
static get FOOTSTEP10(){return "sound/footstep10"+this.suffix;}
static get FOOTSTEP17(){return "sound/footstep17"+this.suffix;}
static get GRITO(){return "sound/ID_Children_grito_baofeng"+this.suffix;}
static get RUN(){return "sound/run"+this.suffix;}
static get LOSE(){return "sound/lose"+this.suffix;}
static get WIN(){return "sound/win"+this.suffix;}
static TestAllSoundLoad(){let e=[_.CONFLICT_0,_.BACKGROUND_CASETA,_.BACKGROUND_PRK,_.VAN_LOOP,_.NEXT_PAGE,_.SONIDOS_ATAQUE,_.AUTO_70CHEVYSS,_.METALLIC_BLIND,_.STOP_VAN,_.OPEN_WOOD_DOOR,_.OPEN_WOOD_DRAWER,_.CLOSE_WOOD_DOOR,_.CLOSE_WOOD_DRAWER,_.GRAB_ITEM,_.DROP_SMALL_ITEM,_.FOOTSTEP4,_.FOOTSTEP5,_.FOOTSTEP8,_.FOOTSTEP10,_.FOOTSTEP17,_.GRITO,_.RUN,_.LOSE,_.WIN];l.load(e,Laya.Handler.create(this,e=>{console.log(e);}));}
static getFootstep(){let e=[_.FOOTSTEP4,_.FOOTSTEP5,_.FOOTSTEP8,_.FOOTSTEP10,_.FOOTSTEP17];return e[Math.floor(Math.random()*e.length)];}}
_.suffix=".mp3",_.BGM="sound/bgm.mp3",_.CONFLICT_0="sound/bgm_conflict.mp3",_.BACKGROUND_CASETA="sound/bgm_caseta.mp3",_.BACKGROUND_PRK="sound/bgm_prk.mp3",_.VAN_LOOP="sound/bgm_van_loop.mp3";class f extends Laya.Sprite{constructor(){super(),this.prepareGameItem=new c.Item.PrepareGameItemUI(),this.addChild(this.prepareGameItem),this.prepareGameView=R.getView(R.PREPARE_GAME_VIEW);}
bind(e,t,i){this.prepareGameItem.text.text=t,this.prepareGameItem.text.font="Arial",this.prepareGameItem.text.fontSize=40,this.prepareGameItem.text.bold=!0;if(i){this.prepareGameItem.choose_bg.visible=!0,this.prepareGameItem.text.color="#ffdebb";let t=this.prepareGameView.modeExplain;for(let e=0;e<t.numChildren;e++){t.getChildAt(e).visible=!1;}
let i=e+1;t.getChildByName("mode_explain"+i).visible=!0;}else{this.prepareGameItem.choose_bg.visible=!1,this.prepareGameItem.text.color="#5d3000";}}}
class x extends g{constructor(){super(),this.modeText=["Ghost","Normal","Difficulty","Nightmare"],this.modeData=[],this.townRes=[a.Town,s.Camera,s.GlobalResource,s.RodRole,{url:s.ShezhiAtlas,type:Laya.Loader.ATLAS},{url:s.TishiAtlas,type:Laya.Loader.ATLAS},{url:s.YouxiAtlas,type:Laya.Loader.ATLAS},{url:s.MapAtlas,type:Laya.Loader.ATLAS},{url:s.IconAtlas,type:Laya.Loader.ATLAS},{url:s.OtherAtlas,type:Laya.Loader.ATLAS},{url:s.ObjectListJson,type:Laya.Loader.JSON},{url:s.TriggerBox1Json,type:Laya.Loader.JSON}],this.initView(),this.initEvent(),this.modeData=[];for(let e=0;e<this.modeText.length;e++){let t=[e,this.modeText[e]];this.modeData.push(t);}}
initView(){this.prepareGameView||(this.prepareGameView=new c.PrepareGameViewUI(),x.ratio=d.screenAdaptation(this.prepareGameView)[0],this.addChild(this.prepareGameView)),this.modeExplain=this.prepareGameView.mode_explain;YYGGames.gameBanner.visible=false;}
resizeFun(){this.prepareGameView.width=Laya.stage.width;this.prepareGameView.height=Laya.stage.height;}
initEvent(){this.prepareGameView.start_game.on(Laya.Event.MOUSE_DOWN,this,this.startGame);}
initModeList(){let e=this.prepareGameView.list;e.itemRender=w,e.repeatX=1,e.vScrollBarSkin="",e.spaceX=80,e.spaceY=40,e.selectEnable=!0,e.selectHandler=new Laya.Handler(this,this.onSelect),e.renderHandler=new Laya.Handler(this,this.onRander),e.array=this.modeData,e.initItems(),e.selectedIndex=1;}
onSelect(e){e<0||(x.curSelectIndex=e);}
onRander(e,t){e.setView(e.dataSource);}
startGame(){YYGGames.showInterstitial(()=>{Qx.sdk.clickStartButton().then(()=>{R.hideView(R.PREPARE_GAME_VIEW),Qx.uma.trackEvent("step3","Start loading the map"),R.showView(R.LOAD_VIEW,{urls:this.townRes,beforNextCb:()=>{},nextView:R.GAME_VIEW,cb:()=>{Qx.uma.trackEvent("step4","Finished loading the map"),v.init();}});});})}
showToStage(e){this.initModeList(),this.prepareGameView.rod_sprite.addChild(R.getView(R.MAIN_VIEW).scene3d);Laya.stage.on("resize",this,this.resizeFun);this.resizeFun();}
removeFromStage(){Laya.stage.off("resize",this,this.resizeFun);Laya.timer.clearAll(this),R.getView(R.MAIN_VIEW).exitMainView();}}
x.curSelectIndex=-1,x.ratio=1;class w extends Laya.Box{constructor(){super(),this.prepareGameItem=new f(),this.addChild(this.prepareGameItem),this.size(w.WIDTH,w.HEIGHT);}
setView(e){let t=x.curSelectIndex==e[0];this.prepareGameItem.bind(e[0],e[1],t);}}
w.WIDTH=387*x.ratio,w.HEIGHT=90*x.ratio;class b{constructor(e){this.gameMode=1,this.speed=.4,this.patrolArrIndex=0,this.addPointInterval=0,this.checkDistance=.8,this.isMove=!1,this.isCatch=!0,this.completeRunBGM=!0,this.patrolArr=[],this.movePointArr=[],this.trackArr=[],this.soundRun=null,this.startPos=null,this.rod=e,this.init();}
init(){this.gameMode=v.instance.ice2Game.gameMode,this.role=v.instance.ice2Game.ice2Camera.role,this.houseColliderArr=v.instance.ice2Game.ice2Camera.house_collider_arr;let e=d.findObjectByLikeName(this.rod,"penwu")[0].particleSystem;e.looping=!1,e.stop(),this.mapChange(),this.initEvent();}
initEvent(){Laya.stage.on(Laya.Event.FOCUS,this,()=>{this.isMove&&(this.completeRunBGM=!0);});}
fixeUpdate(){if(0==this.isMove||this.currentMap.name==e.Classroom)return;let t=this.getMovePoint(),i=this.speed;if(0!=this.trackArr.length){this.anim.speed=1,1==this.gameMode?i*=2:2!=this.gameMode&&3!=this.gameMode||(i*=2.8,this.setRodState(this.isMove,"rod_run"));}
else{let e=this.anim.getControllerLayer(0).getCurrentPlayState().animatorState.name;("rod_run"==e||"rod_daiji"==e||"rod_walk"==e&&.5!=this.anim.speed)&&(this.setRodState(this.isMove,"rod_walk",.5),this.anim.speed=.5);}
if(v.instance.ice2Game.eventProgress("grave_monument2")&&v.instance.ice2Game.mapName==e.Cemetery){let e=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"light_candle")[0],a=d.findObjectByLikeName(v.instance.ice2Game.scene,"rod_cemetery")[0];if(v.instance.ice2Game.ice2Camera.boxIntersect(this.rod,e)&&!v.instance.ice2Game.eventProgress("grave_monument2_1")){this.isCatch=!1,this.trackArr=[],i=this.speed,this.anim.speed=.5;let e=a.getChildAt(0).transform.position.clone();t=new Laya.Vector3(e.x,0,e.z),Laya.Vector3.distance(this.rod.transform.position.clone(),e.clone())<.1&&(Laya.Vector3.lerp(t.clone(),e.clone(),.01,t),Laya.Vector3.distance(this.rod.transform.position.clone(),e.clone())<.02&&v.instance.ice2Game.eventProgress("grave_monument2_1",2));}else{let t=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"to_light_candle")[0];t||((t=e.parent.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(.05,.3,.9),"to_light_candle"))).transform.localPosition=new Laya.Vector3(-.461,.1477,.916),d.setColliderTransparent([t])),v.instance.ice2Game.ice2Camera.boxIntersect(this.rod,t)&&(this.trackArr=[],this.movePointArr[0]=a.getChildAt(0).transform.position.clone());}
if(v.instance.ice2Game.eventProgress("grave_monument2_1")&&!v.instance.ice2Game.eventProgress("grave_monument2_2")){this.isCatch=!1,this.trackArr=[],i=this.speed,this.anim.speed=.5;let e=a.getChildAt(1).transform.position.clone();if(t=new Laya.Vector3(e.x,0,e.z),Laya.Vector3.distance(this.rod.transform.position.clone(),e.clone())<.1&&(Laya.Vector3.lerp(t.clone(),e.clone(),.01,t),Laya.Vector3.distance(this.rod.transform.position.clone(),e.clone())<.02)){v.instance.ice2Game.eventProgress("grave_monument2_2",2);let e=a.getChildAt(1);this.rod.transform.position=e.transform.position.clone(),this.rod.transform.rotationEuler=e.transform.rotationEuler.clone(),this.rod.transform.setWorldLossyScale(e.transform.getWorldLossyScale().clone());}}
if(v.instance.ice2Game.eventProgress("grave_monument2_2")){if(this.anim.speed=1,!v.instance.ice2Game.eventProgress("grave_monument2_3")){v.instance.ice2Game.eventProgress("grave_monument2_3",2),this.anim.speed=1,this.anim.play("rod_mudi",0,0);let e=this.anim.getControllerLayer(0).getCurrentPlayState().animatorState.clip.duration()/this.anim.speed;Laya.timer.once(1e3*e,this,()=>{let e=d.findObjectByName(v.instance.ice2Game.scene,"matchbox");e&&(e.active=!0,v.instance.ice2Game.eventProgress(e.name,2)),this.isCatch=!0,this.rod.transform.setWorldLossyScale(new Laya.Vector3(1,1,1)),this.anim.play("rod_walk",0,0),v.instance.ice2Game.eventProgress("grave_monument2",0);});}
return;}}
this.trackArr.length>0&&this.completeRunBGM?(this.completeRunBGM=!1,this.soundRun=y.playSound(_.RUN,1,()=>{this.completeRunBGM=!0;})):0!=this.trackArr.length||null==this.soundRun||this.soundRun.isStopped||y.stopSound(_.RUN),this.rod.transform.lookAt(t,new Laya.Vector3(0,1,0),!1),this.rod.transform.localRotationEulerY+=180,this.rod.transform.localRotationEulerX=0,this.rod.transform.localRotationEulerZ=0;let a=this.rod.transform.localPosition.clone(),s=new Laya.Vector3(0,0,.003*i);if(Laya.Vector3.transformQuat(s.clone(),this.rod.transform.localRotation.clone(),s),Laya.Vector3.add(a.clone(),s.clone(),a),v.instance.ice2Game.ice2Camera.isCollision(this.rod,a,this.houseColliderArr))return this.movePointArr.shift(),void(this.trackArr.length>0&&this.trackArr.shift());this.trackArr.length>0&&Laya.Vector3.distance(this.rod.transform.position.clone(),this.trackArr[0])<=.2?this.trackArr.shift():Laya.Vector3.distance(this.rod.transform.position.clone(),t)<=.2&&this.movePointArr.shift(),this.rod.transform.localPosition=a;}
getMovePoint(){let t=Laya.Vector3.distance(this.rod.transform.position.clone(),this.role.transform.position.clone());if(this.addPointInterval++,1e5==this.addPointInterval&&(this.addPointInterval=0),.6!=this.checkDistance||v.instance.ice2Game.mapName==e.Town||v.instance.ice2Game.mapName==e.Cemetery||v.instance.ice2Game.mapName==e.Stall?this.checkDistance=.6:this.checkDistance=.8,t<=this.checkDistance&&0!=this.gameMode&&!v.instance.ice2Game.isGuide){for(this.trackArr.length>=30?this.trackArr.shift():0!=this.trackArr.length&&this.addPointInterval%100*.1!=0||this.trackArr.push(this.role.transform.position.clone());this.trackArr.length>0&&Laya.Vector3.distance(this.rod.transform.position.clone(),this.trackArr[0])>t;)
this.trackArr.shift(),this.trackArr.push(this.role.transform.position.clone());if(t<=.15&&1==this.isMove&&1==this.isCatch){let e=d.findObjectByLikeName(this.rod,"penwu")[0].particleSystem;e.looping=!0,e.play(),v.instance.ice2Game.reduceHP(),this.isCatch=!1;}}
if(this.trackArr.length>0)return this.trackArr[0];if(this.movePointArr.length<=0){let e=new Laya.Vector3(this.rod.transform.position.x+.5*Math.random()*(Math.random()>.5?1:-1),0,this.rod.transform.position.z+.5*Math.random()*(Math.random()>.5?1:-1));this.movePointArr.push(e);}
if(this.movePointArr.length<=5||this.addPointInterval%1e3*5==0){let e=new Laya.Vector3(this.rod.transform.position.x+5*Math.random()*(Math.random()>.5?1:-1),0,this.rod.transform.position.z+5*Math.random()*(Math.random()>.5?1:-1));this.movePointArr.push(e);}
for(;this.movePointArr.length>=15;)this.movePointArr.shift();if(!this.startPos){this.startPos=this.movePointArr[0];}
return 0==this.movePointArr.length&&(this.patrolArrIndex++,this.patrolArrIndex>=this.patrolArr.length&&(this.patrolArrIndex=0),this.movePointArr.push(this.patrolArr[this.patrolArrIndex])),this.movePointArr[0].y=this.rod.transform.position.y,this.movePointArr[0];}
setRodState(e=this.isMove,t,i=1){this.isMove==e&&this.anim instanceof Laya.Animator&&this.anim.getControllerLayer(0).getCurrentPlayState().animatorState.name==t||(this.isMove=e,this.anim=t?v.instance.ice2Game.animPlay(this.rod,t,i):v.instance.ice2Game.animPlay(this.rod,"rod_walk",.5),0==this.isMove&&(this.anim=v.instance.ice2Game.animPlay(this.rod,"rod_daiji")));}
mapChange(){if(this.isMove=!1,this.movePointArr=[],this.trackArr=[],this.patrolArr=[],this.startPos=null,this.currentMap=v.instance.ice2Game.ice2Camera.map.currentMap,this.currentMap.addChild(this.rod),this.currentMap.name==e.Classroom)return;this.houseColliderArr=v.instance.ice2Game.ice2Camera.house_collider_arr;let t=d.findObjectByLikeName(this.currentMap,"patrol_arr")[0];for(let e=0;e<t.numChildren;e++)this.patrolArr.push(t.getChildAt(e).transform.position);this.movePointArr=this.patrolArr.slice(0,this.patrolArr.length),this.rod.transform.position=this.movePointArr[0],this.setRodState(),v.instance.ice2Game.eventProgress("grave_monument2")&&(v.instance.ice2Game.eventProgress("grave_monument2_1",0),v.instance.ice2Game.eventProgress("grave_monument2_2",0));}
mapChange0(){this.rod.transform.position=this.startPos;}}
class L{constructor(){this.triggerBoxName="",this.ty=0,this.row=0,this.col=0,this.mapGridSize=.01,this.mapOffset=new Laya.Vector3(),this.init();this.firstMap=true;this.carGoodsArr=[];}
init(){this.currentMap=v.instance.scene.getChildByName("sceneMap").getChildByName(e.Town),this.globalResource=Laya.Sprite3D.instantiate(Laya.loader.getRes(s.GlobalResource)),this.car=this.globalResource.getChildByName("car");let t=this.car.transform.position.clone(),i=this.car.transform.rotation.clone();this.currentMap.addChild(this.car),this.car.transform.position=t,this.car.transform.rotation=i,v.instance.scene.getChildByName("sceneMap").addChild(this.globalResource),this.globalResource.transform.position=new Laya.Vector3(0,0,0),this.globalResource.transform.rotation=new Laya.Quaternion(0,0,0,1),this.scene=v.instance.scene,this.role=v.instance.camera.getChildByName("role_box"),d.findObjectByLikeName(this.currentMap,"MapaCorcho")[0].active=!1,this.initSceneMap(),this.mapArrChange(d.findObjectByLikeName(this.scene,"trigger_box1")[0]),Laya.timer.callLater(this,()=>{3==v.instance.ice2Game.gameMode&&(this.scene.enableFog=!0,this.scene.fogColor=new Laya.Vector3(0,0,0),this.scene.fogStart=.3,this.scene.fogRange=.6);let e=Laya.Sprite3D.instantiate(Laya.loader.getRes(s.RodRole));this.scene.getChildByName("sceneMap").addChild(e),this.rod=new b(e),v.instance.ice2Game.refreshCollider(),d.setColliderTransparent(d.findObjectByLikeName(this.scene,"role_box"));});}
loaderMap(t,i,o){let r=this.getFile(t);if(Laya.loader.getRes(r));else{let r=[];switch(t){case e.Town:r=[a.Town,s.Camera,s.GlobalResource,{url:s.ShezhiAtlas,type:Laya.Loader.ATLAS},{url:s.TishiAtlas,type:Laya.Loader.ATLAS},{url:s.YouxiAtlas,type:Laya.Loader.ATLAS},{url:s.MapAtlas,type:Laya.Loader.ATLAS},{url:s.IconAtlas,type:Laya.Loader.ATLAS},{url:s.OtherAtlas,type:Laya.Loader.ATLAS},{url:s.ObjectListJson,type:Laya.Loader.JSON},{url:s.TriggerBox1Json,type:Laya.Loader.JSON}];break;case e.Circus:r=[a.Circus,{url:s.TriggerBox2Json,type:Laya.Loader.JSON},{url:s.TriggerBox3Json,type:Laya.Loader.JSON},{url:s.TriggerBox4Json,type:Laya.Loader.JSON},{url:s.TriggerBox5Json,type:Laya.Loader.JSON},{url:s.TriggerBox6Json,type:Laya.Loader.JSON}];break;case e.Cemetery:r=[a.Cemetery];break;case e.Stall:r=[a.Stall];break;case e.Garage:r=[a.Garage];break;case e.Classroom:r=[a.Classroom];}
R.showView(R.LOAD_VIEW,{urls:r,nextView:i,cb:o});}}
mapChange(t){if(!Laya.loader.getRes(this.getFile(t)))return void this.loaderMap(t,R.GAME_VIEW,()=>{this.mapChange(t);});let i=this.getFile(t),a=this.scene.getChildByName("sceneMap"),s=a.getChildByName(v.instance.ice2Game.mapName),o=s.getChildByName("car");if(s.active=!1,null!=a.getChildByName(t))a.getChildByName(t).active=!0,this.currentMap=a.getChildByName(t);else{let e=Laya.Sprite3D.instantiate(Laya.loader.getRes(i));d.material(e),e.transform.position=new Laya.Vector3(0,0,0),a.addChild(e),this.currentMap=e,this.initSceneMap();}
t==e.Classroom&&1==this.scene.enableFog&&3==v.instance.ice2Game.gameMode?this.scene.enableFog=!1:3==v.instance.ice2Game.gameMode&&0==this.scene.enableFog&&(this.scene.enableFog=!0),v.instance.ice2Game.mapName=t,a.getChildByName(t).addChild(o);let r=d.findObjectByLikeName(a.getChildByName(t),"truck_pos")[0];o.transform.position=r.transform.position,v.instance.ice2Game.ice2Camera.camera.transform.position=d.findObjectByLikeName(this.car,"player_pos")[0].transform.position.clone(),v.instance.ice2Game.ice2Camera.horAngle=0,v.instance.ice2Game.ice2Camera.verAngle=0,v.instance.ice2Game.ice2Camera.mapChange(),null!=v.instance.ice2Game.ice2Camera.map.rod&&v.instance.ice2Game.ice2Camera.map.rod.mapChange(),Laya.timer.callLater(this,()=>{let e=v.instance.ice2Game.objList;Object.keys(e).forEach(t=>{if(""!=e[t].name){let i=d.findObjectByName(this.currentMap,e[t].name,!1);0!=i.length&&(v.instance.ice2Game.objArr.push(i[0]),""!=e[t].light&&v.instance.ice2Game.setObjHintArr(i[0]),""!=e[t].shine&&v.instance.ice2Game.shine(i[0],1,e[t].shine));}});}),this.updateMapData(),d.setColliderTransparent(d.findObjectByLikeName(this.scene,"collider")),d.setColliderTransparent(d.findObjectByLikeName(this.scene,"trigger_box")),d.setColliderTransparent(d.findObjectByLikeName(this.scene,"up_down"));}
initSceneMap(){let t=this.currentMap.name;d.setRoughMaterial(this.currentMap),d.setColliderTransparent(d.findObjectByLikeName(this.scene,"collider")),d.setColliderTransparent(d.findObjectByLikeName(this.scene,"trigger_box")),d.setColliderTransparent(d.findObjectByLikeName(this.scene,"up_down")),d.findObjectByName(this.globalResource,"shine").active=!1;let i=d.findObjectByLikeName(this.currentMap,"scene_light")[0];for(let a=1;a<i.numChildren&&t!=e.Classroom;a++)i.getChildAt(a)&&(i.getChildAt(a).active=!1);switch(t){case e.Town:d.findObjectByLikeName(this.currentMap,"need_quilt2")[0].active=!1,d.findObjectByLikeName(this.currentMap,"need_quilt3")[0].active=!1,d.findObjectByLikeName(this.currentMap,"nail")[0].active=!1,d.setColliderTransparent(d.findObjectByLikeName(this.currentMap,"in_house")),this.car.getChildByName("scene_light8").getChildAt(0).active=!1,this.car.getChildByName("scene_light8").getChildAt(1).active=!1,Laya.timer.callLater(this,()=>{let e=v.instance.ice2Game.objList;Object.keys(e).forEach(t=>{if(""!=e[t].name){let i=d.findObjectByName(this.currentMap,e[t].name,!1);0!=i.length&&(v.instance.ice2Game.objArr.push(i[0]),""!=e[t].light&&v.instance.ice2Game.setObjHintArr(i[0]),""!=e[t].shine&&v.instance.ice2Game.shine(i[0],1,e[t].shine));}});});break;case e.Circus:d.findObjectByLikeName(this.currentMap,"Mikeperfume")[0].active=!1,d.setColliderTransparent(d.findObjectByLikeName(this.scene,"cable_fall")),d.findObjectByName(this.currentMap,"jiyunbashou1").active=!1;break;case e.Cemetery:d.findObjectByLikeName(this.currentMap,"matchbox")[0].active=!1,d.setColliderTransparent(d.findObjectByLikeName(this.scene,"light_candle"));break;case e.Stall:case e.Garage:case e.Classroom:case e.Forest:}}
findGoods(name){let currentMapArray=["2_1maxituan","3_1mudi","4_1huotan","5_1cheku"];for(var i=0;i<currentMapArray.length;i++){let mapFile=this.getFile(currentMapArray[i]);let _currentMap=Laya.Sprite3D.instantiate(Laya.loader.getRes(mapFile));if(!_currentMap)continue;let ii=d.findObjectByName(_currentMap,name);if(ii){return ii;}}
return null;}
updateMapData(){let t=n.getLocal(o.GAME_DATA);if(t){if(this.firstMap){for(let e=0;e<t.carGoods.length;e++){let i=this.findGoods(t.carGoods[e][0]);i&&"locker"!=i.parent.name&&(this.car.getChildByName("locker").addChild(i),i.active=!0,i.transform.localPosition=new Laya.Vector3(t.carGoods[e][1].x,t.carGoods[e][1].y,t.carGoods[e][1].z))&&this.carGoodsArr.push(t.carGoods[e][0]);}
this.firstMap=false;}else{for(let e=0;e<t.carGoods.length;e++){if(this.carGoodsArr.includes(t.carGoods[e][0]))continue;let i=d.findObjectByName(this.currentMap,t.carGoods[e][0]);i&&"locker"!=i.parent.name&&(this.car.getChildByName("locker").addChild(i),i.active=!0,i.transform.localPosition=new Laya.Vector3(t.carGoods[e][1].x,t.carGoods[e][1].y,t.carGoods[e][1].z))&&this.carGoodsArr.push(t.carGoods[e][0]);}}
t.goodsEventArr.forEach(t=>{let i=v.instance.ice2Game;switch(t){case "gravemonument_cat":if(this.currentMap.name==e.Cemetery){const e=d.findObjectByName(this.currentMap,"cat2");e&&(e.active=!1);let t=d.findObjectByName(this.currentMap,"cat1");if(t){t.active=!0;let e=d.findObjectByName(this.globalResource,"anim_pos_arr").getChildByName("cat1"),a=e.getChildAt(e.numChildren-1);t.transform.localPosition=a.transform.localPosition,t.transform.localRotationEuler=a.transform.localRotationEuler,i.animPlay(t,"cat_eating",1,!1,0);}}
break;case "cat1":if(this.currentMap.name==e.Cemetery){let e=d.findObjectByName(this.currentMap,"cat2");e&&(e.active=!0,i.animPlay(e,"cat_table",1,!1,0));}
break;case "patch_broken":if(this.currentMap.name==e.Circus){let e=d.findObjectByName(this.currentMap,"patch_unbroken");if(e){e.getChildAt(0)&&e.getChildAt(0).destroy(),e.active=!1;let a=d.findObjectByName(this.currentMap,t);a&&(a.active=!0),i.refreshCollider();}}
break;case "gas_tank1":if(this.currentMap.name==e.Cemetery){let e=d.findObjectByName(this.scene,t),a=d.findObjectByName(this.currentMap,"column_before");e&&a&&(i.putGoods(e,a.getChildByName("column_tank")),e.getComponent(Laya.PhysicsCollider)&&e.getComponent(Laya.PhysicsCollider).destroy());}
break;case "alarm_clock":if(this.currentMap.name==e.Cemetery){let e=d.findObjectByName(this.scene,t),a=d.findObjectByName(this.currentMap,"column_before");e&&a&&(i.putGoods(e,a.getChildByName("column_clock")),e.getComponent(Laya.PhysicsCollider)&&e.getComponent(Laya.PhysicsCollider).destroy());}
break;case "column_before":if(this.currentMap.name==e.Cemetery){let e=d.findObjectByName(this.currentMap,t);e&&(e.destroyChildren(),e.getComponent(Laya.PhysicsCollider)&&e.getComponent(Laya.PhysicsCollider).destroy());let a=d.findObjectByName(this.currentMap,"churchwall_before");a&&a.destroy(),i.refreshCollider();}
break;case "screw1":case "screw2":case "screw3":case "screw4":case "lock_ring2":case "lock_ring3":if(this.currentMap.name==e.Circus){let e=d.findObjectByName(this.currentMap,t);e&&(e.active=!1);}
break;case "matchbox":if(this.currentMap.name==e.Cemetery){let e=d.findObjectByName(this.currentMap,t);e&&(e.active=!0);}}});}else{this.firstMap=false;}}
getFile(e){return "res3d/LayaScene_SceneOptimize/Conventional/"+e+".lh";}
mapArrChange(e){if(!e||this.triggerBoxName==e.name)return;this.triggerBoxName=e.name;let t=Laya.loader.getRes("res/json/"+e.name+".json");this.mapHightArr=t.data.split(","),this.laserPositioning=e.parent,this.mapMeshVolume=d.meshVolume(e),this.col=Math.floor(this.mapMeshVolume.x/this.mapGridSize),this.row=Math.floor(this.mapMeshVolume.z/this.mapGridSize);}
getTargetY(){let e,t,i,a,s,o,r,n,l=.5*this.mapGridSize,h=this.ty,c=this.ty,p=new Laya.Vector3(),m=this.role.transform.position.clone();if(Laya.Vector3.subtract(m,this.laserPositioning.transform.position.clone(),p),e=Math.floor((p.x+.5*this.mapMeshVolume.x)/this.mapGridSize)+Math.floor((p.z+l+.5*this.mapMeshVolume.z)/this.mapGridSize)*this.col,t=Math.floor((p.x+.5*this.mapMeshVolume.x)/this.mapGridSize)+Math.floor((p.z-l+.5*this.mapMeshVolume.z)/this.mapGridSize)*this.col,e<0||e>=this.mapHightArr.length||t<0||t>=this.mapHightArr.length)return null;if(i=parseFloat(this.mapHightArr[e]),a=parseFloat(this.mapHightArr[t]),i<=-6||a<=-6)return null;if((r=Math.floor(e/this.col)*this.mapGridSize-.5*this.mapMeshVolume.z)==(n=Math.floor(t/this.col)*this.mapGridSize-.5*this.mapMeshVolume.z))return i;if(h=i+(a-i)*(p.z-r)/(n-r),e=Math.floor((p.x+l+.5*this.mapMeshVolume.x)/this.mapGridSize)+Math.floor((p.z+.5*this.mapMeshVolume.z)/this.mapGridSize)*this.col,t=Math.floor((p.x-l+.5*this.mapMeshVolume.x)/this.mapGridSize)+Math.floor((p.z+.5*this.mapMeshVolume.z)/this.mapGridSize)*this.col,e<0||e>=this.mapHightArr.length||t<0||t>=this.mapHightArr.length)return null;if(i=parseFloat(this.mapHightArr[e]),a=parseFloat(this.mapHightArr[t]),i<=-6||a<=-6)return null;if(s=Math.floor(e%this.col)*this.mapGridSize-.5*this.mapMeshVolume.x,(o=Math.floor(t%this.col)*this.mapGridSize-.5*this.mapMeshVolume.x)==s)return a;if(e%this.col<=2)return null;let d=.5*(h+(c=i+(a-i)*(p.x-s)/(o-s)))-this.ty;return this.ty+1*d;}}
class C{constructor(e,t){this.cameraVx=0,this.cameraVy=0,this.touchPos=new Laya.Vector2(),this.originalRoleHeight=.12,this.floorY=.226,this.roleY=.12,this.cameraMaxY=.5,this.cameraMinY=.03,this.completeStep=!0,this.touchLeft=!1,this.focusGoods=null,this.triggerBox=null,this.house_collider_arr=[],this.point=new Laya.Vector2(),this.stopRotation=!1,this.horAngle=0,this.verAngle=0,this.roteSpeed=1,this.standMaxVerAngle=1.5,this.squatDownMaxVerAngle=.8,this.maxVerAngle=0,this.scene=e,this.camera=t,this.gameView=R.getView(R.GAME_VIEW),this.init(),this.targetDir=new Laya.Vector3(),this.userControl=new I((e,t,i,a)=>{this.controlMoveHandler(e,t,i,a);},(e,t)=>{this.controlRotateHandler(e,t);},e=>{this.controlMoveStatusHandler(e);},e=>{this.controlRotateStatusHandler(e);});}
init(){this.focusGoods=null,this.roleY=this.originalRoleHeight=d.findObjectByLikeName(this.scene,"initial_position")[0].transform.position.y-this.floorY,this.cameraMaxY=this.roleY+this.floorY,this.camera.transform.position.y=this.floorY+this.roleY,this.role=this.camera.getChildByName("role_box"),this.maxVerAngle=this.standMaxVerAngle,this.camera.clearColor=new Laya.Vector4(24/255,30/255,42/255,1),this.map=new L(),Laya.timer.callLater(this,()=>{v.instance.ice2Game.map=this.map;});}
fixeUpdate(){if(this.stopRotation)return;if(this.camera.transform.localRotationEulerX=180*-this.verAngle/Math.PI,this.camera.transform.localRotationEulerY=180*-this.horAngle/Math.PI,v.instance.ice2Game.eventProgress("Cable"))return;let e=this.camera.transform.localPosition.clone(),t=new Laya.Vector3(6e-5*this.cameraVx,0,6e-5*this.cameraVy);Laya.Vector3.scalarLength(t)>.0108&&Laya.Vector3.scale(t.clone(),.0108/Laya.Vector3.scalarLength(t),t),Laya.Vector3.transformQuat(t.clone(),this.camera.transform.localRotation.clone(),t),Laya.Vector3.add(e.clone(),t.clone(),e);let i=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"trigger_box");this.triggerBox=this.getTriggerBox(i),this.setFloorHeight(this.triggerBox);let a=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"up_down"),s=this.getUpDownBox(a);if(this.boxIntersect(this.camera,s)){let t=s.transform.position.y+d.vectorSubToNum(d.meshVolume(s),2).y;e.y<this.floorY+this.roleY||e.y>t&&(e.y=t);}else if(e.y=this.camera.transform.localPosition.y,e.y<this.floorY+this.roleY)e.y=this.floorY+this.roleY;else if(e.y>this.floorY+this.roleY){let t=.012,i=new Laya.Vector3(this.camera.transform.position.x,e.y-t-this.roleY,this.camera.transform.position.z);this.isCollision(this.camera,i,this.house_collider_arr)||(e.y-=t);}else e.y=this.floorY+this.roleY;if(this.isCollision(this.camera,e,this.house_collider_arr)){let t=new Laya.Vector3(e.x,e.y,this.camera.transform.localPositionZ),i=new Laya.Vector3(this.camera.transform.localPositionX,e.y,e.z);if(this.boxIntersect(this.camera,s)){e.x=this.camera.transform.localPosition.x,e.z=this.camera.transform.localPosition.z;let t=s.transform.position.y+d.vectorSubToNum(d.meshVolume(s),2);e.y>t?e.y=t:e.y<this.floorY+this.roleY&&(e.y=this.floorY+this.roleY),this.isCollision(this.camera,e,this.house_collider_arr)&&e.y<this.floorY+this.roleY&&(e.y=this.floorY+this.roleY);}else if(this.isCollision(this.camera,t,this.house_collider_arr)&&!this.isCollision(this.camera,i,this.house_collider_arr))e=i.clone();else{if(!this.isCollision(this.camera,i,this.house_collider_arr)||this.isCollision(this.camera,t,this.house_collider_arr))return;e=t.clone();}}
!this.completeStep||0==this.cameraVx&&0==this.cameraVy||(this.completeStep=!1,y.playSound(_.getFootstep(),1,()=>{this.completeStep=!0;})),this.camera.transform.localPosition=e;}
update(){v.instance.ice2Game.updateCount%10==0&&(this.hitCheck(),null==v.instance.ice2Game.getGoods?this.gameView.discard.visible=!1:this.gameView.discard.visible=!0);}
hitCheck(){let e=this.gameView.gameView.center_point,t=e.localToGlobal(new Laya.Point(e.width/2,e.height/2)),i=d.userHit(t,this.camera.scene,this.camera),a=v.instance.ice2Game.getGoods,s=null;if(null!=i){let e=(s=i[0].collider.owner).name;null!=a&&e==a.name&&(s=i.length>=2?i[1].collider.owner:null);}
if(null!=s){let e,t=v.instance.ice2Game.objList;Object.keys(t).forEach((i,a)=>{t[i].name==s.name&&(e=t[i]);}),null==e&&(e={id:-1,name:"",chineseName:"",hint:"",remark:"",firstGet:"",sign:0,shine:"",light:0,belong:"",icon:"",answer1:"",answer2:"",answer3:"",answer2_icon:"",answer3_icon:""}),v.instance.ice2Game.objInfo=e,this.gameView.gameView.hint_text.visible=!0,this.gameView.gameView.hint_text.text=e.chineseName,this.focusGoods=s;}else this.gameView.gameView.hint_text.visible=!1,this.gameView.gameView.hint_text.text="",this.focusGoods=null;}
changeCameraAngle(e=this.camera.transform.rotationEuler.clone(),t=0){let i=this.camera.transform.localRotationEuler.clone();e||(e=this.camera.transform.rotationEuler.clone()),0!=t?(this.camera.transform.localRotationEulerX=180*-this.verAngle/Math.PI,this.camera.transform.localRotationEulerY=180*-this.horAngle/Math.PI,i=d.translateTargetRotation(this.camera.transform.localRotationEuler.clone(),i.clone()),Laya.Tween.to(this.camera.transform,{localRotationEulerX:i.x,localRotationEulerY:i.y},t,null,Laya.Handler.create(this,()=>{this.verAngle=-e.x*Math.PI/180,this.horAngle=-e.y*Math.PI/180;}))):(this.verAngle=-e.x*Math.PI/180,this.horAngle=-e.y*Math.PI/180);}
getTriggerBox(e){if(e.length>0){for(let t=0;t<e.length;t++){if(this.boxIntersect(this.camera,e[t])&&"trigger_box5"==e[t].name)return v.instance.ice2Game.ice2Camera.map.mapArrChange(e[t]),e[t];if(this.boxIntersect(this.camera,e[t])&&"trigger_box8"==e[t].name&&v.instance.ice2Game.eventProgress("patch_broken"))return e[t];if(this.boxIntersect(this.camera,e[t])&&"trigger_box7"==e[t].name)return e[t];}
for(let t=0;t<e.length;t++)if(this.boxIntersect(this.camera,e[t]))return v.instance.ice2Game.ice2Camera.map.mapArrChange(e[t]),e[t];}
return null;}
getUpDownBox(e){if(e.length>0)for(let t=0;t<e.length;t++)if(this.boxIntersect(this.camera,e[t]))return e[t];return null;}
setFloorHeight(e){if(this.boxIntersect(this.camera,d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"in_house")[0]))this.floorY=.226;else if(e&&"trigger_box8"==e.name)this.floorY=0;else if(e&&"trigger_box7"==e.name)this.floorY=.355;else if(e){let t=v.instance.ice2Game.ice2Camera.map.getTargetY();null!=t?(this.floorY=t,"trigger_box1"==e.name&&this.floorY<0&&(this.floorY=0)):this.floorY=0;}else this.floorY=0;return this.floorY;}
mapChange(){this.house_collider_arr=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"collider");}
cameraAnimation(){v.instance.ice2Game.ice2Camera.userControl.removeEvent(),this.stopRotation=!0;let e=d.findObjectByLikeName(this.scene,"need_window_pos_arr")[0],t=[],i=[];for(let a=0;a<e.numChildren;a++)e.getChildByName("pos"+a)&&(t.push(d.translateTargetRotation(this.camera.transform.localPosition.clone(),e.getChildByName("pos"+a).transform.position.clone())),i.push(d.translateTargetRotation(this.camera.transform.localRotationEuler.clone(),e.getChildByName("pos"+a).transform.rotationEuler.clone())));Laya.timer.loop(1,this,this.cameraLookAt,[t[0]]),Laya.Tween.to(this.camera.transform,{localPositionX:t[1].x,localPositionY:t[1].y,localPositionZ:t[1].z,localRotationEulerX:i[1].x,localRotationEulerY:i[1].y,localRotationEulerZ:i[1].z},800,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{Laya.timer.clear(this,this.cameraLookAt),Laya.Tween.to(this.camera.transform,{localPositionX:t[2].x,localPositionY:t[2].y,localPositionZ:t[2].z,localRotationEulerX:i[2].x,localRotationEulerY:i[2].y,localRotationEulerZ:i[2].z},800,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{Laya.Tween.to(this.camera.transform,{localPositionX:t[3].x,localPositionY:t[3].y,localPositionZ:t[3].z,localRotationEulerX:i[3].x,localRotationEulerY:i[3].y,localRotationEulerZ:i[3].z},800,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{Laya.Tween.to(this.camera.transform,{localPositionX:t[4].x,localPositionY:t[4].y,localPositionZ:t[4].z,localRotationEulerX:i[4].x,localRotationEulerY:i[4].y,localRotationEulerZ:i[4].z},800,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{v.instance.ice2Game.inHouse=!1,this.floorY=0,this.cameraMaxY=t[4].y,Laya.timer.clear(this,this.cameraLookAt),v.instance.ice2Game.ice2Camera.userControl.enable(),this.stopRotation=!1,v.instance.ice2Game.ice2Camera.verAngle=-i[4].x*Math.PI/180,v.instance.ice2Game.ice2Camera.horAngle=-i[4].y*Math.PI/180;}));}));}));}));}
cameraLookAt(e){this.camera.transform.lookAt(e,new Laya.Vector3(0,1,0),!1);}
isCollision(e,t,i){if(0==i.length)return!1;for(let a=0;a<i.length;a++)if(d.boxCollider(e,t,i[a]))return!0;return!1;}
boxIntersect(e,t){if(!t)return null;let i=e.getChildByName("role_box").meshRenderer.bounds._boundBox,a=t.meshRenderer.bounds._boundBox;return Laya.CollisionUtils.boxContainsBox(i,a)>0;}
controlMoveHandler(e,t,i,a){this.touchPos||(this.touchPos=new Laya.Vector2()),this.touchPos.x=i,this.touchPos.y=a,this.cameraVx=e,this.cameraVy=t,this.touchLeft=0!=e||0!=t;}
controlRotateHandler(e,t){let i=this.verAngle+.001*t*this.roteSpeed,a=this.horAngle+.001*e*this.roteSpeed;i=d.getIntervalValue(i,this.maxVerAngle,-this.maxVerAngle),this.verAngle=Laya.MathUtil.lerp(this.verAngle,i,.6),this.horAngle=Laya.MathUtil.lerp(this.horAngle,a,.6);}
controlMoveStatusHandler(e){this.cameraVx=this.cameraVy=0;}
controlRotateStatusHandler(e){}}
class S{constructor(t,i){this.objArr=[],this.objHintArr=[],this.objHintName=[],this.objHintPos=[],this.gameMode=1,this.HP=3,this.gameTime=0,this.mapName=e.Town,this.inHouse=!0,this.curEvent="",this.cableMovePercentage=0,this.tweenTime=1e3,this.stare="",this.isEndAnim=!1,this.endAnimTime=0,this.curAnimCallback=null,this.updateCount=0,this.musicVolume=.5,this.soundVolume=.5,this.pullArr=[],this.goodsEventArr=[],this.stareProgress=0,this.isOverturn=!0,this.overturnRecord=[],this.firstGetComplete=[],this.carGoodsArr=[],this.isGuide=!1,this.guideStep=-1,this.arrows=null,this.guideArrowsParent=null,this.guideMove=null,this.curGuideConfig=null,this.guideConfig=[{step:0,arrowsPos:"",isMoveGuide:!1,arrowsScale:1,event:0,isUI1:1,hintText:"Hey! Swipe your finger across the screen to look around"},{step:1,arrowsPos:"",isMoveGuide:!1,arrowsScale:1,event:2,isUI1:1,hintText:"Hey! Swipe your finger across the screen to look around"},{step:2,arrowsPos:"pos0",isMoveGuide:!1,arrowsScale:1,event:0,isUI1:1,hintText:"Now look at the window and click the interactive button!"},{step:3,arrowsPos:"",isMoveGuide:!1,arrowsScale:1,event:2,isUI1:2,hintText:""},{step:4,arrowsPos:"",isMoveGuide:!1,arrowsScale:1,event:0,isUI1:3,hintText:""},{step:5,arrowsPos:"",isMoveGuide:!1,arrowsScale:1,event:2,isUI1:-1,hintText:"Click the joystick to control movement"},{step:6,arrowsPos:"pos1",isMoveGuide:!0,arrowsScale:2,event:0,isUI1:4,hintText:"Liz needs your help! Pick up the blanket from the bed and slide it down to the ground."},{step:7,arrowsPos:"pos2",isMoveGuide:!0,arrowsScale:2,event:0,isUI1:-1,hintText:""},{step:8,arrowsPos:"pos3",isMoveGuide:!1,arrowsScale:1,event:0,isUI1:-1,hintText:"Got it! Now tie it to the window."},{step:9,arrowsPos:"pos0",isMoveGuide:!1,arrowsScale:1,event:0,isUI1:-1,hintText:"You can leave through the window now"},{step:10,arrowsPos:"pos4",isMoveGuide:!0,arrowsScale:2,event:0,isUI1:-1,hintText:"Great! Now pick up the map"},{step:11,arrowsPos:"pos5",isMoveGuide:!0,arrowsScale:4,event:3,isUI1:-1,hintText:"Get to the back and open the car!"},{step:12,arrowsPos:"pos6",isMoveGuide:!1,arrowsScale:3,event:0,isUI1:-1,hintText:"Opening the door"},{step:13,arrowsPos:"pos7",isMoveGuide:!1,arrowsScale:2,event:0,isUI1:-1,hintText:"Put the map paper on the map wall!"},{step:14,arrowsPos:"pos7",isMoveGuide:!1,arrowsScale:2,event:0,isUI1:2,hintText:"Great! Now check the map and take a look around the town"},{step:15,arrowsPos:"",isMoveGuide:!1,arrowsScale:1,event:-1,isUI1:-1,hintText:"end"}],this.arrowsLoopNum=0,this.isReadLocalData=!0,this.isOperationTipComplete=!1,this.scene=t,this.camera=i,this.gameView=R.getView(R.GAME_VIEW),this.settingView=R.getView(R.SETTING_VIEW),this.objList=Laya.loader.getRes(s.ObjectListJson),n.getLocal(o.NOVICE_GUIDE),this.isGuide=!1,this.ice2Camera=new C(this.scene,this.camera),this.ice2Camera.userControl.enable(),this.init(),this.initEvent(),Laya.timer.callLater(this,()=>{Laya.timer.loop(1,this,this.fixeUpdate),Laya.timer.frameLoop(1,this,this.update);});}
initGuide(){this.gameView.initGuide(),Laya.timer.callLater(this,()=>{this.arrows=this.map.globalResource.getChildByName("jiantou1").clone();let e=new Laya.Sprite3D("guideContainer"),t=new Laya.Sprite3D("guideMove"),i=new Laya.Sprite3D("guideArrowsParent");this.guideArrowsParent=i,this.guideMove=t,e.addChild(t),e.addChild(i),i.addChild(this.arrows),this.map.currentMap.addChild(e),this.arrows.transform.localPosition=new Laya.Vector3(0,0,0);});}
noviceGuideStep(e){if(-1!=e){if(this.guideStep++,e&&(this.guideStep=e),0==this.guideStep)return this.gameView.gameView.left_box.visible=!1,this.gameView.noviceGuide(),void Laya.Tween.to(this.gameView.gameView.hint_text2,{alpha:1},1500);this.curGuideConfig=null;for(let e=0;e<this.guideConfig.length;e++)if(this.guideConfig[e].step==this.guideStep){this.curGuideConfig=this.guideConfig[e];break;}
if(this.curGuideConfig){if(this.arrowsAnim(),-1==this.curGuideConfig.event)return void this.guideEnd();-1!=this.curGuideConfig.isUI1&&(this.gameView.guideStep=this.curGuideConfig.isUI1);let e=this.gameView.gameView.hint_text2;this.guideStep==this.curGuideConfig.step&&""!=this.curGuideConfig.hintText&&(e.text=this.curGuideConfig.hintText);}}else-1==e&&this.guideEnd();}
guideEnd(){console.log("Bootstrapping over!"),this.isGuide=!1,this.gameView.gameView.hint_text2.visible=!1,Laya.timer.clear(this,this.arrowsLoop),this.arrows&&Laya.Tween.clearAll(this.arrows.transform),Laya.timer.callLater(this,()=>{let e=d.findObjectByName(this.map.currentMap,"guideContainer");e&&e.destroy();});}
arrowsAnim(){if(this.arrows){if(this.curGuideConfig.arrowsPos){let e=d.findObjectByName(this.map.globalResource,"guideJiantou").getChildByName(this.curGuideConfig.arrowsPos);this.guideArrowsParent.transform.position=e.transform.position.clone(),this.guideArrowsParent.transform.rotationEuler=e.transform.rotationEuler.clone(),this.guideArrowsParent.transform.setWorldLossyScale(new Laya.Vector3(this.curGuideConfig.arrowsScale,this.curGuideConfig.arrowsScale,this.curGuideConfig.arrowsScale));}
this.arrowsLoopNum=0,Laya.timer.clear(this,this.arrowsLoop),Laya.Tween.clearAll(this.arrows.transform),Laya.timer.frameLoop(1,this,this.arrowsLoop),this.arrowsFloat();}}
arrowsLoop(){if(this.arrowsLoopNum++,this.arrows&&this.guideMove&&(this.arrows.transform.localRotationEulerX+=5,this.arrowsLoopNum%30==0)){if(this.curGuideConfig.isMoveGuide){let e=.06,t=this.guideArrowsParent.transform.position.clone(),i=this.camera.transform.position.clone();i.y-=.1;let a=Laya.Vector3.distance(t,i),s=Math.floor(a/e);for(let e=this.guideMove.numChildren;e<s;e++){let e=this.map.globalResource.getChildByName("jiantou1").clone();this.guideMove.addChild(e);}
Laya.timer.callLater(this,()=>{for(let a=0;a<this.guideMove.numChildren;a++){let s=this.guideMove.getChildAt(a),o=d.radiusScope(t,i,e*(a+1));s.transform.position=o,s.transform.lookAt(t,new Laya.Vector3(0,1,0),!1);let r=s.transform.rotationEuler.clone();r.x=0,r.y+=90,r.z=0,s.transform.rotationEuler=r,s.transform.setWorldLossyScale(new Laya.Vector3(1,1,1));}
this.guideMove.removeChildren(s,this.guideMove.numChildren);});}else this.guideMove.removeChildren(0,this.guideMove.numChildren);3==this.curGuideConfig.event&&Laya.Vector3.distance(this.arrows.transform.position,this.camera.transform.position)<.2&&(0!=Math.abs(d.findObjectByName(this.map.currentMap,"Puerta_DER").transform.localRotationEulerY)?this.noviceGuideStep(13):this.noviceGuideStep(12));}}
arrowsFloat(){Laya.Tween.to(this.arrows.transform,{localPositionX:-.02},1e3,null,Laya.Handler.create(this,()=>{Laya.Tween.to(this.arrows.transform,{localPositionX:-.007},1e3,null,Laya.Handler.create(this,()=>{this.arrowsFloat();}));}));}
init(){this.settingView.setHealth(this.HP),this.goodsPos=this.camera.getChildByName("goods_pos"),this.gameMode=-1!=x.curSelectIndex?x.curSelectIndex:1,3==this.gameMode&&(this.HP=1),Laya.timer.callLater(this,()=>{n.getLocal(o.GAME_DATA)&&!this.isGuide?this.loaderSave():this.enterGameSceneAnim();});}
initEvent(){}
fixeUpdate(){this.ice2Camera.fixeUpdate(),null!=v.instance.ice2Game.ice2Camera.map.rod&&v.instance.ice2Game.ice2Camera.map.rod.fixeUpdate();}
update(){if(this.ice2Camera.update(),this.updateCount++,this.updateCount>108e3&&(this.updateCount=0),this.gameTime+=16,this.endAnimTime-=16,this.endAnimTime<=1&&(this.endAnimTime=1),this.focusGoods=this.ice2Camera.focusGoods,1!=this.isEndAnim||!this.eventProgress("completeGameAnim1")&&!this.eventProgress("completeGameAnim2")||this.eventProgress("completeGameAnim3")||(this.isEndAnim=!1,Laya.timer.once(this.endAnimTime,this,()=>{Laya.Tween.clearAll(this.camera.transform),Laya.timer.clearAll(this.objMoveAnim),this.cameraLookAt(!1),Laya.timer.once(1,this,()=>{this.completeGameAnim3();});})),this.updateCount%30==0){for(let e=0;e<this.objHintPos.length;e++){this.gameView.light_up.visible=!1;let t=0;if((t=Laya.Vector3.distance(this.objHintPos[e],this.camera.transform.position))<.2){this.gameView.light_up.visible=!0;break;}}
let t=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"scene_light")[0];for(let i=1;i<t.numChildren&&this.mapName!=e.Classroom;i++)t.getChildAt(i)&&this.setLight(t.getChildAt(i));}
this.updateCount%3600==0&&this.saveGame(),this.updateOperationTip();}
setLight(e){(e instanceof Laya.SpotLight||e instanceof Laya.PointLight||e instanceof Laya.DirectionLight)&&(e.active=Laya.Vector3.distance(e.transform.position,this.camera.transform.position)<=1);for(let t=0;t<e.numChildren;t++)this.setLight(e.getChildAt(t));}
saveGame(){if(this.mapName==e.Town||this.mapName==e.Classroom)return;let t={};t.HP=this.HP,t.mapName=this.mapName,t.goodsEventArr=this.goodsEventArr.slice(0,this.goodsEventArr.length);for(let e=0;e<t.goodsEventArr.length;e++){switch(t.goodsEventArr[e]){case "Cable":case "grave_monument2_1":case "grave_monument2_2":case "grave_monument2_3":t.goodsEventArr.splice(e,1),e--;}}
t.carGoods=this.carGoodsArr.slice(0,this.carGoodsArr.length);let i=v.instance.ice2Game.ice2Camera.map.currentMap.getChildByName("car").getChildByName("locker");for(let e=0;e<i.numChildren;e++){let a=i.getChildAt(e),s=-1;for(let e=0;e<t.carGoods.length;e++)t.carGoods[e][0]==a.name&&(s=e);-1==s&&t.carGoods.push([a.name,a.transform.localPosition.clone()]);}
if(this.getGoods){-1==t.carGoods.indexOf(this.getGoods.name)&&t.carGoods.push([this.getGoods.name,new Laya.Vector3(-.125,.038,0)]);}
return n.setLocal(o.GAME_DATA,t),!0;}
clearSave(){n.setLocal(o.GAME_DATA,null);}
loaderSave(){let t=n.getLocal(o.GAME_DATA);if(t&&(this.HP=t.HP,this.carGoodsArr=t.carGoods.slice(0,t.carGoods.length),this.goodsEventArr=t.goodsEventArr.slice(0,t.goodsEventArr.length),t.mapName&&t.mapName!=e.Town&&t.mapName!=e.Classroom)){d.findObjectByName(this.scene,"MapaCorcho").active=!0;let e=d.findObjectByName(this.scene,"id_corcho_furgoneta");e.getComponent(Laya.PhysicsCollider)&&e.getComponent(Laya.PhysicsCollider).destroy(),v.instance.ice2Game.ice2Camera.map.car.active=!0,v.instance.ice2Game.ice2Camera.map.globalResource.getChildByName("Lis_xiaozhen_through_ani").active=!1,this.comeSceneAnim(t.mapName);}}
setObjHintArr(e,t=2){if(e instanceof Laya.Sprite3D)if(2==t)this.objHintArr.push(e),this.objHintName.push(e.name),this.objHintPos.push(e.transform.position);else if(0==t){let t=this.objHintArr.indexOf(e);-1!=t&&(this.objHintArr.splice(t,1),this.objHintName.splice(t,1),this.objHintPos.splice(t,1));}}
exitSceneAnim(){Laya.timer.clearAll(this.chatBoxShow),this.isEndAnim=!0;null!=this.curAnimCallback&&(this.endAnimTime=1e3,Laya.timer.once(this.endAnimTime+1,this.exitSceneAnim,()=>{Laya.timer.clearAll(this.comeSceneAnim),Laya.timer.clearAll(this.departSceneAnim),this.curAnimCallback(),this.curAnimCallback=null,this.isEndAnim=!1,this.gameView.isClickSkipAnim=!0;})),this.gameView.gradualChange(this.gameView.gameView.blank_screen,200,this.endAnimTime,!0,()=>{},1e3);}
reduceHP(){this.getGoods&&this.discard();let t=Laya.loader.getRes(s.JiesuanAtlas);t||l.load(s.JiesuanAtlas,Laya.Handler.create(this.completeGameAnim3,e=>{t=e;}));v.instance.ice2Game.ice2Camera.stopRotation=!0,v.instance.ice2Game.ice2Camera.map.rod.setRodState(!1);let i=v.instance.ice2Game.ice2Camera.map.rod.rod,a=i.getChildByName("cameraPos"),o=a.transform.rotationEuler.clone();o.x*=-1,o.y+=180,o=d.translateTargetRotation(this.camera.transform.localRotationEuler.clone(),o.clone()),Laya.Tween.to(this.camera.transform,{localPositionX:a.transform.position.x,localPositionY:a.transform.position.y,localPositionZ:a.transform.position.z,localRotationEulerX:o.x,localRotationEulerY:o.y,localRotationEulerZ:o.z},300,null,Laya.Handler.create(this,()=>{y.stopAll(),y.playSound(_.SONIDOS_ATAQUE),y.playSound(_.GRITO),this.shakeAnim(i,5,300),Laya.timer.once(150,this,()=>{this.shakeAnim(this.camera,2,300);}),Laya.timer.loop(1,this.toPos,this.toPos,[this.camera,a,!1]),Laya.timer.once(2800,this,()=>{this.gameView.gradualChange(this.gameView.gameView.blank_screen,400,500);}),Laya.timer.once(3500,this,()=>{Laya.Tween.clearAll(i.transform),Laya.Tween.clearAll(this.camera.transform),Laya.timer.clear(this.toPos,this.toPos),v.instance.ice2Game.ice2Camera.stopRotation=!1;let a=d.findObjectByLikeName(i,"penwu")[0].particleSystem;if(a.looping=!1,a.stop(),v.instance.ice2Game.mapName==e.Town){let e=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"initial_position")[0];this.camera.transform.position=e.transform.position,v.instance.ice2Game.ice2Camera.map.rod.setRodState(!0),v.instance.ice2Game.ice2Camera.verAngle=0,v.instance.ice2Game.ice2Camera.horAngle=0,R.showFlyTip("Life："+this.HP),Laya.timer.once(1,this,()=>{this.map.rod.isCatch=!0;v.instance.ice2Game.ice2Camera.map.rod.mapChange0();});}else{if(this.HP--,Qx.uma.trackEvent("user1","Deduction of life"),this.settingView.setHealth(this.HP),this.saveGame(),this.HP<=0)return void(t?this._gameover(!1):l.load(s.JiesuanAtlas,Laya.Handler.create(this.completeGameAnim3,e=>{this._gameover(!1);})));let i=()=>{v.instance.ice2Game.ice2Camera.map.mapChange(e.Stall);let t=d.findObjectByName(v.instance.ice2Game.ice2Camera.map.currentMap,"resurgence_pos");this.camera.transform.position=t.transform.position;let i=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"room_door")[0];this.openAndClose(i,1,0),y.playMusic(_.BACKGROUND_PRK,0);let a=v.instance.ice2Game.ice2Camera.map.car;d.findObjectByLikeName(a,"Puerta_DER")[0].transform.localRotationEulerY=0,d.findObjectByLikeName(a,"Puerta_IZQ")[0].transform.localRotationEulerY=0,v.instance.ice2Game.ice2Camera.map.rod.setRodState(!0),R.showFlyTip("Life："+this.HP),v.instance.ice2Game.ice2Camera.verAngle=0,v.instance.ice2Game.ice2Camera.horAngle=.5*Math.PI,Laya.timer.once(1,this,()=>{this.map.rod.isCatch=!0;});};Laya.loader.getRes(this.map.getFile(e.Stall))?i():(R.hideView(R.GAME_VIEW),this.map.loaderMap(e.Stall,R.GAME_VIEW,i));}});}));}
shakeAnim(e,t=15,i=400,a=20,s=null,o=0){let r=e.transform.localRotationEuler.clone(),n=r.y+t;o%4!=1&&o%4!=2||(n=r.y-t);let l={localRotationEulerY:n};Laya.Tween.to(e.transform,l,i,Laya.Ease.linearInOut,Laya.Handler.create(this,()=>{if(o>=a)return Laya.Tween.clearAll(e.transform),void(s&&s());o>=100&&(o=0),o++,this.shakeAnim(e,t,i,a,s,o);}));}
captureGoods(e){if(null!=e){if(this.isGuide&&"need_quilt2"==e.name?this.noviceGuideStep(8):this.isGuide&&"map_ground"==e.name&&this.noviceGuideStep(11),y.playSound(_.GRAB_ITEM),"locker"==e.parent.name)for(let t=0;t<this.carGoodsArr.length;t++)this.carGoodsArr[t][0]==e.name&&(this.carGoodsArr.splice(t,1),t--);"cat2"==e.name?this.goodsPos=this.camera.getChildByName("cat_pos"):"gas_tank1"==e.name?this.goodsPos=this.camera.getChildByName("gas_tank_pos"):this.goodsPos=this.camera.getChildByName("goods_pos"),this.getGoods&&this.discard(),this.getGoods=e;let t=this.getGoods.transform.position.clone(),i=this.getGoods.transform.rotation.clone();this.camera.addChild(this.getGoods),this.getGoods.transform.position=t,this.getGoods.transform.rotation=i,this.setObjHintArr(this.getGoods,0),this.shine(this.getGoods,0);let a=this.goodsPos.transform.localPosition.clone();a.z*=-1,Laya.Tween.to(this.getGoods.transform,{localPositionX:a.x,localPositionY:a.y,localPositionZ:a.z,localRotationEulerX:this.goodsPos.transform.localRotationEulerX,localRotationEulerY:this.goodsPos.transform.localRotationEulerY,localRotationEulerZ:this.goodsPos.transform.localRotationEulerZ},500,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{this.gameView.discard.visible=!0,this.saveGame();}));}}
discard(e){if(this.eventProgress("Cable")){Laya.timer.clear(this,this.cableMove),this.cableMovePercentage=0,this.eventProgress("Cable",0);let e=d.findObjectByLikeName(this.map.currentMap,"cable_fall")[0];if(v.instance.ice2Game.ice2Camera.boxIntersect(this.camera,e)){this.eventProgress("patch_broken",2);let e=d.findObjectByName(this.map.currentMap,"patch_unbroken");e&&e.getChildAt(0)&&e.getChildAt(0).destroy(),e.active=!1,d.findObjectByName(this.map.currentMap,"patch_broken").active=!0,this.refreshCollider();}}else if(this.getGoods){y.playSound(_.DROP_SMALL_ITEM);let e=new Laya.Vector3(),t=this.getGoods.transform.position.clone(),i=this.getGoods.transform.rotation.clone(),a=v.instance.ice2Game.ice2Camera.triggerBox;null!=a&&"trigger_box1"==a.name?v.instance.ice2Game.ice2Camera.map.currentMap.getChildByName("car").getChildByName("locker").addChild(this.getGoods):this.scene.getChildByName("sceneMap").getChildByName(this.mapName).addChild(this.getGoods),this.getGoods.transform.position=t,this.getGoods.transform.rotation=i,null!=this.getGoods.meshRenderer&&(e=d.vectorSubToNum(d.meshVolume(this.getGoods),2)),this.setObjHintArr(this.getGoods,2),Object.keys(this.objList).forEach(e=>{this.objList[e].name==this.getGoods.name&&""!=this.objList[e].shine&&this.shine(this.getGoods,1,this.objList[e].shine);});let s=v.instance.ice2Game.ice2Camera.camera.transform.position.y-v.instance.ice2Game.ice2Camera.roleY+e.y+.02;if(this.getGoods.transform.position=new Laya.Vector3(this.getGoods.transform.position.x,s,this.getGoods.transform.position.z),this.getGoods.transform.localRotation=new Laya.Vector3(0,0,0),this.gameView.discard.visible=!1,this.isGuide&&"need_quilt2"==this.getGoods.name){let e=d.findObjectByName(this.map.globalResource,"guideJiantou").getChildByName("pos2");e&&(e.transform.position=this.getGoods.transform.position.clone()),this.noviceGuideStep(7);}else if(this.isGuide&&"map_ground"==this.getGoods.name){let e=d.findObjectByName(this.map.globalResource,"guideJiantou").getChildByName("pos4");e&&(e.transform.position=this.getGoods.transform.position.clone()),this.noviceGuideStep(10);}
this.getGoods=null,this.saveGame();}}
openAndClose(e,t=1,i=90,a="y",s=!0,o){let r=!1,n={localRotationEulerY:-i*t},l=new Laya.Vector3(0,0,0),h=e.transform.rotationEuler.clone();o||(o=this.tweenTime),"x"==a?(0!=Math.abs(e.transform.localRotationEulerX)&&s&&(r=!0,i=0),n={localRotationEulerX:-i*t}):"y"==a?(0!=Math.abs(e.transform.localRotationEulerY)&&s&&(r=!0,i=0),n={localRotationEulerY:-i*t}):"z"==a&&(0!=Math.abs(e.transform.localRotationEulerZ)&&s&&(r=!0,i=0),n={localRotationEulerZ:-i*t}),r?y.playSound(_.CLOSE_WOOD_DOOR):y.playSound(_.OPEN_WOOD_DOOR),Laya.Vector3.subtract(e.transform.rotationEuler.clone(),h,l),Laya.Tween.to(e.transform,n,o,Laya.Ease.linearIn,Laya.Handler.create(this.openAndClose,()=>{d.colliderRotate(e,l);}));}
pushAndPpull(e,t=1,i=.02,a="z",s){let o=null,r=0,n=new Laya.Vector3();0==i&&null!=e.meshRenderer&&(n=d.meshVolume(e),Laya.Vector3.scale(n.clone(),.7,n)),s||(s=this.tweenTime);for(let t=0;t<this.pullArr.length;t++)this.pullArr[t][0]==e.name&&(o=t);null==o&&(o=this.pullArr.length,this.pullArr.push([e.name,e.transform.localPosition.clone()])),"x"==a?(e.transform.localPositionX==this.pullArr[o][1].x?(y.playSound(_.OPEN_WOOD_DRAWER),Math.abs(n.x)>0&&(i=n.x),r=this.pullArr[o][1].x+i*t):(y.playSound(_.CLOSE_WOOD_DRAWER),r=this.pullArr[o][1].x),Laya.Tween.to(e.transform,{localPositionX:r},s,Laya.Ease.linearIn)):"y"==a?(e.transform.localPositionY==this.pullArr[o][1].y?(y.playSound(_.OPEN_WOOD_DRAWER),Math.abs(n.y)>0&&(i=n.y),r=this.pullArr[o][1].y+i*t):(y.playSound(_.CLOSE_WOOD_DRAWER),r=this.pullArr[o][1].y),Laya.Tween.to(e.transform,{localPositionY:r},s,Laya.Ease.linearIn)):"z"==a&&(e.transform.localPositionZ==this.pullArr[o][1].z?(y.playSound(_.OPEN_WOOD_DRAWER),Math.abs(n.z)>0&&(i=n.z),r=this.pullArr[o][1].z+i*t):(y.playSound(_.CLOSE_WOOD_DRAWER),r=this.pullArr[o][1].z),Laya.Tween.to(e.transform,{localPositionZ:r},s,Laya.Ease.linearIn));}
eventProgress(e,t=1){let i=this.goodsEventArr.indexOf(e);return 1==t?-1!=i:(0==t?-1!=i&&this.goodsEventArr.splice(i,1):2==t&&-1==i&&this.goodsEventArr.push(e),this.saveGame(),this.goodsEventArr);}
putGoods(e,t,i=!0,a=!0){if(!e||!t)return;this.nodeChange(e,t.parent);let s={localPositionX:t.transform.localPositionX,localPositionY:t.transform.localPositionY,localPositionZ:t.transform.localPositionZ,localRotationEulerX:t.transform.localRotationEulerX,localRotationEulerY:t.transform.localRotationEulerY,localRotationEulerZ:t.transform.localRotationEulerZ,localScaleX:t.transform.localScaleX,localScaleY:t.transform.localScaleY,localScaleZ:t.transform.localScaleZ};i||(s={localPositionX:t.transform.localPositionX,localPositionY:t.transform.localPositionY,localPositionZ:t.transform.localPositionZ,localRotationEulerX:t.transform.localRotationEulerX,localRotationEulerY:t.transform.localRotationEulerY,localRotationEulerZ:t.transform.localRotationEulerZ}),Laya.Tween.to(e.transform,s,500,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{}));}
cameraMoveAnim(e,t=null,i=null,a=!1,s=this.camera){this.objMoveAnim(e,()=>{v.instance.ice2Game.ice2Camera.stopRotation=!1,v.instance.ice2Game.ice2Camera.userControl.enable(),t&&t();},()=>{v.instance.ice2Game.ice2Camera.stopRotation=!0,v.instance.ice2Game.ice2Camera.userControl.removeEvent(),i&&i();},a,s);}
objMoveAnim(e,t=null,i=null,a=!1,s=this.camera,o=0,r=!1){let n=0;if(1==r&&(o=e.length-1,n=1),o<e.length){0==o&&i&&i();let l=e[o][0].clone(),h=e[o][1].clone(),c=e[o][2],p=e[o][3]+c;null==c&&(c=1e3),s==this.camera&&(this.endAnimTime=p),n>0&&(p=c=n),h.x=-h.x,h.y+=180;let m=d.translateTargetRotation(s.transform.localRotationEuler.clone(),h.clone()),g={localPositionX:l.x,localPositionY:l.y,localPositionZ:l.z,localRotationEulerX:m.x,localRotationEulerY:m.y,localRotationEulerZ:m.z};a&&(g={localPositionX:l.x,localPositionY:l.y,localPositionZ:l.z}),Laya.Tween.to(s.transform,g,c,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{s==this.camera&&(v.instance.ice2Game.ice2Camera.verAngle=-m.x*Math.PI/180,v.instance.ice2Game.ice2Camera.horAngle=-m.y*Math.PI/180),null!=e[o][4]&&e[o][4]();})),Laya.timer.once(p,this.objMoveAnim,()=>{1==this.isEndAnim&&(r=!0),o>=e.length-1&&(r=!1),o++,this.objMoveAnim(e,t,i,a,s,o,r);});}else 1==this.isEndAnim&&(this.isEndAnim=!1),t&&t();}
chatBoxShow(e,t=null,i=null,a=0){if(a<e.length){let s=e[a][0],o=null!=e[a][1]?e[a][1]:2e3,r=null!=e[a][2]?e[a][2]:500,n=0;if(0==a)n=null!=e[a][3]?e[a][3]:0;else{let t=null!=e[a-1][1]?e[a-1][1]:2e3,i=null!=e[a-1][2]?e[a-1][2]:500;n=(null!=e[a][3]?e[a][3]:0)+t+2*i;}
Laya.timer.once(n,this.chatBoxShow,()=>{this.gameView.chatBox(s,o,r,()=>{}),a++,this.chatBoxShow(e,t,i,a);});}else t&&t();}
cameraLookAt(e){!1===e&&Laya.timer.clearAll(this.cameraLookAt),e instanceof Laya.Sprite3D&&Laya.timer.loop(1,this.cameraLookAt,()=>{let t=e.transform.position;this.camera.transform.lookAt(t,new Laya.Vector3(0,1,0),!1);});}
toPos(e,t,i=!1){e.transform.position=t.transform.position,i&&(e.transform.rotationEuler=t.transform.rotationEuler,e.transform.localRotationEulerY+=180,e.transform.localRotationEulerX*=-1);}
overturn(e,t=!1){if(null!=e.meshRenderer&&this.isOverturn){if(-1!=this.overturnRecord.indexOf(e.name))return;this.overturnRecord.push(e.name),this.isOverturn=!1;let i=1e3,a=8e3,s=0,o=90,r=.05,n=e.transform.position.clone(),l=new Laya.Vector3();l=d.vectorSubToNum(d.meshVolume(e.clone()),2),s=(s=d.randomRange(Laya.Vector3.scalarLength(l),2*Laya.Vector3.scalarLength(l)))<r?r:s,t&&(o=30);let h=new Laya.Vector3(e.transform.localRotationEulerX+d.randomRange(-o,o),e.transform.localRotationEulerY+d.randomRange(-o,o),e.transform.localRotationEulerZ+d.randomRange(-o,o));if(t){let e=new Laya.Vector3();Laya.Vector3.transformQuat(l.clone(),d.eulerToQuaternion(h),e),s=Math.abs(e.y)+.001;}
let c=e.parent.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(10,10,10,10)));c.meshFilter.destroy(),c.meshRenderer.enable=!1;let p=new Laya.Vector3(n.x,n.y-l.y,n.z);c.transform.position=p;let m=c.addComponent(Laya.PhysicsCollider),g=new Laya.BoxColliderShape(10,0,10);m.colliderShape=g,m.friction=2,m.restitution=.3,Laya.Tween.to(e.transform,{localPositionY:e.transform.localPositionY+s,localRotationEulerX:h.x,localRotationEulerY:h.y,localRotationEulerZ:h.z},i,null,Laya.Handler.create(this,()=>{e.getComponent(Laya.PhysicsCollider)&&e.getComponent(Laya.PhysicsCollider).destroy(),e.getComponent(Laya.Rigidbody3D)&&e.getComponent(Laya.Rigidbody3D).destroy();let i=new Laya.MeshColliderShape();i.mesh=e.meshFilter.sharedMesh;let s=e.addComponent(Laya.Rigidbody3D);s.colliderShape=i,s.gravity=new Laya.Vector3(0,-.2,0),s.friction=4,s.restitution=.1,t&&(s.friction=2,s.rollingFriction=.006,s.restitution=0,s.mass=100),Laya.timer.once(a,this,()=>{e.getComponent(Laya.PhysicsCollider)&&e.getComponent(Laya.PhysicsCollider).destroy(),e.getComponent(Laya.Rigidbody3D)&&e.getComponent(Laya.Rigidbody3D).destroy(),c.destroy(),this.isOverturn=!0;});}));}}
interactionEvent(t,i){if(!t)return;let a=t;switch(t.name){case "need_quilt1":this.isGuide&&this.noviceGuideStep(7),d.findObjectByLikeName(this.scene,"need_quilt2")[0].active=!0,a.active=!1,this.firstGet(a);break;case "need_quilt2":this.captureGoods(a),this.firstGet(a),this.isGuide&&this.noviceGuideStep(8);break;case "need_window_pos_arr":if(this.eventProgress(a.name)&&d.findObjectByLikeName(this.scene,"need_quilt3")[0].active)v.instance.ice2Game.ice2Camera.cameraAnimation(),this.isGuide&&this.noviceGuideStep(10);else if(this.eventProgress(a.name))R.showFlyTip(this.objInfo.hint);else{console.log(),this.isGuide&&(this.gameView.gameView.hint_text2.visible=!1),y.playMusic(_.VAN_LOOP);let e=d.findObjectByLikeName(this.scene,"need_window")[0].getComponent(Laya.Animator);if(e.play("open_window",0,0),d.findObjectByLikeName(this.scene,"nail")[0].active=!0,e.getControllerLayer(0).getCurrentPlayState().normalizedTime>=1){null!=this.getGoods&&(this.getGoods.active=!1),this.gameView.showGameView(!1),this.animPlay(d.findObjectByLikeName(this.scene,"Lis_xiaozhen_through_ani")[0],"Take 001",.8,!1,0);let e=d.findObjectByLikeName(this.scene,"anim_pos_arr")[0].getChildByName("Lis_xiaozhen"),t=[],i=[1e3,1e3,500,1e3,1e3,1e3,1e3],s=[300,6500,1,100,1e3,1e3,1];for(let a=0;a<e.numChildren;a++){let o;3333==a&&(o=(()=>{})),t.push([e.getChildAt(a).transform.localPosition.clone(),e.getChildAt(a).transform.localRotationEuler.clone(),null!=i[a]?i[a]:1e3,null!=s[a]?s[a]:1,null!=o?o:void 0]);}
this.cameraMoveAnim(t,()=>{y.playMusic(_.BACKGROUND_CASETA,0),this.gameView.showGameView(!0),this.eventProgress(a.name,2),v.instance.ice2Game.ice2Camera.map.car.active=!0,v.instance.ice2Game.ice2Camera.map.globalResource.getChildByName("Lis_xiaozhen_through_ani").active=!1,v.instance.ice2Game.ice2Camera.map.rod.setRodState(!0),null!=this.getGoods&&(this.getGoods.active=!0),this.isGuide&&(this.gameView.gameView.hint_text2.visible=!0,this.gameView.nextNoviceGuide(3));});let o=[],r=["Don't try to trick me! Give me the ice cream!","J, are you coming to play?","The boys are at the secret base","My brother told me he had something to talk to me about","Obviously this is stupid","You don't know","You asshole you come here"],n=[1200,800,800,800,800,800,2e3],l=[],h=[1,500,1,1,1,1,1e3];for(let e=0;e<r.length;e++)o.push([r[e],null!=n[e]?n[e]:800,null!=l[e]?l[e]:200,null!=h[e]?h[e]:1]);this.chatBoxShow(o);}}
break;case "nail":null!=this.getGoods&&"need_quilt2"==this.getGoods.name?(d.findObjectByLikeName(this.scene,"need_quilt3")[0].active=!0,this.getGoods.destroy(),this.getGoods=null,a.getComponent(Laya.PhysicsCollider).destroy(),this.firstGet(a),this.isGuide&&this.noviceGuideStep(9)):R.showFlyTip(this.objInfo.hint);break;case "map_ground":this.captureGoods(a),this.firstGet(a),this.isGuide&&this.noviceGuideStep(11);break;case "Puerta_IZQ":case "Puerta_DER":let i=d.findObjectByLikeName(this.scene,"Puerta_IZQ")[0],s=d.findObjectByLikeName(this.scene,"Puerta_DER")[0];this.openAndClose(i),this.openAndClose(s,-1),this.firstGet(a),this.isGuide&&this.noviceGuideStep(13);break;case "id_corcho_furgoneta":null==this.getGoods||"map_ground"!=this.getGoods.name||this.eventProgress(a.name)?R.showFlyTip(this.objInfo.hint):(this.eventProgress(a.name,2),d.findObjectByLikeName(this.scene,"MapaCorcho")[0].active=!0,this.discard(),d.findObjectByLikeName(this.scene,"map_ground")[0].active=!1,a.getComponent(Laya.PhysicsCollider).destroy(),this.firstGet(a),this.isGuide&&this.noviceGuideStep(14));break;case "MapaCorcho":R.showView(R.MAP_VIEW),R.hideView(R.GAME_VIEW),this.firstGet(a);break;case "gameroom_door":this.getGoods&&"passcard"===this.getGoods.name?(this.eventProgress(a.name,2),this.getGoods.destroy(),this.getGoods=null,this.openAndClose(a),this.firstGet(a)):this.eventProgress(a.name)?this.openAndClose(a):R.showFlyTip(this.objInfo.hint);break;case "gravemonument_cat":if(null==this.getGoods||"can_cat"!=this.getGoods.name||this.eventProgress(a.name))R.showFlyTip(this.objInfo.hint);else{let e=a.getChildByName("cancat_pos"),t=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"cat1")[0],i=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"cat2")[0];t.active=!0,i.active=!1;let s=[],o=d.findObjectByLikeName(this.scene,"anim_pos_arr")[0].getChildByName("cat1");for(let e=0;e<o.numChildren;e++){let t=o.getChildAt(e).transform.localPosition.clone(),i=o.getChildAt(e).transform.localRotationEuler.clone();s.length>0&&(i=d.translateTargetRotation(s[s.length-1][1].clone(),i.clone())),s.push([t,i]);}
this.nodeChange(this.getGoods,v.instance.ice2Game.ice2Camera.map.currentMap),this.getGoods.getComponent(Laya.PhysicsCollider).destroy(),Laya.Tween.to(this.getGoods.transform,{localPositionX:e.transform.position.x,localPositionY:e.transform.position.y,localPositionZ:e.transform.position.z},1e3,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{this.getGoods=null;let e=this.animPlay(t,"cat_walk",1,!1,0);Laya.Tween.to(t.transform,{localPositionX:s[0][0].x,localPositionY:s[0][0].y,localPositionZ:s[0][0].z,localRotationEulerX:s[0][1].x,localRotationEulerY:s[0][1].y,localRotationEulerZ:s[0][1].z},2e3,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{Laya.Tween.to(t.transform,{localRotationEulerX:s[1][1].x,localRotationEulerY:s[1][1].y,localRotationEulerZ:s[1][1].z},1e3,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{this.animPlay(t,"cat_jump",1,!1,0);let i=e.getControllerLayer(0).getCurrentPlayState().animatorState.clip.duration()/e.speed*1e3;Laya.timer.once(i/3,this,()=>{Laya.Tween.to(t.transform,{localPositionX:s[1][0].x,localPositionY:s[1][0].y,localPositionZ:s[1][0].z,localRotationEulerX:s[1][1].x,localRotationEulerY:s[1][1].y,localRotationEulerZ:s[1][1].z},i,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{this.animPlay(t,"cat_walk",1,!1,0),Laya.Tween.to(t.transform,{localRotationEulerY:s[2][1].y},1e3,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{this.animPlay(t,"cat_jump",1,!1,0),Laya.timer.once(i/2,this,()=>{Laya.Tween.to(t.transform,{localPositionX:s[2][0].x,localPositionY:s[2][0].y,localPositionZ:s[2][0].z,localRotationEulerX:s[2][1].x,localRotationEulerY:s[2][1].y,localRotationEulerZ:s[2][1].z},i,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{this.animPlay(t,"cat_eating",1,!1,0),this.eventProgress(a.name,2);}));});}));}));});}));}));})),this.firstGet(a);}
break;case "cat1":a.active=!1;let o=d.findObjectByName(v.instance.ice2Game.ice2Camera.map.currentMap,"cat2");o&&(o.active=!0,o.transform.position=d.findObjectByName(this.scene,"anim_pos_arr").getChildByName("cat2").getChildAt(1).transform.localPosition.clone(),this.animPlay(o,"cat_table",1,!1,0),this.captureGoods(o),this.eventProgress(a.name,2),this.firstGet(a));break;case "alarm_clock":null!=this.getGoods&&"cat2"==this.getGoods.name?(this.nodeChange(this.getGoods,a.parent),Laya.Tween.to(this.getGoods.transform,{localPositionX:a.transform.localPositionX,localPositionY:a.transform.localPositionY-.01194,localPositionZ:a.transform.localPositionZ,localRotationEulerX:a.transform.localRotationEulerX,localRotationEulerY:a.transform.localRotationEulerY,localRotationEulerZ:a.transform.localRotationEulerZ},500,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{})),this.getGoods.getComponent(Laya.PhysicsCollider).destroy(),this.getGoods=null,Laya.timer.once(1e3,this,()=>{this.eventProgress("get_alarm_clock",2),this.captureGoods(a),R.showFlyTip("You've replaced your alarm clock with a cat");}),this.firstGet(a)):this.eventProgress("get_alarm_clock")?this.captureGoods(a):R.showFlyTip(this.objInfo.hint);break;case "Cable":if(null!=this.getGoods&&"clothes_hanger"==this.getGoods.name){this.eventProgress(a.name,2);let e=a.getChildByName("cable_pos2").transform.position.clone(),t=v.instance.ice2Game.ice2Camera.role.transform.position.clone();Laya.timer.loop(1,this,this.cableMove,[t,e]),R.showFlyTip("click ↓↓↓ Detachable from the cable!");}else R.showFlyTip(this.objInfo.hint);break;case "patch_unbroken":R.showFlyTip(this.objInfo.hint);break;case "ground_findcandle1":null!=this.getGoods&&"pliers"==this.getGoods.name||this.eventProgress("ground_findcandle1")?(this.openAndClose(a,-1,90,"z"),this.eventProgress(a.name,2),this.firstGet(a)):R.showFlyTip(this.objInfo.hint);break;case "toolbox_cover02":this.putGoods(a,d.findObjectByLikeName(this.scene,"toolbox_cover_pos")[0]),this.firstGet(a);break;case "grave_monument2":if(null!=this.getGoods&&"candle0"==this.getGoods.name){this.eventProgress(a.name,2),this.putGoods(this.getGoods,a.getChildByName("grave_monument_candle")),this.getGoods.getComponent(Laya.PhysicsCollider).destroy(),this.getGoods=null,v.instance.ice2Game.ice2Camera.map.rod.rod.transform.position=new Laya.Vector3(-.45,0,1.2);let e=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"door02")[0];e&&0==Math.abs(e.transform.localRotationEulerY)&&this.openAndClose(e),this.firstGet(a);}else{R.showFlyTip(this.objInfo.hint);}
break;case "column_before":let r="gas_tank1",n="alarm_clock",l="matchbox";if(null!=this.getGoods&&this.getGoods.name==r){this.eventProgress(this.getGoods.name,2),this.putGoods(this.getGoods,a.getChildByName("column_tank")),this.getGoods.getComponent(Laya.PhysicsCollider).destroy(),this.getGoods=null,R.showFlyTip("Good, you've placed the gas tank")}else{if(null!=this.getGoods&&this.getGoods.name==n&&this.eventProgress(r)){this.eventProgress(this.getGoods.name,2),this.putGoods(this.getGoods,a.getChildByName("column_clock")),this.getGoods.getComponent(Laya.PhysicsCollider).destroy(),this.getGoods=null,R.showFlyTip("Great, you've placed the cat clock")}else{if(null!=this.getGoods&&this.getGoods.name==l&&this.eventProgress(n)){this.eventProgress(a.name,2),this.putGoods(this.getGoods,a.getChildByName("column_match")),this.getGoods.getComponent(Laya.PhysicsCollider).destroy(),this.getGoods=null,this.haveReady=true,R.showFlyTip("Good, you have placed the matches, it will explode in 5 seconds, please stay away"),Laya.timer.once(5e3,this,()=>{if(d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"baozha1")[0].particleSystem.play(),a){const e=a.getComponent(Laya.PhysicsCollider);e&&e.destroy(),a.destroyChildren();}
d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"churchwall_before")[0].destroy(),this.refreshCollider(),this.firstGet(a);});}else{if(this.eventProgress(n)){if(!this.haveReady){R.showFlyTip("You have placed 2/3 of the required items");}else{R.showFlyTip("You have placed 3/3 of the required items");}}else{this.eventProgress(r)?R.showFlyTip("You have placed 1/3 of the necessary items"):R.showFlyTip(this.objInfo.hint);}}}}
break;case "gas_tank1":this.eventProgress("screw1")&&this.eventProgress("screw2")&&this.eventProgress("screw3")&&this.eventProgress("screw4")||this.eventProgress("get_gas_tank1")?(this.eventProgress("get_gas_tank1",2),this.captureGoods(a),this.firstGet(a)):R.showFlyTip(this.objInfo.hint);break;case "lock01":this.eventProgress("lock01")||(this.pushAndPpull(a.parent.getChildByName("lock02"),-1,.0012,"z"),this.eventProgress("lock01",2),this.firstGet(a));break;case "door2_2":this.eventProgress("lock01")?(this.openAndClose(a),this.firstGet(a)):R.showFlyTip(this.objInfo.hint);break;case "drawer1_mudi":this.eventProgress(a.name)?this.openAndClose(a):null!=this.getGoods&&"jiyunbashou1"==this.getGoods.name?(this.eventProgress(a.name,2),this.putGoods(this.getGoods,a.getChildByName("jiyunbashou_pos")),this.getGoods.getComponent(Laya.PhysicsCollider).destroy(),this.getGoods=null,this.firstGet(a)):R.showFlyTip(this.objInfo.hint);break;case "CandadoJaula_Cerrojo":if(null!=this.getGoods&&"key"==this.getGoods.name&&this.mapName==e.Town){let e=a.parent.getChildByName("CandadoJaula_open_pos");Laya.Tween.to(a.transform,{localRotationEulerX:e.transform.localRotationEulerX,localRotationEulerY:e.transform.localRotationEulerY,localRotationEulerZ:e.transform.localRotationEulerZ},500,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{}));}else R.showFlyTip(this.objInfo.hint);break;case "Mike1":let h=["J What do you think?","I found a rare thing there","Of course you know what to do","If you could bring me something nice...","I can give it to you","Great! What can I do with it"],c=d.findObjectByName(a,"jiyunbashou1");if((null!=this.getGoods&&"Perfume_Perfume_0"==this.getGoods.name&&!this.eventProgress(a.name+2)||this.eventProgress(a.name+2))&&c){this.animPlay(a,"Mike_talk2",.5,!0),this.gameView.chatBox(h[5]),Laya.timer.once(3e3,this,()=>{this.eventProgress(a.name+2,2),c.active=!0,this.getGoods&&(this.getGoods.active=!1),this.captureGoods(c);});break;}
if(this.eventProgress(a.name+2),this.eventProgress(a.name+1))this.eventProgress(a.name+1)&&(this.animPlay(a,"Mike_talk1",.3,!0,0),this.gameView.chatBox(h[0]));else{this.animPlay(a,"Mike_talk1",.3,!0);let e=1500,t=1e3,i=250;this.gameView.chatBox(h[1],t,i),Laya.timer.once(e,this,()=>{this.gameView.chatBox(h[2],t,i),Laya.timer.once(e,this,()=>{this.gameView.chatBox(h[3],t,i),Laya.timer.once(e,this,()=>{this.gameView.chatBox(h[4],t,i),Laya.timer.once(e,this,()=>{this.gameView.chatBox(h[0],t,i,()=>{this.eventProgress(a.name+1,2);});});});});});}
break;case "Charlie":let p=["I am the best player in the world, and no one can break my record","Welcome to the secret base. I'm the boss here!"];this.eventProgress(a.name+1)?this.eventProgress(a.name+1)&&(this.animPlay(a,"Charlie_talk2",.5,!0,0),this.gameView.chatBox(p[0])):(this.animPlay(a,"Charlie_talk1",.5,!0),this.gameView.chatBox(p[1]),Laya.timer.once(2e3,this,()=>{this.eventProgress(a.name+1,2);}));break;case "screw1":case "screw2":case "screw3":case "screw4":if(null==this.getGoods||"LlaveAllen_0"!=this.getGoods.name&&"LlaveAllen_1"!=this.getGoods.name)R.showFlyTip(this.objInfo.hint);else{let e=a.parent;if(this.eventProgress(a.name,2),this.putGoods(a,d.findObjectByLikeName(this.scene,a.name+"_pos")[0],!1),a.getComponent(Laya.PhysicsCollider).destroy(),this.eventProgress("screw1")&&this.eventProgress("screw2")&&!this.eventProgress("lock_ring3")){let t=d.findObjectByLikeName(e,"lock_ring3")[0];this.putGoods(t,d.findObjectByLikeName(a.parent,t.name+"_pos")[0],!1),this.eventProgress("lock_ring3",2);}else if(this.eventProgress("screw3")&&this.eventProgress("screw4")&&!this.eventProgress("lock_ring2")){let t=d.findObjectByLikeName(e,"lock_ring2")[0];this.putGoods(t,d.findObjectByLikeName(a.parent,t.name+"_pos")[0]),this.eventProgress("lock_ring2",2);}
this.firstGet(a);}
break;case "need_object2":case "object01":case "object03":case "object04":case "object05":let m=3e3;this.stare=a.name,Laya.timer.clear(this,this.getpasscard),Laya.timer.clear(this,this.isStare),Laya.timer.clear(this,this.stareClear),this.pieClear(),Laya.timer.once(m,this,this.getpasscard,[a]),Laya.timer.frameLoop(1,this,this.isStare,[m]),Laya.timer.once(m,this,this.stareClear);break;case "cover01":this.pushAndPpull(a,1,.08,"z"),this.firstGet(a);break;case "wood_car":this.pushAndPpull(a,-1,.1,"z"),this.firstGet(a);break;case "cupboard3_door1":case "cupboard3_door2":case "cupboard3_door3":this.pushAndPpull(a,1,.02,"z"),this.firstGet(a);break;case "need_quilt2":case "can_cat":case "cat2":case "LlaveAllen_0":case "LlaveAllen_1":case "Perfume_Perfume_0":case "clothes_hanger":case "pliers":case "candle0":case "matchbox":case "key":case "passcard":case "jiyunbashou1":this.captureGoods(a),this.firstGet(a);break;case "roomdoor3":case "cupboard3_door5":case "cupboard3_door7":case "cupboard4_l_door":case "door2":case "room_door1":case "drawer12":case "drawer13":case "door02":case "door03":case "door04":case "underground_door1":case "Puerta_IZQ":this.openAndClose(a),this.firstGet(a);break;case "roomdoor1":case "roomdoor2":case "roomdoor4":case "cupboard3_door4":case "cupboard3_door6":case "cupboard4_r_door":case "underground_door2":case "Puerta_DER":this.openAndClose(a,-1),this.firstGet(a);break;case "Puerta_maletero_0":case "Puerta_maletero_1":case "Puerta_maletero_2":case "Puerta_maletero_3":case "Puerta_maletero_4":case "Puerta_maletero_5":case "Puerta_maletero_6":case "Puerta_maletero_7":case "Puerta_maletero_8":case "Puerta_maletero_9":case "Puerta_maletero_10":case "Puerta_maletero_11":case "Puerta_maletero_12":case "Puerta_maletero_13":case "Puerta_maletero_14":case "Puerta_maletero_15":case "Puerta_maletero_16":case "Puerta_maletero_17":case "Puerta_maletero_18":case "Puerta_maletero_19":case "Puerta_maletero_20":case "Puerta_maletero_21":case "CajaHerramientas_Tapa_1":case "CajaHerramientas_Tapa_1 1":case "cover3":this.openAndClose(a,-1,90,"z"),this.firstGet(a);break;case "cover2":this.openAndClose(a,1,125,"x",!1);let g=d.findObjectByLikeName(a,"collider")[0];null!=g&&g.destroy(),a.getComponent(Laya.PhysicsCollider).destroy(),this.refreshCollider();break;case "eraser":case "pencil":case "pillow":case "Slingshot03":case "Slingshot04":case "matongshua":case "yusan1":case "yusan2":case "muban1":case "muban2":case "Bote_pepinillos_0":case "Cubo_Rubik_0":case "Peluche1_0":case "Peluche2_0":case "Peluche3_0":this.captureGoods(a),this.firstGet(a);break;case "room_cupboard_l_door0":case "gameroom_drawer9":case "l_cupboard_door":case "Puerta1":case "wc_cupboard_door1":case "drawer12":case "l_gate":case "Puerta1__49572_Puerta1_0":case "Puerta1__49631_Puerta1_00":this.openAndClose(a),this.firstGet(a);break;case "room_cupboard_r_door0":case "gameroom_drawer8":case "gameroom_drawer10":case "Puerta2":case "r_cupboard_door":case "wc_cupboard_door":case "Refrigerator_door":case "Refrigerator_door2":case "cupboard_door1":case "drawer13":case "r_gate":case "drawer08":case "fridge_door1":case "fridge_door2":case "Puerta1__49572_Puerta1_1":case "Puerta1__49631_Puerta1_10":case "Combined_Mesh__root__scene___35812_scene__82 (1)":case "Combined_Mesh__root__scene___35812_scene__138 (1)":case "Combined_Mesh__root__scene___35812_scene__86 (1)":case "Combined_Mesh__root__scene___35812_scene__166 (1)":case "scene_2_27 (1)":case "Combined_Mesh__root__scene___35812_scene__93 (1)":this.openAndClose(a,-1),this.firstGet(a);break;case "toolbox_cover10":this.openAndClose(a,-1,90,"z"),this.firstGet(a);break;case "l_drawer01":case "l_drawer02":case "l_drawer03":case "r_drawer01":case "r_drawer02":case "r_drawer03":case "Cajon1":case "Cajon2":case "Cajon3":case "cupboard2_doors":case "cupboard2_doorx":this.pushAndPpull(a,1,0,"x"),this.firstGet(a);break;case "drawer01":case "drawer02":case "drawer03":case "drawer04":case "drawer05":case "drawer06":case "drawer07":case "Cajon1_0":case "Cajon2_0":case "Cajon3_0":this.pushAndPpull(a,-1,0,"x"),this.firstGet(a);break;case "big_drawer":this.pushAndPpull(a,1,0,"z"),this.firstGet(a);break;case "room_chair":case "youxiang1":case "youxiang2":case "lajitong1 1":case "lajitong2 1":case "mainroom1_dengzi":case "lajitong":case "sanlou_chair1":case "sanlou_chair2":case "box1":case "box2":case "box3":case "box4":case "box5":case "box6":case "box7":case "box8":case "lajitong01":case "lajitong02":case "Combined_Mesh__root__scene___35812_scene__70":case "Combined_Mesh__root__scene___35812_scene__101":case "Combined_Mesh__root__scene___35812_scene__105":case "Combined_Mesh__root__scene___35812_scene__118":case "Combined_Mesh__root__scene___35812_scene__120":case "Combined_Mesh__root__scene___35812_scene__133":case "scene_2_31":case "scene_2_41":case "scene_2_51":this.overturn(a),this.firstGet(a);break;case "snowman1":case "snowman2":case "xueren1":case "xueren2":case "youxipai":case "sanlou_zhuozi":case "candle1":case "candle2":case "bei":case "bei2":case "mubei1":case "mubei2":case "mubei3":case "mubei4":case "mubei5":case "mubei6":case "mubei7":case "mubei8":case "mubei9":case "mubei10":case "mubei11":case "mubei12":case "mubei13":case "mubei14":case "mubei15":case "mubei16":case "mubei17":case "mubei18":case "mubei19":case "mubei20":case "mubei21":case "mubei22":case "mubei23":case "mubei24":case "mubei25":case "mubei26":case "mubei27":case "mubei28":case "mubei29":case "mubei30":case "mubei31":case "mubei32":case "mubei33":case "mubei34":case "mubei35":case "mubei36":case "youtong":case "youtong2":this.overturn(a,!0),this.firstGet(a);break;case "computer":case "gouwo":case "paper":case "paishui":case "paishui2":case "paishuigou":case "youxiang":case "lajixiang":case "lajixiang2":case "bin":case "stone1":case "stone2":case "stone3":case "stone4":case "houmen":case "mainroom1_jiaju3":case "guizi":case "feijiu_bingxiang":case "gate1":case "gate3":case "Combined_Mesh__root__scene___35812_scene__88":case "Combined_Mesh__root__scene___35812_scene__55":case "Combined_Mesh__root__scene___35812_scene__59":case "Combined_Mesh__root__scene___35812_scene__63":case "Combined_Mesh__root__scene___35812_scene__112":case "Combined_Mesh__root__scene___35812_scene__150":case "Combined_Mesh__root__scene___35812_scene__154":case "scene_2_26":case "Combined_Mesh__root__scene___35812_scene__74":case "scene_2_5":case "scene_2_16":this.firstGet(a);}}
firstGet(e){if(e&&e.name&&!this.isGuide&&this.objInfo.firstGet){if(1==this.objInfo.sign){for(let t=0;t<this.firstGetComplete.length;t++)if(e.name==this.firstGetComplete[t])return;this.firstGetComplete.push(e.name);}
R.showFlyTip(this.objInfo.firstGet);}}
getpasscard(e){let t=e.getChildByName("passcard");null!=t?(this.captureGoods(t),R.showFlyTip("Got the key card"),this.gameView.operationTipId+=1):R.showFlyTip("Nothing was found"),this.pieClear(),e.getComponent(Laya.PhysicsCollider).destroy();}
isStare(e){let t=v.instance.ice2Game.ice2Camera.focusGoods;null!=t&&this.stare==t.name?(this.stareProgress+=16/e,this.gameView.starePie(this.stareProgress)):(Laya.timer.clear(this,this.getpasscard),Laya.timer.clear(this,this.isStare),this.stare="",this.pieClear());}
stareClear(){Laya.timer.clear(this,this.getpasscard),Laya.timer.clear(this,this.isStare),this.stare="",this.pieClear();}
pieClear(){this.stareProgress=0,this.gameView.drawPie.graphics.clear(),this.gameView.drawPie.active=!1;}
cableMove(e,t){let i=v.instance.ice2Game.ice2Camera.camera,a=i.transform.position.clone(),s=new Laya.Vector3(),o=new Laya.Vector3();Laya.Vector3.subtract(t.clone(),e.clone(),s),Laya.Vector3.scale(s.clone(),1/300,o),Laya.Vector3.add(a.clone(),o.clone(),a),i.transform.position=a,this.cableMovePercentage++,300==this.cableMovePercentage&&(this.cableMovePercentage=0,Laya.timer.clear(this,this.cableMove),this.eventProgress("Cable",0));}
nodeChange(e,t){let i=e.transform.position.clone(),a=e.transform.rotation.clone();t.addChild(e),e.transform.position=i,e.transform.rotation=a;}
refreshCollider(){let e=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"collider");v.instance.ice2Game.ice2Camera.house_collider_arr=e,v.instance.ice2Game.ice2Camera.map.rod.houseColliderArr=e;}
animPlay(e,t,i=1,a=!1,s){let o=e.getComponent(Laya.Animator);if(!o)return null;if(null!=s?o.play(t,0,s):o.play(t,0),o.speed=i,a){let e=o.getControllerLayer().getCurrentPlayState().animatorState.clip.duration()/i;Laya.timer.once(1e3*e,this,()=>{let e=o.getDefaultState().name;o.crossFade(e,.2,0,0);});}
return o;}
departSceneAnim(t){y.stopAll(),y.playSound(_.AUTO_70CHEVYSS),this.gameView.showGameView(!1),v.instance.ice2Game.ice2Camera.map.rod.rod.active=!1,v.instance.ice2Game.ice2Camera.map.rod.setRodState(!1),null!=this.getGoods&&(this.getGoods.active=!1);let i=v.instance.ice2Game.ice2Camera.map.car;i.getChildByName("scene_light8").getChildAt(0).active=!0,i.getChildByName("scene_light8").getChildAt(1).active=!0,d.findObjectByLikeName(i,"Puerta_DER")[0].transform.localRotationEulerY=0,d.findObjectByLikeName(i,"Puerta_IZQ")[0].transform.localRotationEulerY=0;let a=0,s=i.getComponent(Laya.Animator),r=this.camera.getComponent(Laya.Animator);switch(s.play("car_running",1,0),this.mapName){case e.Town:r.play("cameraDepartTown",0,0),s.play("carDepartTown",0,0),n.setLocal(o.NOVICE_GUIDE,!1),this.isGuide&&this.noviceGuideStep(-1);break;case e.Circus:r.play("cameraDepartCircus",0,0),s.play("carDepartCircus",0,0);break;case e.Cemetery:r.play("cameraDepartCemetery",0,0),s.play("carDepartCemetery",0,0);break;case e.Stall:this.animPlay(d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"gate1")[0],"gate1Anim",1,!1,0),this.animPlay(d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"gate3")[0],"gate3Anim",1,!1,0),r.play("cameraDepartStall",0,0),s.play("carDepartStall",0,0);break;case e.Garage:this.animPlay(d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"Barrera_0")[0],"barreraAnim",1,!1,0),r.play("cameraDepartGarage",0,0),s.play("carDepartGarage",0,0);break;case e.Classroom:case e.Forest:}
a=r.getControllerLayer(0).getCurrentPlayState().animatorState.clip.duration()/r.speed*1e3;if(a<=1500)return this.gameView.gradualChange(this.gameView.gameView.blank_screen,1e3,1e3),void Laya.timer.once(1e3,this.departSceneAnim,()=>{v.instance.ice2Game.ice2Camera.map.mapChange(t);});Laya.timer.once(a-1e3-500,this.departSceneAnim,()=>{this.gameView.gradualChange(this.gameView.gameView.blank_screen,1e3,1e3);}),Laya.timer.once(a,this.departSceneAnim,this.curAnimCallback=(()=>(y.stopSound(_.AUTO_70CHEVYSS),this.mapName==e.Town?(r.play("empty",0,0),void Laya.timer.once(1,this,()=>{this.classroomAnim1(t);})):t==e.Cemetery&&this.eventProgress("get_gas_tank1")&&this.eventProgress("get_alarm_clock")&&!this.eventProgress("classroomAnim2")?(r.play("empty",0,0),void this.classroomAnim2()):void Laya.timer.once(1,this,()=>{this.comeSceneAnim(t);}))));}
comeSceneAnim(t){if(y.stopAll(),!Laya.loader.getRes(this.map.getFile(t)))return R.hideView(R.GAME_VIEW),void this.map.loaderMap(t,R.GAME_VIEW,()=>{this.comeSceneAnim(t);});v.instance.ice2Game.ice2Camera.map.mapChange(t),this.gameView.showGameView(!1),v.instance.ice2Game.ice2Camera.map.rod.rod.active=!1,v.instance.ice2Game.ice2Camera.map.rod.setRodState(!1),null!=this.getGoods&&(this.getGoods.active=!1);let i=v.instance.ice2Game.ice2Camera.map.car;i.getChildByName("scene_light8").getChildAt(0).active=!0,i.getChildByName("scene_light8").getChildAt(1).active=!0,d.findObjectByLikeName(i,"Puerta_DER")[0].transform.localRotationEulerY=0,d.findObjectByLikeName(i,"Puerta_IZQ")[0].transform.localRotationEulerY=0;let a=0,s=this.camera.getComponent(Laya.Animator),o=i.getComponent(Laya.Animator);switch(o.play("car_running",1,0),t){case e.Town:return s.play("empty",0,0),void this.unlockingAnim();case e.Circus:s.play("cameraComeCircus",0,0),o.play("carComeCircus",0,0),y.playSound(_.AUTO_70CHEVYSS,1,()=>{},null,26),Laya.timer.once(7e3,this.comeSceneAnim,()=>{y.stopSound(_.AUTO_70CHEVYSS),y.playSound(_.METALLIC_BLIND);});break;case e.Cemetery:this.animPlay(d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"l_gate")[0],"lGateAnim",1,!1,0),this.animPlay(d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"r_gate")[0],"rGateAnim",1,!1,0),s.play("cameraComeCemetery",0,0),o.play("carComeCemetery",0,0),Laya.timer.once(5e3,this.comeSceneAnim,()=>{y.playSound(_.STOP_VAN);});break;case e.Stall:this.animPlay(d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"gate1")[0],"gate1Anim",1,!1,0);this.animPlay(d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"gate3")[0],"gate3Anim",1,!1,0),s.play("cameraComeStall",0,0),o.play("carComeStall",0,0),y.playSound(_.AUTO_70CHEVYSS,1,()=>{},null,27),Laya.timer.once(4500,this.comeSceneAnim,()=>{y.stopSound(_.AUTO_70CHEVYSS),y.playSound(_.METALLIC_BLIND);});break;case e.Garage:s.play("cameraComeGarage",0,0),o.play("carComeGarage",0,0),y.playSound(_.AUTO_70CHEVYSS,1,()=>{},null,24),Laya.timer.once(7e3,this.comeSceneAnim,()=>{y.stopSound(_.AUTO_70CHEVYSS),y.playSound(_.STOP_VAN);});break;case e.Classroom:case e.Forest:}
a=s.getControllerLayer(0).getCurrentPlayState().animatorState.clip.duration()/s.speed*1e3,Laya.timer.once(a,this.comeSceneAnim,this.curAnimCallback=(()=>{y.stopAllSound(),y.playMusic(_.VAN_LOOP,1,()=>{y.playMusic(_.BACKGROUND_PRK,0);}),s.play("empty",0,0),o.play("empty",0,0),i.getChildByName("scene_light8").getChildAt(0).active=!1,i.getChildByName("scene_light8").getChildAt(1).active=!1,v.instance.ice2Game.ice2Camera.map.mapChange(t),o.play("car_stop",1,0),this.gameView.showGameView(!0),v.instance.ice2Game.ice2Camera.map.rod.rod.active=!0,v.instance.ice2Game.ice2Camera.map.rod.setRodState(!0),null!=this.getGoods&&(this.getGoods.active=!0),v.instance.ice2Game.ice2Camera.userControl.enable(),this.saveGame();}));}
enterGameSceneAnim(){y.playMusic(_.BGM,1),this.gameView.showGameView(!1),null!=this.getGoods&&(this.getGoods.active=!1);let e=d.findObjectByLikeName(this.scene,"anim_pos_arr")[0].getChildByName("enter_game"),t=v.instance.ice2Game.ice2Camera.map.currentMap.getChildByName("J"),i=[],a=[1,2e3,1,2e3,1,2e3,3e3],s=[1,1,1,1,1,1,1e3];for(let o=0;o<e.numChildren;o++){let r;4==o&&(r=(()=>{Laya.timer.once(500,this,()=>{this.animPlay(t,"J_table",1,!1,0);});})),i.push([e.getChildAt(o).transform.localPosition.clone(),e.getChildAt(o).transform.localRotationEuler.clone(),null!=a[o]?a[o]:1,null!=s[o]?s[o]:1,null!=r?r:void 0]);}
this.cameraMoveAnim(i,()=>{y.playMusic(_.CONFLICT_0,0),t.active=!1,this.gameView.showGameView(!0),this.isGuide&&this.noviceGuideStep(0);const e=d.findObjectByName(this.map.currentMap,"computer");e&&(e.active=!1);});}
classroomAnim1(t){if(!Laya.loader.getRes(this.map.getFile(e.Classroom)))return R.hideView(R.GAME_VIEW),void this.map.loaderMap(e.Classroom,R.GAME_VIEW,()=>{this.classroomAnim1(t);});v.instance.ice2Game.ice2Camera.map.mapChange(e.Classroom),this.gameView.showGameView(!1),null!=this.getGoods&&(this.getGoods.active=!1);let i=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"rodJhe")[0];this.animPlay(i,"Rodj_classroom1",0,!1,0);let a=d.findObjectByLikeName(this.scene,"anim_pos_arr")[0].getChildByName("classroom1"),s=[],o=[1,1e4,1e4,1],r=[1,1,1,3e3];for(let e=0;e<a.numChildren;e++){let t;2==e&&(t=(()=>{this.animPlay(i,"Rodj_classroom1",1,!1,0);})),s.push([a.getChildAt(e).transform.localPosition.clone(),a.getChildAt(e).transform.localRotationEuler.clone(),null!=o[e]?o[e]:1e3,null!=r[e]?r[e]:1,null!=t?t:void 0]);}
this.cameraMoveAnim(s,()=>{this.eventProgress("classroomAnim1",2),Laya.timer.callLater(this,()=>{this.comeSceneAnim(t);});});let n=[],l=["I can't understand...","Why am I so different from others?","In fact, I dare not eat too much for fear of getting fat","Yes, I recently ate a little ice cream with a special flavor made by my father","But only once!","Why am I so different from other people?","I don't want this!"],h=[1500,1500,1500,1500,1500,1500,1500],c=[],p=[3e3,500,500,3e3,500,500,1e3,500];for(let e=0;e<l.length;e++)n.push([l[e],null!=h[e]?h[e]:800,null!=c[e]?c[e]:200,null!=p[e]?p[e]:1]);this.chatBoxShow(n);}
classroomAnim2(){if(!Laya.loader.getRes(this.map.getFile(e.Classroom)))return R.hideView(R.GAME_VIEW),void this.map.loaderMap(e.Classroom,R.GAME_VIEW,()=>{this.classroomAnim2();});v.instance.ice2Game.ice2Camera.map.mapChange(e.Classroom),null!=this.getGoods&&(this.getGoods.active=!1),this.gameView.showGameView(!1),v.instance.ice2Game.ice2Camera.map.rod.rod.active=!0,v.instance.ice2Game.ice2Camera.map.rod.setRodState(!1);let t=d.findObjectByLikeName(this.scene,"anim_pos_arr")[0],i=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"rodJhe")[0],a=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"heart")[0],s=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"pinchos")[0],o=v.instance.ice2Game.ice2Camera.map.rod.rod;i.transform.position=t.getChildByName("rodj").getChildByName("pos2").transform.position,i.transform.rotation=t.getChildByName("rodj").getChildByName("pos2").transform.rotation,o.transform.position=t.getChildByName("rod_pos").getChildByName("pos1").transform.position,o.transform.rotation=t.getChildByName("rod_pos").getChildByName("pos1").transform.rotation,this.animPlay(i,"Rodj_classroom2",1,!1,0);this.animPlay(o,"rod_classroomtalk",1,!1,0);this.animPlay(a,"heart_tiaodong",1,!1,0);let r=t.getChildByName("classroom2"),n=[],l=[1,1,1,1,1,1,1e4,1,1,1,7e3,1,1,1,1,1,4e3],h=[6e3,2e3,5e3,1e4,6e3,1,1,3e3,13e3,1,1,3e3,7e3,7e3,7e3,5e3,2e3,1];for(let e=0;e<r.numChildren;e++){let t;9==e&&(t=(()=>{Laya.timer.once(h[9]+3500,this,()=>{Laya.Tween.to(s.transform,{localPositionY:.0396},800);});})),13==e&&(t=(()=>{})),n.push([r.getChildAt(e).transform.localPosition.clone(),r.getChildAt(e).transform.localRotationEuler.clone(),null!=l[e]?l[e]:2e3,null!=h[e]?h[e]:2e3,null!=t?t:void 0]);}
this.cameraMoveAnim(n,()=>{v.instance.ice2Game.ice2Camera.map.rod.rod.active=!1,v.instance.ice2Game.ice2Camera.map.rod.setRodState(!1),this.eventProgress("classroomAnim2",2),Laya.timer.callLater(this,()=>{this.comeSceneAnim(e.Cemetery);});});let c=[],p=["What's the matter? Why are you crying, little friend?","You know why...","Yes, it is. You and I are the same","The truth is, I see you sitting there, such a small person","So helpless... So much so that I forget I used to be like this","Yes, you need to remember","Insult... Beating... All those bad kids...","I hate them, I hate them so much, I hate them so much","No, no, no, no, no, no, no, no. Just be patient","Save as much money as you can","Stop going to that goddamn school. It's not good for you","Don't get down. Trust me, you'll get better, I promise","Ask my dad for help?","No, he won't listen to what you say","He's got a lot of secrets. You'll find out","You'll be an ice cream maker just like him, remember what I said","How can you find revenge on these people","Help will come in ways you may not expect","This is a letter from your mother. Here she tells you something very important","So, kid, you pay more attention, you'll be all right"],m=[2e3,3e3,3e3,3e3,3e3,5e3,5e3,4e3,4e3,3e3,4e3,6e3,4e3,5e3,3e3,2e3,2e3],g=[],u=[4e3,500,1e3,500,500,500,500,500,500,500,500,500,500,500,500,500,500];for(let e=0;e<p.length;e++)c.push([p[e],null!=m[e]?m[e]:2e3,null!=g[e]?g[e]:200,null!=u[e]?u[e]:500]);this.chatBoxShow(c);}
unlockingAnim(){let t=Laya.loader.getRes(this.map.getFile(e.Town)),i=Laya.loader.getRes(this.map.getFile(e.Circus));if(!t||!i){let i=t?e.Circus:e.Town;return R.hideView(R.GAME_VIEW),void this.map.loaderMap(i,R.GAME_VIEW,()=>{this.unlockingAnim();});}
if(null!=this.getGoods&&(this.getGoods.active=!1),this.eventProgress("unlockingAnim",2),v.instance.ice2Game.ice2Camera.map.mapChange(e.Town),this.mapName==e.Town){this.gameView.showGameView(!1,!1),v.instance.ice2Game.ice2Camera.stopRotation=!0,v.instance.ice2Game.ice2Camera.userControl.removeEvent();let e=v.instance.ice2Game.ice2Camera.map.currentMap.getChildByName("car"),t=d.findObjectByLikeName(e,"unlocking")[0],i=t.transform.rotationEuler.clone(),a=d.findObjectByLikeName(e,"ID_CandadoJaula")[0],s=a.getChildByName("CandadoJaula_Cierre"),o=a.getChildByName("CandadoJaula_Cerrojo");this.camera.transform.position=t.transform.position.clone(),this.camera.transform.localRotationEuler=new Laya.Vector3(-i.x,i.y+180,i.z),Laya.Tween.to(s.transform,{localPositionX:.00285,localRotationEulerX:360},1e3,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{Laya.Tween.to(o.transform,{localRotationEulerX:90},500,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{})),Laya.Tween.to(a.transform,{localPositionX:.01554},500,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{this.completeGameAnim1();}));}));}}
completeGameAnim1(){this.gameView.showGameView(!1),this.eventProgress("completeGameAnim1",2);let e=v.instance.ice2Game.ice2Camera.map.car;e.getComponent(Laya.Animator).play("car_running",1,0);let t=d.findObjectByLikeName(this.scene,"anim_pos_arr")[0],i=t.getChildByName("complete_game").getChildByName("car1"),a=[],s=[1,1500,1e3,1e3,8e3,1e3,1e3,2500],o=[];for(let t=0;t<i.numChildren;t++){let r;3==t&&(r=(()=>{let t=d.findObjectByLikeName(e,"Puerta_DER")[0],i=d.findObjectByLikeName(e,"Puerta_IZQ")[0];this.openAndClose(t,-1,0),this.openAndClose(i,1,0),Laya.timer.once(.2*s[4],this,()=>{let a=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.currentMap,"J")[0],s=this.animPlay(a,"J_jumping",1,!1,0),o=d.findObjectByLikeName(e,"jump_car")[0];this.openAndClose(t,-1),this.openAndClose(i,1),Laya.timer.loop(1,this.toPos,this.toPos,[a,o]),Laya.timer.once(250,this,()=>{s.speed=0;}),Laya.timer.once(500,this,()=>{this.animPlay(a,"J_jumping",1,!1,0),a.active=!0;let e=s.getControllerLayer(0).getCurrentPlayState().animatorState.clip.duration()/s.speed*1e3;Laya.timer.once(.55*e,this,()=>{Laya.timer.clear(this.toPos,this.toPos);});});});})),6==t&&(r=(()=>{this.cameraLookAt(!1);})),a.push([i.getChildAt(t).transform.localPosition.clone(),i.getChildAt(t).transform.localRotationEuler.clone(),null!=s[t]?s[t]:2e3,null!=o[t]?o[t]:1,null!=r?r:void 0]);}
this.objMoveAnim(a,()=>{this.cameraLookAt(!1);},null,!1,e);let r=t.getChildByName("complete_game").getChildByName("camera1"),n=[],l=[1,3e3,1e3,1e3],h=[4e3,100,1e3,2e3];for(let e=0;e<r.numChildren;e++){let t;3==e&&(t=(()=>{})),n.push([r.getChildAt(e).transform.localPosition.clone(),r.getChildAt(e).transform.localRotationEuler.clone(),null!=l[e]?l[e]:2e3,null!=h[e]?h[e]:1,null!=t?t:void 0]);}
this.cameraLookAt(e),this.cameraMoveAnim(n,()=>{this.cameraLookAt(!1),Laya.Tween.to(this.camera.transform,{localPositionX:this.camera.transform.localPositionX+.03,localPositionY:this.camera.transform.localPositionY-.03,localPositionZ:this.camera.transform.localPositionZ-.06,localRotationEulerX:this.camera.transform.localRotationEulerX+16},13e3,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{this.completeGameAnim2();}));},null,!0);let c=[],p=["No, I can't","If I jump out of the van while it's driving, I'll get hurt"],m=[1500,5e3],g=[],u=[7e3,500];for(let e=0;e<p.length;e++)c.push([p[e],null!=m[e]?m[e]:2e3,null!=g[e]?g[e]:200,null!=u[e]?u[e]:500]);this.chatBoxShow(c);}
completeGameAnim2(){this.eventProgress("completeGameAnim2",2),v.instance.ice2Game.ice2Camera.map.mapChange(e.Circus);let t=v.instance.ice2Game.ice2Camera.map.car;t.getComponent(Laya.Animator).play("car_running",1,0);let i=d.findObjectByLikeName(this.scene,"anim_pos_arr")[0],a=i.getChildByName("complete_game").getChildByName("car2"),s=[],o=[1,1500,1e3,1e3,2e3,1e3,1e3,2500],r=[];for(let e=0;e<a.numChildren;e++){let t;3==e&&(t=(()=>{})),a.getChildAt(e).transform.localRotationEulerY+=180,s.push([a.getChildAt(e).transform.localPosition.clone(),a.getChildAt(e).transform.localRotationEuler.clone(),null!=o[e]?o[e]:2e3,null!=r[e]?r[e]:1,null!=t?t:void 0]);}
this.objMoveAnim(s,()=>{this.cameraLookAt(!1);},null,!1,t);let n=v.instance.ice2Game.ice2Camera.map.currentMap.getChildByName("Mike1"),l=v.instance.ice2Game.ice2Camera.map.currentMap.getChildByName("Charlie");v.instance.ice2Game.ice2Camera.stopRotation=!0;let h=i.getChildByName("complete_game").getChildByName("camera2"),c=v.instance.ice2Game.ice2Camera.map.currentMap.getChildByName("Mikeperfume");c.active=!0;let p=i.getChildByName("complete_game").getChildByName("mike"),m=i.getChildByName("complete_game").getChildByName("charlie"),g=[],u=[1,2e3,1,1e3,4e3],y=[1,3e3,1,3e3,1],_=[],f=[1,2e3],x=[2e3],w=[],b=[1,5e3],L=[],C=[3e3,1e3,1e3,3e3,2e3],S=[],I=[2e3,1e3,200,200,500],V=()=>{for(let e=0;e<m.numChildren;e++){let t;m.getChildAt(e).transform.localRotationEulerY+=180,_.push([m.getChildAt(e).transform.localPosition.clone(),m.getChildAt(e).transform.localRotationEuler.clone(),null!=f[e]?f[e]:2e3,null!=x[e]?x[e]:1,null!=t?t:void 0]);}
this.objMoveAnim(_,()=>{Laya.timer.once(2500,this,()=>{A&&A();});},null,!1,l);},A=()=>{this.animPlay(n,"Mike_run");for(let e=0;e<p.numChildren;e++){let t;p.getChildAt(e).transform.localRotationEulerY+=180,w.push([p.getChildAt(e).transform.localPosition.clone(),p.getChildAt(e).transform.localRotationEuler.clone(),null!=b[e]?b[e]:2e3,null!=L[e]?L[e]:1,null!=t?t:void 0]);}
this.objMoveAnim(w,()=>{c.transform.position=n.transform.position,c.transform.rotationEuler=n.transform.rotationEuler,c.transform.localRotationEulerY+=30,n.active=!1,this.animPlay(c,"mike_perfume1",.6);},null,!1,n);},G=this.animPlay(c,"mike_perfume2",0,!1,0);for(let e=0;e<h.numChildren;e++){let t;1==e&&(t=(()=>{G.speed=.5,V&&V();})),g.push([h.getChildAt(e).transform.localPosition.clone(),h.getChildAt(e).transform.localRotationEuler.clone(),null!=u[e]?u[e]:2e3,null!=y[e]?y[e]:1,null!=t?t:void 0]);}
this.cameraMoveAnim(g,()=>{Laya.Tween.to(this.camera.transform,{localPositionY:this.camera.transform.localPositionY-.03,localRotationEulerX:this.camera.transform.localRotationEulerX+10},3e3,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{let e=R.getView(R.GAME_VIEW);e.gradualChange(e.gameView.blank_screen,500,1500),Laya.timer.once(2e3,this,()=>{this.completeGameAnim3();});}));});let P=[],E=["Charlie, that's Liz! It's your sister","Yes, she is not wrong! How w did she get to be this way?","I can't believe what happened","Liz, wait! Hey! Wait!","Go to hell"];for(let e=0;e<E.length;e++)P.push([E[e],null!=C[e]?C[e]:2e3,null!=S[e]?S[e]:200,null!=I[e]?I[e]:500]);this.chatBoxShow(P);}
completeGameAnim3(){let t=Laya.loader.getRes(s.JiesuanAtlas);t||l.load(s.JiesuanAtlas,Laya.Handler.create(this.completeGameAnim3,e=>{t=e;})),this.gameView.showGameView(!1,!1),this.eventProgress("completeGameAnim3",2),v.instance.ice2Game.ice2Camera.map.mapChange(e.Town);let i=d.findObjectByLikeName(this.scene,"anim_pos_arr")[0].getChildByName("complete_game").getChildByName("camera3"),a=[],o=[1,6e3],r=[1,1e3];for(let e=0;e<i.numChildren;e++){let t;a.push([i.getChildAt(e).transform.localPosition.clone(),i.getChildAt(e).transform.localRotationEuler.clone(),null!=o[e]?o[e]:2e3,null!=r[e]?r[e]:1,null!=t?t:void 0]);}
this.cameraMoveAnim(a,()=>{t?this._gameover(!0):l.load(s.JiesuanAtlas,Laya.Handler.create(this.completeGameAnim3,e=>{this._gameover(!0);}));});}
_gameover(e){R.hideView(R.GAME_VIEW),R.showView(R.RESULT_VIEW,e);}
exitGame(e=!0){e&&this.clearSave(),this.guideEnd(),v.instance.ice2Game.ice2Camera.focusGoods=null,v.instance.isGame=!1,v.instance.ice2Game.ice2Camera.userControl.dispose(),Laya.timer.clearAll(R.getView(R.GAME_VIEW)),Laya.timer.clearAll(this),Laya.Tween.clearAll(this),Laya.timer.callLater(this,()=>{v.instance.scene.destroy(),v.instance=null;});}
shine(e,t=1,i=3,a=2e3){if(10,0==d.findObjectByLikeName(e,"shine").length){let t=d.findObjectByLikeName(v.instance.ice2Game.ice2Camera.map.globalResource,"shine")[0].clone();e.addChild(t),t.active=!0,t.transform.localPosition=new Laya.Vector3(0,0,0),t.transform.setWorldLossyScale(new Laya.Vector3(10,10,10));}
this.findChildrenEffectMaterial(e,a,t);}
findChildrenEffectMaterial(e,t=2e3,i=1){let a=e;if(a.meshRenderer&&a.meshRenderer.material)for(let e=0;e<a.meshRenderer.materials.length;e++){let s=a.meshRenderer.materials[e];s instanceof Laya.EffectMaterial&&(Laya.Tween.clearAll(s),0==i?Laya.Tween.to(s,{colorA:0},t/2):this.gradualShowHide(s,t));}
for(let a=0;a<e.numChildren;a++)this.findChildrenEffectMaterial(e.getChildAt(a),t,i);}
gradualShowHide(e,t=2e3){Laya.Tween.to(e,{colorA:0},t,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{colorA:.3},t,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{this.gradualShowHide(e,t);}));}));}
updateOperationTip(){if(this.isReadLocalData&&(this.isReadLocalData=!1,this.isOperationTipComplete=1===Qx.LocalStorage.getValue("Ice-SHEscape-operation_tip",0)),this.isOperationTipComplete)return;let t=-1;if(!this.gameView.exit_anim_scene.visible){const i=this.map.currentMap,a=this.ice2Camera.role;switch(this.mapName){case e.Town:if(this.isInRomm()){if(this.eventProgress("need_window_pos_arr")){t=this.getGoods&&"need_quilt2"==this.getGoods.name||!d.findObjectByName(this.map.currentMap,"nail").getComponent(Laya.PhysicsCollider)?3:2;}else t=1;}else{const e=i.getChildByName("car"),a=d.findObjectByName(e,"Puerta_IZQ");if(90===Math.abs(a.transform.localRotationEulerY)){if(d.findObjectByName(this.scene,"MapaCorcho").active)t=7;else{t=this.getGoods&&"map_ground"===this.getGoods.name?6:5;}}else t=4;}
break;case e.Circus:if(this.eventProgress("gameroom_door")){if(this.hasGoods("can_cat")){t=12;}else{const e=d.findObjectByName(i,"roomdoor4");t=Laya.Vector3.distance(a.transform.position,e.transform.position)<.15?11:10;}}else{if(this.hasGoods("passcard")){t=9;}else{t=8;}}
break;case e.Cemetery:this.eventProgress("cat1")?t=15:this.eventProgress("gravemonument_cat")?t=14:this.hasGoods("can_cat")&&(t=13);break;case e.Garage:if(this.eventProgress("cat1")){if(this.eventProgress("get_alarm_clock")){this.hasGoods("alarm_clock")&&(this.isOperationTipComplete=!0,Qx.LocalStorage.setValue("Ice-SHEscape-operation_tip",1),setTimeout(()=>{R.showFlyTip("You've got one of the most important props. Find other props and save Liz.")},4000));}else{const e=d.findObjectByName(i,"alarm_clock");t=Laya.Vector3.distance(e.transform.position,a.transform.position)<.2?17:16;}}}}
this.gameView.operationTipId=t;}
hasGoods(e){return this.getGoods&&this.getGoods.name===e||this.carGoodsArr.some(t=>t[0]===e);}
isInRomm(){const e=this.map.currentMap.getChildByName("first_xiaozhen").getChildByName("house"),t=d.findObjectByName(e,"room_ground").meshRenderer.bounds._boundBox,i=this.ice2Camera.role;return 0!==Laya.CollisionUtils.boxContainsPoint(t,i.transform.position);}}
class v{constructor(){this.isGame=!1;}
static init(){return this.instance?this.instance.scene||this.instance.init3dView():(this.instance=new v(),this.instance.init3dView()),this.instance;}
init3dView(){this.isGame=!0,this.scene=new Laya.Scene3D();let e=new Laya.Sprite3D("sceneMap");R.instance.rootContainer.addChild(this.scene);let t=Laya.Sprite3D.instantiate(Laya.loader.getRes(a.Town));t.transform.position=new Laya.Vector3(0,0,0),e.addChild(t),this.scene.addChild(e),this.camera=Laya.Sprite3D.instantiate(Laya.loader.getRes(s.Camera)),this.camera.nearPlane=.001,this.camera.farPlane=1e3,this.camera.transform.position=d.findObjectByLikeName(this.scene,"initial_position")[0].transform.position.clone(),this.camera.clearFlag=Laya.BaseCamera.CLEARFLAG_SOLIDCOLOR,this.scene.addChild(this.camera),this.ice2Game=new S(this.scene,this.camera);}}
class I{constructor(e,t,i,a){this.leftControlId=-1,this.rightControlId=-1,this.isKeyLeft=!1,this.isKeyRight=!1,this.isKeyUp=!1,this.isKeyDown=!1,this.preRote=new Laya.Vector2(),this.leftCallBack=e,this.rightCallBack=t,this.leftStatusCallBack=i,this.rightStatusCallBack=a;}
enable(){this.gameView=R.getView(R.GAME_VIEW),this.gameView.gameView.joystick_left.on(Laya.Event.MOUSE_DOWN,this,this.onMouseDown),Laya.stage.on(Laya.Event.KEY_DOWN,this,this.onKeyDown),Laya.stage.on(Laya.Event.KEY_UP,this,this.onKeyUp),Laya.stage.on(Laya.Event.BLUR,this,this.endDown);this.regsterEvent();}
regsterEvent(){this.gameView.gameView.right_area.on(Laya.Event.MOUSE_DOWN,this,this.onRoteMouseDown),Laya.stage.on(Laya.Event.MOUSE_MOVE,this,this.touchMove),Laya.stage.on(Laya.Event.MOUSE_UP,this,this.touchEnd);Laya.stage.on(Laya.Event.MOUSE_OUT,this,this.touchEnd);}
removeEvent(){this.gameView.gameView.right_area.off(Laya.Event.MOUSE_DOWN,this,this.onRoteMouseDown),Laya.stage.off(Laya.Event.MOUSE_MOVE,this,this.touchMove),Laya.stage.off(Laya.Event.MOUSE_UP,this,this.touchEnd);Laya.stage.off(Laya.Event.BLUR,this,this.endDown);Laya.stage.off(Laya.Event.MOUSE_OUT,this,this.touchEnd);}
onKeyDown(e){switch(e.keyCode){case Laya.Keyboard.W:this.isKeyUp=!0,this.leftCallBack(this.getKeyX(),this.getKeyY());break;case Laya.Keyboard.S:this.isKeyDown=!0,this.leftCallBack(this.getKeyX(),this.getKeyY());break;case Laya.Keyboard.A:this.isKeyLeft=!0,this.leftCallBack(this.getKeyX(),this.getKeyY());break;case Laya.Keyboard.D:this.isKeyRight=!0,this.leftCallBack(this.getKeyX(),this.getKeyY());}}
endDown(){this.isKeyUp=!1;this.isKeyDown=!1;this.isKeyLeft=!1;this.isKeyRight=!1,this.leftCallBack&&this.leftCallBack(this.getKeyX(),this.getKeyY());}
onKeyUp(e){switch(e.keyCode){case Laya.Keyboard.W:this.isKeyUp=!1,this.leftCallBack(this.getKeyX(),this.getKeyY());break;case Laya.Keyboard.S:this.isKeyDown=!1,this.leftCallBack(this.getKeyX(),this.getKeyY());break;case Laya.Keyboard.A:this.isKeyLeft=!1,this.leftCallBack(this.getKeyX(),this.getKeyY());break;case Laya.Keyboard.D:this.isKeyRight=!1,this.leftCallBack(this.getKeyX(),this.getKeyY());}}
getKeyX(){return this.isKeyLeft||this.isKeyRight?this.isKeyLeft&&this.isKeyRight?0:this.isKeyLeft?-I.maxValue:I.maxValue:0;}
getKeyY(){return this.isKeyUp||this.isKeyDown?this.isKeyUp&&this.isKeyDown?0:this.isKeyUp?-I.maxValue:I.maxValue:0;}
onRoteMouseDown(e){-1==this.rightControlId&&(this.rightControlId=e.touchId,this.preRightX=Laya.stage.mouseX,this.preRightY=Laya.stage.mouseY,this.rightStatusCallBack&&this.rightStatusCallBack("start"),1==v.instance.ice2Game.isGuide&&this.gameView.hideGuide());}
touchMove(e){if(e.touchId==this.leftControlId){let e=Laya.stage.mouseX,t=Laya.stage.mouseY,i=e-this.preLeftX,a=t-this.preLeftY;this.leftCallBack(i,a,e,t);}else if(e.touchId==this.rightControlId){let e=Laya.stage.mouseX-this.preRightX,t=Laya.stage.mouseY-this.preRightY;this.preRightX=Laya.stage.mouseX,this.preRightY=Laya.stage.mouseY,this.rightCallBack(2*e,2*t);}}
touchEnd(e,t=""){e?e.touchId==this.leftControlId?(this.leftControlId=-1,this.leftStatusCallBack("end")):e.touchId==this.rightControlId&&(this.rightControlId=-1,this.rightStatusCallBack("end")):-1!=t.indexOf("left")?(this.leftControlId=-1,this.leftStatusCallBack("end")):-1!=t.indexOf("right")&&(this.rightControlId=-1,this.rightStatusCallBack("end"));}
onMouseDown(e){-1==this.leftControlId&&(e.stopPropagation(),this.leftControlId=e.touchId,this.preLeftX=Laya.stage.mouseX,this.preLeftY=Laya.stage.mouseY,this.leftStatusCallBack&&this.leftStatusCallBack("start"),1==v.instance.ice2Game.isGuide&&(this.gameView.hideGuide(-1),this.gameView.gameView.action_state.visible=!0));}
onMouseMove(e){let t=Laya.stage.mouseX,i=Laya.stage.mouseY,a=t-this.preLeftX,s=i-this.preLeftY;this.leftCallBack(3*a*.8,3*s*.8,t,i);}
keepRun(){}
disable(){let e=R.getView(R.GAME_VIEW);if(e){e.gameView.joystick_left.off(Laya.Event.MOUSE_DOWN,this,this.onMouseDown);}
this.gameView.gameView.right_area.off(Laya.Event.MOUSE_DOWN,this,this.onRoteMouseDown),Laya.stage.off(Laya.Event.MOUSE_MOVE,this,this.touchMove),Laya.stage.off(Laya.Event.MOUSE_UP,this,this.touchEnd),Laya.stage.off(Laya.Event.MOUSE_OUT,this,this.touchEnd);Laya.stage.off(Laya.Event.KEY_DOWN,this,this.onKeyDown),Laya.stage.off(Laya.Event.KEY_UP,this,this.onKeyUp);}
dispose(){this.disable(),this.leftCallBack=null,this.rightCallBack=null,this.leftStatusCallBack=null,this.rightStatusCallBack=null;}}
I.maxValue=70;class V extends g{constructor(){super(),this.ice2Game=null,this.joystick_left_touch_pos=new Laya.Vector2(),this.isClickSkipAnim=!0,this.guideStep=0,this.interactionGuide=!0,this.ratio=[1,1,0,0],this.pauseSign=1,this.isWatchingVideo=!1,this.isReadLocalData=!0,this.time=0,this.isCloseTip=!1,this.operationTipId=0,this.operationTipContent=[{id:1,unlock:!1,tip:"Open the window"},{id:2,unlock:!1,tip:"Get the blanket"},{id:3,unlock:!1,tip:"Get out through the window"},{id:4,unlock:!1,tip:"Open the tailgate"},{id:5,unlock:!1,tip:"Pick up the map on the road"},{id:6,unlock:!1,tip:"Hang the map on the wall"},{id:7,unlock:!1,tip:"Tap the circus on the map"},{id:8,unlock:!1,tip:"Get out and find the key card in the trash can"},{id:9,unlock:!1,tip:"Pick up the key card to open the game room"},{id:10,unlock:!1,tip:"Go to the second floor"},{id:11,unlock:!1,tip:"Find the cat food under the counter kitchen cabinet"},{id:12,unlock:!1,tip:"Take cat food to the tomb"},{id:13,unlock:!1,tip:"Put cat food on the tomb to attract kittens down"},{id:14,unlock:!1,tip:"Catch the kitten"},{id:15,unlock:!1,tip:"Heading to the cinema"},{id:16,unlock:!1,tip:"Find the cat shaped alarm clock in the cabin"},{id:17,unlock:!1,tip:"Replace the alarm clock with a cat"},{id:18,unlock:!1,tip:"You've got one of the most important props. Find other props and save Liz.If you're really stuck, you can ask for a hint. Good luck!"}],this.initView(),this.initEvent();}
initView(){this.gameView||(this.gameView=new c.GameViewUI(),this.addChild(this.gameView),this.ratio=d.screenAdaptation(this.gameView),this.left_box=this.gameView.left_box,this.right_box=this.gameView.right_box,this.center_box=this.gameView.center_box,this.down_box=this.gameView.down_box,this.exit_anim_scene=this.gameView.exit_anim_scene,this.chat_text1=this.gameView.chat_text1,this.chat_text2=this.gameView.chat_text2,this.right_area=this.gameView.right_area,this.discard=this.gameView.discard,this.light_up=this.gameView.light_up,this.drawPie=this.gameView.draw_pie,this.right_area.size(Laya.stage.width/this.ratio[0],Laya.stage.height/this.ratio[0]),this.right_area.pos(-this.gameView.right_area.localToGlobal(new Laya.Point()).x/this.ratio[0],0),this.gameView.blank_screen.size(Laya.stage.width,Laya.stage.height),this.gameView.chat_text1_bg.width=Laya.stage.width/this.ratio[0],this.gameView.hint_text2_bg.width=Laya.stage.width/this.ratio[0],this.gameView.chat_text1_bg.x-=this.gameView.chat_text1_bg.localToGlobal(new Laya.Point(0,0)).x/this.ratio[0],this.gameView.hint_text2_bg.x-=this.gameView.hint_text2_bg.localToGlobal(new Laya.Point(0,0)).x/this.ratio[0],this.drawPie.rotation=-90,this.joystick_left_touch_pos=new Laya.Vector2(this.gameView.joystick_left_touch.x,this.gameView.joystick_left_touch.y),this.gameView.blank_screen.visible=!0,this.gameView.blank_screen.alpha=0,this.gameView.walk.visible=!0,this.gameView.squat.visible=!1,this.gameView.hint_text.visible=!1,this.novice_guide=this.gameView.novice_guide,this.novice_guide.visible=!1,Laya.timer.once(300,this,()=>{v.instance.ice2Game=v.instance.ice2Game,this.initGuide();}));}
initGuide(){v.instance.ice2Game.isGuide&&(this.gameView.left_box.visible=!1,this.gameView.action_state.visible=!1,this.guideStep=1,this.interactionGuide=!0,this.gameView.hint_text2.visible=!1);}
initEvent(){this.gameView.action_state.on(Laya.Event.MOUSE_DOWN,this,this.actionState),this.gameView.interaction.on(Laya.Event.MOUSE_DOWN,this,this.interaction),this.gameView.discard.on(Laya.Event.MOUSE_DOWN,this,this.discardGoods),this.gameView.setting_btn.on(Laya.Event.MOUSE_DOWN,this,this.showSetting),this.gameView.light_off.on(Laya.Event.MOUSE_DOWN,this,this.showHint),this.gameView.light_up.on(Laya.Event.MOUSE_DOWN,this,this.showHint),this.exit_anim_scene.on(Laya.Event.MOUSE_DOWN,this,this.exitSceneAnim),this.gameView.pause.on(Laya.Event.MOUSE_DOWN,this,this.pause),this.gameView.close_operation_tip_btn.on(Laya.Event.CLICK,this,this.onCloseOperationTipBtn);this.gameView.soundBtn.on(Laya.Event.MOUSE_DOWN,this,this.changeMusic);}
onEnable(){this.gameView.soundBtn.skin=window.pause?"imagesUI/youxi/sound1.png":"imagesUI/youxi/sound0.png";}
changeMusic(){window.pause=!window.pause;this.gameView.soundBtn.skin=window.pause?"imagesUI/youxi/sound1.png":"imagesUI/youxi/sound0.png";Laya.LocalStorage.setJSON("Ice-SHEscape-music",window.pause);y.playMusic(y.curr_bgm_url);}
showToStage(e){this.pauseSign=1,this.isCloseTip=!1,this.operationTipId=-1,this.showGameView(!0),Laya.timer.frameLoop(1,this,this.update),this.showAd();Laya.stage.on("resize",this,this.resizeFun);this.resizeFun();}
resizeFun(){this.gameView.width=Laya.stage.width;this.gameView.height=Laya.stage.height;}
showAd(){}
hideAd(){}
removeFromStage(){Laya.stage.on("resize",this,this.resizeFun);Laya.timer.clear(this,this.showOperationTip),this.hideAd();}
update(){this.updateYaogan(),this.updateOperation();if(v.instance.ice2Game.ice2Camera.focusGoods){if(v.instance.ice2Game.isGuide&&this.interactionGuide){if("need_window_pos_arr"==v.instance.ice2Game.ice2Camera.focusGoods.name){this.gameView.interaction.visible=!0,this.interactionGuide=!1,v.instance.ice2Game.ice2Camera.userControl.touchEnd(null,"right"),v.instance.ice2Game.ice2Camera.camera.transform.lookAt(d.findObjectByName(v.instance.ice2Game.map.currentMap,"need_window").transform.position,new Laya.Vector3(0,1,0),!1),v.instance.ice2Game.ice2Camera.changeCameraAngle(null,1e3),v.instance.ice2Game.ice2Camera.userControl.removeEvent(),Laya.timer.callLater(this,()=>{v.instance.ice2Game.ice2Camera.userControl.regsterEvent();}),this.nextNoviceGuide(2);}else{this.gameView.interaction.visible=!1}}else{this.gameView.interaction.visible=!0}}else{this.gameView.interaction.visible=!1;}}
noviceGuide(){this.gameView.hint_text2.visible=!0,this.gameView.hint_text2.alpha=1,this.gameView.gameContainer.size(Laya.stage.width,Laya.stage.height),this.gameView.gameContainer.on(Laya.Event.MOUSE_DOWN,this,this.hideGuide),this.gameView.gameContainer.visible=!1,this.gameView.maskArea.graphics.clear(),this.gameView.maskArea.alpha=.5,this.gameView.maskArea.graphics.drawRect(0,0,Laya.stage.width,Laya.stage.height,"#101010"),this.gameView.guideContainer.cacheAs="bitmap",this.hitArea=new Laya.HitArea(),this.hitArea.hit.drawRect(0,0,Laya.stage.width,Laya.stage.height,"#000000"),this.gameView.guideContainer.hitArea=this.hitArea,this.gameView.guideContainer.mouseEnabled=!0,this.nextNoviceGuide(1);}
nextNoviceGuide(e){if(!this.hitArea)return console.log("Novice boot failure"),void this.noviceGuide();if(e&&this.guideStep!=e&&(this.guideStep=e),v.instance.ice2Game.noviceGuideStep(),!(this.guideStep>=this.gameView.guideContainer.numChildren-1))if(v.instance.ice2Game.isGuide=!0,this.novice_guide.visible=!0,this.guideStep>=this.gameView.guideContainer.numChildren)this.hideGuide(-1);else for(let e=1;e<this.gameView.guideContainer.numChildren-1;e++){let t=this.gameView.guideContainer.getChildAt(e);if(this.guideStep==e){this.hitArea.unHit.clear(),t.graphics.translate(0,0);let e=t.graphics.cmds[0],i=this.ratio[0],a=e.x*i,s=e.y*i,o=0,r=0,n=0,l=e.fillColor;if(1==this.guideStep){let t=this.gameView.direction.localToGlobal(new Laya.Point(this.gameView.direction.width/2,this.gameView.direction.height/2));o=e.width*i,r=e.height*i,a=t.x-o/2,s=t.y-r/2,this.hitArea.unHit.drawRect(a,s,o,r,l);}else if(2==this.guideStep){this.interactionGuide=!1,this.gameView.interaction.visible=!0;let t=this.gameView.interaction.localToGlobal(new Laya.Point(this.gameView.interaction.width/2,this.gameView.interaction.height/2));o=e.width*i,r=e.height*i,a=t.x-o/2,s=t.y-r/2,this.hitArea.unHit.drawRect(a,s,o,r,l);}else if(3==this.guideStep){let t=this.gameView.joystick_left.localToGlobal(new Laya.Point(this.gameView.joystick_left.width/2,this.gameView.joystick_left.height/2));n=e.radius*i,a=t.x,s=t.y,this.hitArea.unHit.drawCircle(a,s,n,l);}
t.visible=!1,t.blendMode="",this.gameView.drawIArea.visible=!0,this.gameView.drawIArea.blendMode="destination-out",this.gameView.drawIArea.graphics=this.hitArea.unHit;}else t.visible=!1,t.blendMode="",1==this.gameView.direction.visible&&(Laya.Tween.clearAll(this.gameView.direction),this.gameView.direction.alpha=1,this.gameView.direction.visible=!1);1==this.guideStep?(this.gameView.direction.visible=!0,this.gradualShowHide(this.gameView.direction,2e3)):2==this.guideStep||this.guideStep;}}
hideGuide(e){v.instance.ice2Game.isGuide&&(this.gameView.drawIArea.visible=!1,this.novice_guide.visible=!1,1==this.guideStep&&(1==this.gameView.direction.visible&&(Laya.Tween.clearAll(this.gameView.direction),this.gameView.direction.alpha=1,this.gameView.direction.visible=!1),this.gameView.left_box.visible=!1,this.gameView.action_state.visible=!1),2==v.instance.ice2Game.curGuideConfig.event&&v.instance.ice2Game.noviceGuideStep(),-1==e&&Laya.timer.callLater(this,()=>{this.novice_guide.removeChildren();}));}
gradualShowHide(e,t){Laya.Tween.to(e,{alpha:0},t,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{alpha:1},t,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{this.gradualShowHide(e,t);}));}));}
exitSceneAnim(){this.isClickSkipAnim&&(1==this.pauseSign&&this.pause(),this.isClickSkipAnim=!1,v.instance.ice2Game.exitSceneAnim());}
pause(){this.gameView.pause;2==this.pauseSign?(Laya.timer.pause(),this.gameView.pause2.visible=!1,this.pauseSign=1):(Laya.timer.resume(),this.gameView.pause2.visible=!0,this.pauseSign=2);}
showSetting(){this.hideAd(),R.showView(R.SETTING_VIEW),v.instance.ice2Game.ice2Camera.userControl.removeEvent();}
showHint(){this.hideAd(),R.showView(R.HINT_VIEW),v.instance.ice2Game.ice2Camera.userControl.removeEvent();}
actionState(){this.gameView.squat.visible?(this.gameView.squat.visible=!1,this.gameView.walk.visible=!0,v.instance.ice2Game.ice2Camera.roleY=v.instance.ice2Game.ice2Camera.originalRoleHeight):(this.gameView.squat.visible=!0,this.gameView.walk.visible=!1,v.instance.ice2Game.ice2Camera.roleY=.66*v.instance.ice2Game.ice2Camera.originalRoleHeight);}
interaction(){let e=v.instance.ice2Game.ice2Camera.focusGoods;v.instance.ice2Game.interactionEvent(e),1==v.instance.ice2Game.isGuide&&this.hideGuide();}
discardGoods(){v.instance.ice2Game.discard(null);}
chatBox(e,t=2e3,i=500,a=null,s=this.chat_text1){Laya.timer.clearAll(this.chatBox),Laya.Tween.clearAll(this.chatBox),s.text=e,s.alpha=0,this.gradualChange(s,t,i,!0,a);}
gradualChange(e,t=2e3,i=500,a=!0,s=null,o=null){a||(e.alpha=1),null==o&&(o=i),Laya.Tween.to(e,{alpha:1},i,Laya.Ease.linearIn,Laya.Handler.create(this.chatBox,()=>{Laya.timer.once(t,this.gradualChange,()=>{Laya.Tween.to(e,{alpha:0},o,Laya.Ease.linearIn,Laya.Handler.create(this.chatBox,()=>{s&&s();}));});}));}
showGameView(e=!0,t){this.left_box.visible=e,this.right_box.visible=e,this.gameView.left_up_box.visible=e,this.gameView.left_down_box.visible=e,this.gameView.right_down_box.visible=e,this.gameView.interaction_point.visible=e,this.down_box.visible=e,this.exit_anim_scene.visible=null==t?!e:t,this.gameView.pause.visible=null==t?!e:t,this.isClickSkipAnim=!0,e?this.showAd():(v.instance.ice2Game.ice2Camera.userControl.removeEvent(),this.hideAd());}
starePie(e){this.centerJustify(this.drawPie,this.gameView.center_point,this.ratio[0]),this.drawPie.x+=this.drawPie.width/2/this.ratio[0],this.drawPie.y+=this.drawPie.height/2/this.ratio[0],this.drawPie.active=!0,this.drawPie.graphics.clear(!0),this.drawPie.graphics.drawPie(0,0,30,0,360*e,"#FFFFFF","#808080");}
centerJustify(e,t,i=1){let a=t.localToGlobal(new Laya.Point(t.width/2,t.height/2));e.x=(a.x-e.width/2)/i,e.y=(a.y-e.height/2)/i;}
updateYaogan(){if(0==v.instance.ice2Game.ice2Camera.cameraVx&&0==v.instance.ice2Game.ice2Camera.cameraVy)return void this.gameView.joystick_left_touch.pos(this.joystick_left_touch_pos.x,this.joystick_left_touch_pos.y);let e=new Laya.Vector2(this.gameView.joystick_left_touch.x,this.gameView.joystick_left_touch.y);e.x+=.6*(122+v.instance.ice2Game.ice2Camera.cameraVx/I.maxValue*150-this.gameView.joystick_left_touch.x),e.y+=.6*(122+v.instance.ice2Game.ice2Camera.cameraVy/I.maxValue*150-this.gameView.joystick_left_touch.y);let t=this.gameView.joystick_left.width/2+.4*this.gameView.joystick_left_touch.width,i=new Laya.Vector2(e.x-122,e.y-122);if(Math.sqrt(i.x*i.x+i.y*i.y)>=t){let a=new Laya.Vector3();Laya.Vector3.normalize(new Laya.Vector3(i.x,i.y,0),a),e.x=a.x*t+122,e.y=a.y*t+122;}
this.gameView.joystick_left_touch.pos(e.x,e.y);}
onCloseOperationTipBtn(){this.isCloseTip=!0,this.gameView.operation_tip.visible=!1,Laya.timer.once(15e3,this,this.showOperationTip);}
showOperationTip(){this.isCloseTip=!1,this.gameView.operation_tip.visible=!0;}
updateOperation(){if(this.isReadLocalData){this.isReadLocalData=!0;let e=new Array(this.operationTipContent.length);e=(e=e.fill(1,0,4)).fill(0,4);const t=Qx.LocalStorage.getValue("Ice-SHEscape-operation_tip_unlock",e);for(let e=0;e<t.length;e++)this.operationTipContent[e].unlock=1===t[e];}
if(!this.isWatchingVideo)
if(this.operationTipId<1||this.operationTipId>this.operationTipContent.length||this.isCloseTip||!Qx.sdk.isAutoVideo)this.time=9999,this.gameView.operation_tip.visible=!1;else{const e=this.operationTipContent[this.operationTipId-1];let t=null,i=null;if(e.unlock){this.time=9999,t="Tip",i=e.tip,this.gameView.operation_tip.visible=!0,this.gameView.close_operation_tip_btn.visible=!1;}else{this.gameView.close_operation_tip_btn.visible=!0,9999===this.time&&(this.time=5),this.time-=1;t=`Get a prompt after ${Math.round(this.time)}`,i="??????",this.gameView.operation_tip.visible=!1,this.time<=0&&(this.isWatchingVideo=!0,this.isWatchingVideo=!1,e.unlock=!0,Qx.LocalStorage.setValue("Ice-SHEscape-operation_tip_unlock",this.operationTipContent.map(e=>e.unlock?1:0)));}
console.log("--->",i);this.gameView.operation_tip.getChildByName("title").text=t,this.gameView.operation_tip.getChildByName("describe").text=i;}}}
class A extends g{constructor(){super(),this.screenRatio=[1,1,0,0],this.initView(),this.initEvent();}
initView(){this.mainView||(this.mainView=new c.MainViewUI(),this.addChild(this.mainView),this.screenRatio=d.screenAdaptation(this.mainView));}
resizeFun(){this.mainView.width=Laya.stage.width;this.mainView.height=Laya.stage.height;}
initEvent(){this.mainView.start_game.on(Laya.Event.MOUSE_DOWN,this,this.startGame),window.pause=Laya.LocalStorage.getJSON("Ice-SHEscape-music")?JSON.parse(Laya.LocalStorage.getJSON("Ice-SHEscape-music")):false;this.mainView.soundBtn.on(Laya.Event.MOUSE_DOWN,this,this.changeMusic);this.mainView.soundBtn.skin=window.pause?"imagesUI/youxi/sound1.png":"imagesUI/youxi/sound0.png";}
changeMusic(){window.pause=!window.pause;this.mainView.soundBtn.skin=window.pause?"imagesUI/youxi/sound1.png":"imagesUI/youxi/sound0.png";Laya.LocalStorage.setJSON("Ice-SHEscape-music",window.pause)
y.playMusic(y.curr_bgm_url);}
startGame(){YYGGames.showInterstitial(()=>{R.hideView(R.MAIN_VIEW),R.showView(R.PREPARE_GAME_VIEW);YYGGames.gameBanner.visible=false;})}
showModel(){this.scene3d||(this.scene3d=new Laya.Scene3D()),this.camera||(this.camera=new Laya.Camera(0,1e-4,10)),this.light||(this.light=new Laya.DirectionLight()),this.rod||(this.rod=Laya.Sprite3D.instantiate(Laya.loader.getRes(s.RodRole))),this.mainView.rod_sprite.addChild(this.scene3d),this.scene3d.ambientColor=new Laya.Vector3(147/255,147/255,143/255),this.camera.clearFlag=Laya.CameraClearFlags.DepthOnly,this.scene3d.addChild(this.camera),this.camera.transform.position=new Laya.Vector3(.002,.22,.03),this.light.transform.position=new Laya.Vector3(0,0,0),this.light.transform.rotationEuler=new Laya.Vector3(-5,0,0),this.light.intensity=.6,this.light.color=new Laya.Vector3(228/255,246/255,253/255),this.scene3d.addChild(this.light),this.scene3d.addChild(this.rod),this.rod.transform.position=new Laya.Vector3(0,0,0),this.rod.transform.rotationEuler=new Laya.Vector3(0,-90,0),this.rod.getComponent(Laya.Animator).speed=0,this.rod.transform.localRotationEulerY+=90,d.setColliderTransparent(d.findObjectByLikeName(this.scene3d,"role_box")),Laya.Tween.to(this.camera.transform,{localPositionY:.14},5e3);Laya.stage.on("resize",this,this.resizeFun)
this.resizeFun();h5splash.hideLoading();}
exitMainView(){Laya.stage.off("resize",this,this.resizeFun)
y.stopAll(),Laya.timer.clearAll(this),Laya.Tween.clearAll(this),this.light.destroy(),this.rod.destroy(),this.camera.destroy(),this.scene3d.destroy(),this.mainView.rod_sprite&&this.mainView.rod_sprite.destroyChildren(),this.light=null,this.rod=null,this.camera=null,this.scene3d=null;YYGGames.gameBanner.visible=false;}
showToStage(e){y.playMusic(_.BGM,0),this.showModel();YYGGames.gameBanner.visible=true;}
removeFromStage(){}}
class G extends g{constructor(){super(),this.screenRatio=[1,1,0,0],this.animTime=800,this.initView(),this.initEvent();}
initView(){if(!this.mapView){this.mapView=new c.MapViewUI(),this.addChild(this.mapView),this.screenRatio=d.screenAdaptation(this.mapView);let e=v.instance.ice2Game.mapName;for(let t=0;t<this.mapView.bg.numChildren;t++){let i=this.mapView.bg.getChildAt(t);-1!=e.indexOf(i.name)?i.getChildByName("select_box").visible=!0:i.getChildByName("select_box").visible=!1;}
Laya.timer.once(2*this.animTime*Math.random(),this,()=>{this.upDownFloat(this.mapView.xiaozhen.getChildByName("img"),20);}),Laya.timer.once(2*this.animTime*Math.random(),this,()=>{this.upDownFloat(this.mapView.maxituan.getChildByName("img"),20);}),Laya.timer.once(2*this.animTime*Math.random(),this,()=>{this.upDownFloat(this.mapView.mudi.getChildByName("img"),20);}),Laya.timer.once(2*this.animTime*Math.random(),this,()=>{this.upDownFloat(this.mapView.huotan.getChildByName("img"),20);}),Laya.timer.once(2*this.animTime*Math.random(),this,()=>{this.upDownFloat(this.mapView.cheku.getChildByName("img"),20);});}}
resizeFun(){this.mapView.width=Laya.stage.width;this.mapView.height=Laya.stage.height;}
initEvent(){this.mapView.xiaozhen.on(Laya.Event.MOUSE_DOWN,this,this.mapChange,[e.Town]),this.mapView.maxituan.on(Laya.Event.MOUSE_DOWN,this,this.mapChange,[e.Circus]),this.mapView.mudi.on(Laya.Event.MOUSE_DOWN,this,this.mapChange,[e.Cemetery]),this.mapView.huotan.on(Laya.Event.MOUSE_DOWN,this,this.mapChange,[e.Stall]),this.mapView.cheku.on(Laya.Event.MOUSE_DOWN,this,this.mapChange,[e.Garage]),this.mapView.close_btn.on(Laya.Event.MOUSE_DOWN,this,this.close);}
mapChange(t){YYGGames.showInterstitial(()=>{if(v.instance.ice2Game.mapName==t)return;let i=v.instance.ice2Game.getGoods;t!=e.Town||null!=i&&"key"==i.name?(this.close(),v.instance.ice2Game.departSceneAnim(t)):R.showFlyTip("To return to your neighborhood and rescue Liz, you must have the cage key!");});}
upDownFloat(e,t){Laya.Tween.to(e,{y:e.y-t},this.animTime,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{y:e.y+t},this.animTime,Laya.Ease.linearIn,Laya.Handler.create(this,()=>{this.upDownFloat(e,t);}));}));}
close(){R.hideView(R.MAP_VIEW),R.showView(R.GAME_VIEW);}
showToStage(e){v.instance.ice2Game.isGuide&&d.highlightHint(this.mapView.novice_guide,this.mapView.maxituan,null,"Let's go to the circus first!");let t=v.instance.ice2Game.mapName;for(let e=0;e<this.mapView.bg.numChildren;e++){let i=this.mapView.bg.getChildAt(e);-1!=t.indexOf(i.name)?i.getChildByName("select_box").visible=!0:i.getChildByName("select_box").visible=!1;}
Laya.stage.on("resize",this,this.resizeFun);this.resizeFun();}
removeFromStage(){Laya.stage.off("resize",this,this.resizeFun);}}
class P extends g{constructor(){super(),this.remainHealth=3,this.musicVolume=.5,this.soundVolume=.5,this.screenRatio=[1,1,0,0],this.initView(),this.initEvent();}
initView(){this.settingView||(this.settingView=new c.SettingViewUI(),this.addChild(this.settingView),this.screenRatio=d.screenAdaptation(this.settingView)),this.musicVolume=n.getLocal(o.MUSIC_VOLUME),this.soundVolume=n.getLocal(o.SOUND_VOLUME),this.settingView.music_hslider.value=100*this.musicVolume,this.settingView.sound_hslider.value=100*this.soundVolume,this.settingView.music_hslider.changeHandler=new Laya.Handler(this,this.onChangeSlider,[o.MUSIC_VOLUME]),this.settingView.sound_hslider.changeHandler=new Laya.Handler(this,this.onChangeSlider,[o.SOUND_VOLUME]),Laya.timer.callLater(this,()=>{this.setHealth(v.instance.ice2Game.HP);});}
resizeFun(){this.settingView.width=Laya.stage.width;this.settingView.height=Laya.stage.height;}
initEvent(){this.settingView.close_btn.on(Laya.Event.MOUSE_DOWN,this,this.closeSetting),this.settingView.exit_game_btn.on(Laya.Event.MOUSE_DOWN,this,this.exitGame,[!1]),this.settingView.exit_game_btn2.on(Laya.Event.MOUSE_DOWN,this,this.exitGame,[!0]),this.settingView.save.on(Laya.Event.MOUSE_DOWN,this,this.save),this.settingView.read.on(Laya.Event.MOUSE_DOWN,this,this.read),this.settingView.update.on(Laya.Event.MOUSE_DOWN,this,this.update1);}
onChangeSlider(e,t){t/=100,n.setLocal(e,t),Laya.SoundManager.setMusicVolume(this.settingView.music_hslider.value/100),Laya.SoundManager.setSoundVolume(this.settingView.sound_hslider.value/100);}
setHealth(e){this.remainHealth=e,this.settingView.one.visible=!1,this.settingView.two.visible=!1,this.settingView.three.visible=!1,3==this.remainHealth?this.settingView.three.visible=!0:2==this.remainHealth?this.settingView.two.visible=!0:1==this.remainHealth?this.settingView.one.visible=!0:this.remainHealth;}
closeSetting(){R.hideView(R.SETTING_VIEW),v.instance.ice2Game.ice2Camera.userControl.enable(),R.getView(R.GAME_VIEW).showAd();}
exitGame(e=!0){YYGGames.showInterstitial(()=>{Qx.sdk.backToHall().then(()=>{R.hideView(R.SETTING_VIEW),R.hideView(R.GAME_VIEW),R.showView(R.MAIN_VIEW),v.instance.ice2Game.exitGame(e);});})}
save(){v.instance.ice2Game.saveGame();}
read(){v.instance.ice2Game.loaderSave();}
update1(){v.instance.ice2Game.map.updateMapData();}
showToStage(e){Laya.stage.on("resize",this,this.resizeFun);this.resizeFun();}
removeFromStage(){Laya.stage.off("resize",this,this.resizeFun);}}
class E extends Laya.Sprite{constructor(){super(),this.url="imagesUI/icon/",this.hintItem=new c.Item.HintItemUI(),this.addChild(this.hintItem);}
bind(e,t){const chineseName=e.chineseName;let chineseNameUpper=chineseName.charAt(0).toUpperCase()+chineseName.slice(1);let chineseNameLower=chineseName.charAt(0).toLowerCase()+chineseName.slice(1);if("Hanger"===chineseNameUpper)chineseNameUpper="Enter the closed zone";if(this.hintItem.icon_sprite&&this.hintItem.icon_sprite.destroyChildren(),this.hintItem.red_dot.visible=!1,"puzzle"==e.belong?(this.hintItem.text1.text="Cue",this.hintItem.prop_name.text=chineseNameUpper):"prop"==e.belong&&(this.hintItem.text1.text="Get",this.hintItem.prop_name.text=chineseNameLower),this.hintItem.prop_name.text.length<=4?this.hintItem.prop_name.fontSize=36:this.hintItem.prop_name.text.length>4&&this.hintItem.prop_name.text.length<=6?this.hintItem.prop_name.fontSize=24:(this.hintItem.prop_name.text.length>6&&this.hintItem.prop_name.text.length,this.hintItem.prop_name.fontSize=18),""!=e.icon){let t=this.url+e.icon,i=new Laya.Image(t);this.hintItem.icon_sprite.addChild(i),i.height<i.width?i.scale(i.parent.width/i.width,i.parent.width/i.width):i.scale(i.parent.height/i.height,i.parent.height/i.height),i.centerX=0,i.centerY=0;}
t?(this.hintItem.select_bg.visible=!0,this.hintItem.red_dot.visible=!1):this.hintItem.select_bg.visible=!1;}}
class M extends g{constructor(){super(),this.screenRatio=[1,1,0,0],this.objList=[],this.propListData=[],this.puzzleListData=[],this.showPropPuzzle=1,this.hintAnswer=[],this.mapIconUrl="imagesUI/map/",this.mapIcon=[{name:"Neighbor",iconName:"linju.png"},{name:"Circus",iconName:"maxi.png"},{name:"Cemetery",iconName:"mudi.png"},{name:"Stall",iconName:"huotan.png"},{name:"Cinema",iconName:"dianying.png"}],this.initView(),this.initEvent();}
initView(){this.hintView||(this.hintView=new c.HintViewUI(),this.addChild(this.hintView),this.screenRatio=d.screenAdaptation(this.hintView),M.ratio=this.screenRatio[0]);let e=v.instance.ice2Game.objList,t=Object.keys(e);for(let i=0;i<t.length;i++){let a=e[t[i]];"prop"==a.belong?(this.objList.push(a),this.propListData.push(a)):"puzzle"==a.belong&&(this.objList.push(a),this.puzzleListData.push(a));}
this.hintAnswer=n.getLocal(o.HINT_ANSWER),this.hintAnswer||(this.hintAnswer=[]);}
onEnable(){this.propPuzzle(this.showPropPuzzle);}
initEvent(){this.hintView.close_btn.on(Laya.Event.MOUSE_DOWN,this,this.closeHint),this.hintView.prop.on(Laya.Event.MOUSE_DOWN,this,this.propPuzzle,[1,0]),this.hintView.puzzle.on(Laya.Event.MOUSE_DOWN,this,this.propPuzzle,[2,0]),this.hintView.question1.on(Laya.Event.MOUSE_DOWN,this,this.question,[1]),this.hintView.question2.on(Laya.Event.MOUSE_DOWN,this,this.question,[2]),this.hintView.question3.on(Laya.Event.MOUSE_DOWN,this,this.question,[3]),this.hintView.icon2.on(Laya.Event.MOUSE_DOWN,this,this.skipToObj,[1]),this.hintView.icon3.on(Laya.Event.MOUSE_DOWN,this,this.skipToObj,[1]),this.hintView.icon4.on(Laya.Event.MOUSE_DOWN,this,this.skipToObj,[1]),this.hintView.icon5.on(Laya.Event.MOUSE_DOWN,this,this.skipToObj,[1]),this.hintView.answer_text2.on(Laya.Event.MOUSE_DOWN,this,this.skipToObj,[2]),this.hintView.answer_text3.on(Laya.Event.MOUSE_DOWN,this,this.skipToObj,[2]);}
propPuzzle(e,t=0){YYGGames.showInterstitial(()=>{this.showPropPuzzle=e,1==this.showPropPuzzle?(this.hintView.prop.getChildByName("select_bg").visible=!0,this.hintView.prop.getChildByName("select_text").visible=!0,this.hintView.puzzle.getChildByName("select_bg").visible=!1,this.hintView.puzzle.getChildByName("select_text").visible=!1,this.hintView.propQW.visible=!0,this.hintView.puzzleQW.visible=!1,this.hintView.question3.visible=!1):2==this.showPropPuzzle&&(this.hintView.prop.getChildByName("select_bg").visible=!1,this.hintView.prop.getChildByName("select_text").visible=!1,this.hintView.puzzle.getChildByName("select_bg").visible=!0,this.hintView.puzzle.getChildByName("select_text").visible=!0,this.hintView.propQW.visible=!1,this.hintView.puzzleQW.visible=!0,this.hintView.question3.visible=!0),this.onSelect(t),this.initList();});}
question(e){Qx.uma.trackEvent("user2","Watch the video for tips"),YYGGames.showReward(()=>{y.playSound(_.NEXT_PAGE);let t=-1;this.hintAnswer.forEach((e,i)=>{e[0]==M.curSelectObjectId&&(t=i);}),-1!=t?-1==this.hintAnswer[t][1].indexOf(e)&&(this.hintAnswer[t]=[M.curSelectObjectId,this.hintAnswer[t][1]+e.toString()]):this.hintAnswer.push([M.curSelectObjectId,e.toString()]),n.setLocal(o.HINT_ANSWER,this.hintAnswer),this.onSelect(M.curSelectListIndex);});}
closeHint(){YYGGames.showInterstitial(()=>{R.hideView(R.HINT_VIEW),v.instance.ice2Game.ice2Camera.userControl.enable(),R.getView(R.GAME_VIEW).showAd();});}
initList(){let e=this.hintView.list;e.itemRender=T,e.repeatX=2,e.vScrollBarSkin="",e.spaceX=20,e.spaceY=20,e.selectEnable=!0,e.selectHandler=new Laya.Handler(this,this.onSelect),e.renderHandler=new Laya.Handler(this,this.onRander),1==this.showPropPuzzle?e.array=this.propListData:2==this.showPropPuzzle&&(e.array=this.puzzleListData),e.selectedIndex=M.curSelectListIndex,e.initItems();}
getArrayElementByIndex(e,t){return t=Math.max(0,t),e[t=Math.min(e.length-1,t)];}
onSelect(e){if(e<0||(1==this.showPropPuzzle&&e>12||2==this.showPropPuzzle&&e>14))return;M.curSelectListIndex=e;let t=-1,i=[],a=!1;this.hintView.answer1.visible=!1,this.hintView.answer2.visible=!1,this.hintView.answer3.visible=!1,this.hintView.question1.visible=!0,this.hintView.question2.visible=!0,this.hintView.question3.visible=!0,1==this.showPropPuzzle?(i=this.propListData,t=this.getArrayElementByIndex(this.propListData,M.curSelectListIndex).id,this.propListData[M.curSelectListIndex]&&this.propListData[M.curSelectListIndex].answer3?this.hintView.propQW.getChildAt(2).visible=!0:(a=!0,this.hintView.propQW.getChildAt(2).visible=!1)):2==this.showPropPuzzle&&(i=this.puzzleListData,t=this.getArrayElementByIndex(this.puzzleListData,M.curSelectListIndex).id,this.puzzleListData[M.curSelectListIndex].answer3?this.hintView.puzzleQW.getChildAt(2).visible=!0:(a=!0,this.hintView.puzzleQW.getChildAt(2).visible=!1)),M.curSelectObjectId=t,0!=this.hintAnswer.length&&this.hintAnswer.forEach((e,t)=>{if(e[0]==M.curSelectObjectId){if(-1!=e[1].indexOf("1")){this.hintView.answer1.visible=!0,this.hintView.question1.visible=!1;let e=i[M.curSelectListIndex].answer1;this.hintView.answer_text1.width=479;console.log("Answer 1",i),this.hintView.answer_text1.text=e.charAt(0).toUpperCase()+e.slice(1);let t=this.hintView.icon1,a=!1;for(let i=0;i<this.mapIcon.length;i++)
if(e==this.mapIcon[i].name){this.addIcon(t,this.mapIcon[i].iconName,this.mapIconUrl),a=!0;this.hintView.answer_text1.width=361;break;}
a||this.addIcon(t);}
if(-1!=e[1].indexOf("2")){this.hintView.answer2.visible=!0,this.hintView.question2.visible=!1;let e=i[M.curSelectListIndex].answer2,t=i[M.curSelectListIndex].answer2_icon;this.hintView.answer_text2.text=e.charAt(0).toUpperCase()+e.slice(1);this.hintView.answer_text2.width=479;let a=this.hintView.icon2;if(t){this.addIcon(a,t),this.hintView.answer_text2.width=361;}else{for(let t=0;t<this.mapIcon.length;t++)
if(e==this.mapIcon[t].name){this.addIcon(a,this.mapIcon[t].iconName,this.mapIconUrl);break;}else{this.addIcon(a,"");}}}
if(-1!=e[1].indexOf("3")){this.hintView.answer3.visible=!0,this.hintView.question3.visible=!1;let e=this.hintView.answer_text3;e.width=479;e.text=typeof(i[M.curSelectListIndex].answer3)=='string'?i[M.curSelectListIndex].answer3.charAt(0).toUpperCase()+i[M.curSelectListIndex].answer3.slice(1):i[M.curSelectListIndex].answer3;let t=this.hintView.icon3,a=i[M.curSelectListIndex].answer3_icon;if(-1!=a.indexOf(",")){e.visible=!1,this.hintView.icon4.visible=!0,this.hintView.icon5.visible=!0;let t=a.split(",");for(let e=0;e<t.length;e++)this.addIcon(this.hintView.answer3.getChildAt(e+1),t[e]);}else{e.visible=!0,this.hintView.icon4.visible=!1,this.hintView.icon5.visible=!1,this.hintView.icon4.getChildAt(0).skin="",this.hintView.icon5.getChildAt(0).skin="",this.addIcon(t,a),e.width=361;}
if(1==i[M.curSelectListIndex].answer3){let t=d.findObjectByName(v.instance.ice2Game.ice2Camera.map.currentMap,i[M.curSelectListIndex].name);if(t){let i=0;i=Laya.Vector3.distance(t.transform.position,v.instance.ice2Game.ice2Camera.camera.transform.position),e.text="The item is away from you "+Math.round(150*i)/10+"m";}else{if(v.instance.ice2Game.getGoods&&v.instance.ice2Game.getGoods.name==i[M.curSelectListIndex].name){e.text="The item is away from you 0m";}else{e.text="The item is not nearby";}}}}}}),a&&(this.hintView.answer3.visible=!1,this.hintView.question3.visible=!1),this.hintView.list.tweenTo(M.curSelectListIndex,500);}
addIcon(e,t="",i="imagesUI/icon/"){let a=e.getChildAt(0);if(""!=t){let s=i+t,o=1;a.skin=s,a.name=t,o=a.height<=a.width?e.width/a.width:e.height/a.height,a.scale(o,o),a.x=(e.width-a.width*o)/2,a.y=(e.height-a.height*o)/2;}else{(a.name||a.skin)&&(a.name=null,a.skin=null);a.skin=" ";}}
skipToObj(e,t){let i,a=t.target;1==e?i=a.getChildAt(0):2==e&&(i=a.parent.getChildAt(1).getChildAt(0));for(let e=0;e<this.mapIcon.length;e++)if(i.name==this.mapIcon[e].name)return;if(!i.name){if(1==this.showPropPuzzle&&(a==this.hintView.answer_text3||a==this.hintView.icon3)){let e=d.findObjectByName(v.instance.ice2Game.ice2Camera.map.currentMap,this.propListData[M.curSelectListIndex].name);if(e){let t=0;t=Laya.Vector3.distance(e.transform.position,v.instance.ice2Game.ice2Camera.camera.transform.position),this.hintView.answer_text3.text="The item is away from you "+Math.round(150*t)/10+"meter";}else this.hintView.answer_text3.text="The item is not nearby";}
return;}
let s=0,o=0;if(-1!=a.parent.name.indexOf("2"))for(let e=0;e<this.puzzleListData.length;e++)if(this.puzzleListData[e].icon==i.name){s=2,o=e;break;}
if(-1!=a.parent.name.indexOf("3"))for(let e=0;e<this.propListData.length;e++)if(this.propListData[e].icon==i.name){s=1,o=e;break;}
0!=s&&this.propPuzzle(s,o);}
onRander(e,t){e.setView(e.dataSource);}
showToStage(e){this.initList(),this.onSelect(M.curSelectListIndex);Laya.stage.on("resize",this,this.resizeFun);this.resizeFun();}
resizeFun(){this.hintView.width=Laya.stage.width;this.hintView.height=Laya.stage.height;}
removeFromStage(){Laya.stage.off("resize",this,this.resizeFun);}}
M.curSelectListIndex=0,M.curSelectObjectId=-1,M.ratio=1;class T extends Laya.Box{constructor(){super(),this.hintItem=new E(),this.addChild(this.hintItem),this.size(T.WIDTH,T.HEIGHT);}
setView(e){let t=M.curSelectObjectId==e.id;this.hintItem.bind(e,t);}}
T.WIDTH=264*M.ratio,T.HEIGHT=280*M.ratio;class k extends g{constructor(){super(),this.screenRatio=[1,1,0,0],this.initView(),this.initEvent();}
initView(){this.resultView||(this.resultView=new c.ResultViewUI(),this.addChild(this.resultView),this.screenRatio=d.screenAdaptation(this.resultView));}
resizeFun(){this.resultView.width=Laya.stage.width;this.resultView.height=Laya.stage.height;let c=Laya.Browser.clientWidth/Laya.Browser.clientHeight,d=Laya.stage.width,g=Laya.stage.height,u=Laya.stage.width/1920,y=Laya.stage.height/1080;if(1920/1080>c){this.resultView.full_screen_scale.scale(y,y),this.resultView.full_screen_scale.x=-(1920*y-d)/2}else{this.resultView.full_screen_scale.scale(u,u),this.resultView.full_screen_scale.y=-(1080*u-g)/2}}
initEvent(){this.resultView.back_home.on(Laya.Event.MOUSE_DOWN,this,this.backHome);}
backHome(){YYGGames.showInterstitial(()=>{Qx.sdk.backToHall().then(()=>{Qx.sdk.clickNextLevelButton().then(()=>{YYGGames.gameBanner.visible=false;R.hideView(R.RESULT_VIEW),R.showView(R.MAIN_VIEW);});});})}
showToStage(e){if(y.stopAll(),1==e){y.playSound(_.WIN),this.resultView.bg_winning.visible=!0,this.resultView.winning.visible=!0,this.resultView.bg_losing.visible=!1,this.resultView.losing.visible=!1;let e=v.instance.ice2Game.gameTime/1e3,t=Math.floor(e/3600)>=10?Math.floor(e/3600):"0"+Math.floor(e/3600),i=Math.floor(e%3600/60)>=10?Math.floor(e%3600/60):"0"+Math.floor(e%3600/60),a=Math.floor(e%60)>=10?Math.floor(e%60):"0"+Math.floor(e%60);this.resultView.time_text.text="Spend time  "+t+":"+i+":"+a,Laya.timer.once(5e3,this,this.backHome);}else y.playSound(_.LOSE),this.resultView.bg_winning.visible=!1,this.resultView.winning.visible=!1,this.resultView.bg_losing.visible=!0,this.resultView.losing.visible=!0;v.instance.ice2Game.exitGame();YYGGames.gameBanner.visible=true;Laya.stage.on("resize",this,this.resizeFun);this.resizeFun();}
removeFromStage(){Laya.stage.off("resize",this,this.resizeFun);y.stopSound(_.WIN),y.stopSound(_.LOSE);}}
class O{constructor(){}
static adaptation(e){this.ratio=[1,1,0,0],this.relative=!1,e.relative_scale_box&&(this.relative=!0,e.relative_scale_box.pos(0,0),e.relative_left_up.pos(0,0),e.relative_center.pos(0,0)),this.widthPadding=0,this.heightPadding=0,this.clientWidth=Laya.Browser.clientWidth,this.clientHeight=Laya.Browser.clientHeight,this.clientSizeMax=Math.max(this.clientWidth,this.clientHeight),this.clientSizeMin=Math.min(this.clientWidth,this.clientHeight),this.clientSizeMax/this.clientSizeMin>2&&(this.widthPadding=(this.clientSizeMax-2*this.clientSizeMin)*Laya.Browser.pixelRatio,this.widthPadding=this.widthPadding>.1*Laya.stage.width?.1*Laya.stage.width:this.widthPadding,this.widthPadding=this.widthPadding<100?100:this.widthPadding,console.log("Liu Haiping!",this.widthPadding)),this.defaultWidth=1920,this.defaultHeight=1080,this.screenWidth=Laya.stage.width-2*this.widthPadding,this.screenHeight=Laya.stage.height-2*this.heightPadding,this.screenRatio1=this.defaultWidth/this.defaultHeight,this.screenRatio2=this.screenWidth/this.screenHeight,this.screenRatio3=Laya.Browser.clientWidth/Laya.Browser.clientHeight,this.scale1=this.screenWidth/this.defaultWidth,this.scale2=this.screenHeight/this.defaultHeight,this.fullWidth=Laya.stage.width,this.fullHeight=Laya.stage.height,this.fullScale1=Laya.stage.width/this.defaultWidth,this.fullScale2=Laya.stage.height/this.defaultHeight,this.fullScreenStretchArr=d.findObjectByName(e,"full_screen_stretch",!1),this.fullScreenScaleArr=d.findObjectByName(e,"full_screen_scale",!1),this.scaleScreenArr=d.findObjectByName(e,"scale_screen",!1),this.screenRatio1>this.screenRatio3?this.ratio=[this.scale1,this.scale2,this.widthPadding,this.heightPadding]:this.screenRatio1<this.screenRatio3&&(this.ratio=[this.scale2,this.scale1,this.widthPadding,this.heightPadding]);for(let e=0;e<this.fullScreenStretchArr.length;e++)this.fullScreenStretchFun(this.fullScreenStretchArr[e]);for(let e=0;e<this.fullScreenScaleArr.length;e++)this.fullScreenScaleFun(this.fullScreenScaleArr[e]);for(let e=0;e<this.scaleScreenArr.length;e++)this.scaleScreenFun(this.scaleScreenArr[e]);return this.ratio;}
static fullScreenStretchFun(e){e.size(this.fullWidth,this.fullHeight),e.scale(this.fullScale1,this.fullScale2);}
static fullScreenScaleFun(e){this.screenRatio1>this.screenRatio3?(e.scale(this.fullScale2,this.fullScale2),e.x=-(this.defaultWidth*this.fullScale2-this.fullWidth)/2):this.screenRatio1<this.screenRatio3&&(e.scale(this.fullScale1,this.fullScale1),e.y=-(this.defaultHeight*this.fullScale1-this.fullHeight)/2);}
static scaleScreenFun(e){let t=e.getChildByName("left_box"),i=e.getChildByName("center_box"),a=e.getChildByName("right_box"),s=e.getChildByName("down_box"),o=e.getChildByName("left_down_box"),r=e.getChildByName("right_down_box"),n=e.getChildByName("up_box"),l=e.getChildByName("right_up_box"),h=e.getChildByName("relative_scale_box");if(e.size(this.screenWidth,this.screenHeight),this.screenRatio1>this.screenRatio3){if(this.ratio=[this.scale1,this.scale2,this.widthPadding,this.heightPadding],e.scale(this.scale1,this.scale1),t&&(t.y=this.screenHeight/2/this.scale1-t.height/2),i&&(i.y=this.screenHeight/2/this.scale1-i.height/2),a&&(a.y=this.screenHeight/2/this.scale1-a.height/2),s&&(s.y=(s.y+this.screenHeight-this.defaultHeight+s.height)/this.scale1-s.height),o&&(o.y=(o.y+this.screenHeight-this.defaultHeight+o.height)/this.scale1-o.height),r&&(r.y=(r.y+this.screenHeight-this.defaultHeight+r.height)/this.scale1-r.height),h){let e=h.getChildByName("relative_left_up"),t=h.getChildByName("relative_center");if(e)for(let t=0;t<e.numChildren;t++){let i=e.getChildAt(t);i.y-=this.widthPadding,i.y*=this.scale2;}
if(t)for(let e=0;e<t.numChildren;e++){let i=t.getChildAt(e);i.y+=i.height/2-this.widthPadding,i.y*=this.scale2,i.y-=i.height/2;}}}else if(this.screenRatio1<this.screenRatio3&&(this.ratio=[this.scale2,this.scale1,this.widthPadding,this.heightPadding],e.scale(this.scale2,this.scale2),n&&(n.x=this.screenWidth/2/this.scale2-n.width/2),i&&(i.x=this.screenWidth/2/this.scale2-i.width/2),s&&(s.x=this.screenWidth/2/this.scale2-s.width/2),a&&(a.x=(a.x+this.screenWidth-this.defaultWidth+a.width)/this.scale2-a.width),l&&(l.x=(l.x+this.screenWidth-this.defaultWidth+l.width)/this.scale2-l.width),r&&(r.x=(r.x+this.screenWidth-this.defaultWidth+r.width)/this.scale2-r.width),h)){let e=h.getChildByName("relative_left_up"),t=h.getChildByName("relative_center");if(e)for(let t=0;t<e.numChildren;t++){let i=e.getChildAt(t);i.x-=this.widthPadding,i.x/=this.scale2;}
if(t)for(let e=0;e<t.numChildren;e++){let i=t.getChildAt(e);i.x+=i.width/2-this.widthPadding,i.x/=this.scale2,i.x-=i.width/2;}}
e.x=this.widthPadding;}
static screenAdaptation(e){if(this.ratio=[1,1,0,0],!(e.full_screen_stretch&&e.full_screen_scale&&e.scale_screen&&e.up_box&&e.down_box&&e.left_box&&e.right_box&&e.center_box&&e.left_up_box&&e.right_up_box&&e.left_down_box&&e.right_down_box))return console.log(" "),this.ratio;if(this.relative=!1,e.relative_scale_box&&(this.relative=!0,e.relative_scale_box.pos(0,0),e.relative_left_up.pos(0,0),e.relative_center.pos(0,0)),this.widthPadding=0,this.heightPadding=0,this.clientWidth=Laya.Browser.clientWidth,this.clientHeight=Laya.Browser.clientHeight,this.clientSizeMax=Math.max(this.clientWidth,this.clientHeight),this.clientSizeMin=Math.min(this.clientWidth,this.clientHeight),this.clientSizeMax/this.clientSizeMin>2&&(this.widthPadding=(this.clientSizeMax-2*this.clientSizeMin)*Laya.Browser.pixelRatio,this.widthPadding=this.widthPadding>.1*Laya.stage.width?.1*Laya.stage.width:this.widthPadding,this.widthPadding=this.widthPadding<100?100:this.widthPadding),this.defaultWidth=1920,this.defaultHeight=1080,this.screenWidth=Laya.stage.width-2*this.widthPadding,this.screenHeight=Laya.stage.height-2*this.heightPadding,this.screenRatio1=this.defaultWidth/this.defaultHeight,this.screenRatio2=this.screenWidth/this.screenHeight,this.screenRatio3=Laya.Browser.clientWidth/Laya.Browser.clientHeight,this.scale1=this.screenWidth/this.defaultWidth,this.scale2=this.screenHeight/this.defaultHeight,this.fullWidth=Laya.stage.width,this.fullHeight=Laya.stage.height,this.fullScale1=Laya.stage.width/this.defaultWidth,this.fullScale2=Laya.stage.height/this.defaultHeight,e.full_screen_stretch.size(this.fullWidth,this.fullHeight),e.scale_screen.size(this.screenWidth,this.screenHeight),e.full_screen_stretch.scale(this.fullScale1,this.fullScale2),this.screenRatio1>this.screenRatio3){if(this.ratio=[this.scale1,this.scale2,this.widthPadding,this.heightPadding],e.scale_screen.scale(this.scale1,this.scale1),e.full_screen_scale.scale(this.fullScale2,this.fullScale2),e.full_screen_scale.x=-(this.defaultWidth*this.fullScale2-this.fullWidth)/2,e.left_box.y=this.screenHeight/2/this.scale1-e.left_box.height/2,e.center_box.y=this.screenHeight/2/this.scale1-e.center_box.height/2,e.right_box.y=this.screenHeight/2/this.scale1-e.right_box.height/2,e.down_box.y=(e.down_box.y+this.screenHeight-this.defaultHeight+e.down_box.height)/this.scale1-e.down_box.height,e.left_down_box.y=(e.left_down_box.y+this.screenHeight-this.defaultHeight+e.left_down_box.height)/this.scale1-e.left_down_box.height,e.right_down_box.y=(e.right_down_box.y+this.screenHeight-this.defaultHeight+e.right_down_box.height)/this.scale1-e.right_down_box.height,this.relative){for(let t=0;t<e.relative_left_up.numChildren;t++){let i=e.relative_left_up.getChildAt(t);i.y-=this.widthPadding,i.y*=this.scale2;}
for(let t=0;t<e.relative_center.numChildren;t++){let i=e.relative_center.getChildAt(t);i.y+=i.height/2-this.widthPadding,i.y*=this.scale2,i.y-=i.height/2;}}}else if(this.screenRatio1<this.screenRatio3&&(this.ratio=[this.scale2,this.scale1,this.widthPadding,this.heightPadding],e.scale_screen.scale(this.scale2,this.scale2),e.full_screen_scale.scale(this.fullScale1,this.fullScale1),e.full_screen_scale.y=-(this.defaultHeight*this.fullScale1-this.fullHeight)/2,e.up_box.x=this.screenWidth/2/this.scale2-e.up_box.width/2,e.center_box.x=this.screenWidth/2/this.scale2-e.center_box.width/2,e.down_box.x=this.screenWidth/2/this.scale2-e.down_box.width/2,e.right_box.x=(e.right_box.x+this.screenWidth-this.defaultWidth+e.right_box.width)/this.scale2-e.right_box.width,e.right_up_box.x=(e.right_up_box.x+this.screenWidth-this.defaultWidth+e.right_up_box.width)/this.scale2-e.right_up_box.width,e.right_down_box.x=(e.right_down_box.x+this.screenWidth-this.defaultWidth+e.right_down_box.width)/this.scale2-e.right_down_box.width,this.relative)){for(let t=0;t<e.relative_left_up.numChildren;t++){let i=e.relative_left_up.getChildAt(t);i.x-=this.widthPadding,i.x/=this.scale2;}
for(let t=0;t<e.relative_center.numChildren;t++){let i=e.relative_center.getChildAt(t);i.x+=i.width/2-this.widthPadding,i.x/=this.scale2,i.x-=i.width/2;}}
return e.scale_screen.x=this.widthPadding,this.ratio;}}
O.ratio=[1,1,0,0],O.relative=!1,O.widthPadding=0,O.heightPadding=0,O.clientWidth=Laya.Browser.clientWidth,O.clientHeight=Laya.Browser.clientHeight,O.clientSizeMax=Math.max(O.clientWidth,O.clientHeight),O.clientSizeMin=Math.min(O.clientWidth,O.clientHeight),O.defaultWidth=1920,O.defaultHeight=1080,O.screenWidth=1920-2*O.widthPadding,O.screenHeight=1080-2*O.heightPadding,O.screenRatio1=O.defaultWidth/O.defaultHeight,O.screenRatio2=O.screenWidth/O.screenHeight,O.screenRatio3=Laya.Browser.clientWidth/Laya.Browser.clientHeight,O.scale1=O.screenWidth/O.defaultWidth,O.scale2=O.screenHeight/O.defaultHeight,O.fullWidth=1920,O.fullHeight=1080,O.fullScale1=1920/O.defaultWidth,O.fullScale2=1080/O.defaultHeight,O.fullScreenStretchArr=[],O.fullScreenScaleArr=[],O.scaleScreenArr=[];class N extends g{constructor(){super(),this.screenRatio=[1,1,0,0],this.initView(),this.initEvent();}
initView(){this.testView||(this.testView=new c.TestViewUI(),this.addChild(this.testView),this.screenRatio=O.adaptation(this.testView));}
screenAdaptation(e){let t=[1,1,0,0];if(!(e.full_screen_stretch&&e.full_screen_scale&&e.scale_screen&&e.up_box&&e.down_box&&e.left_box&&e.right_box&&e.center_box&&e.left_up_box&&e.right_up_box&&e.left_down_box&&e.right_down_box))return console.log(" "),t;let i=!1;e.relative_scale_box&&(i=!0,e.relative_scale_box.pos(0,0),e.relative_left_up.pos(0,0),e.relative_center.pos(0,0));let a=0,s=Laya.Browser.clientWidth,o=Laya.Browser.clientHeight,r=Math.max(s,o),n=Math.min(s,o);r/n>2&&(a=(a=(a=(r-2*n)*Laya.Browser.pixelRatio)>.1*Laya.stage.width?.1*Laya.stage.width:a)<100?100:a);let l=Laya.stage.width-2*a,h=Laya.stage.height-0,c=Laya.Browser.clientWidth/Laya.Browser.clientHeight,p=l/1920,m=h/1080,d=Laya.stage.width,g=Laya.stage.height,u=Laya.stage.width/1920,y=Laya.stage.height/1080;if(e.full_screen_stretch.size(d,g),e.scale_screen.size(l,h),e.full_screen_stretch.scale(u,y),1920/1080>c){if(t=[p,m,a,0],e.scale_screen.scale(p,p),e.full_screen_scale.scale(y,y),e.full_screen_scale.x=-(1920*y-d)/2,e.left_box.y=h/2/p-e.left_box.height/2,e.center_box.y=h/2/p-e.center_box.height/2,e.right_box.y=h/2/p-e.right_box.height/2,e.down_box.y=(e.down_box.y+h-1080+e.down_box.height)/p-e.down_box.height,e.left_down_box.y=(e.left_down_box.y+h-1080+e.left_down_box.height)/p-e.left_down_box.height,e.right_down_box.y=(e.right_down_box.y+h-1080+e.right_down_box.height)/p-e.right_down_box.height,i){for(let t=0;t<e.relative_left_up.numChildren;t++){let i=e.relative_left_up.getChildAt(t);i.y-=a,i.y*=m;}
for(let t=0;t<e.relative_center.numChildren;t++){let i=e.relative_center.getChildAt(t);i.y+=i.height/2-a,i.y*=m,i.y-=i.height/2;}}}else if(1920/1080<c&&(t=[m,p,a,0],e.scale_screen.scale(m,m),e.full_screen_scale.scale(u,u),e.full_screen_scale.y=-(1080*u-g)/2,e.up_box.x=l/2/m-e.up_box.width/2,e.center_box.x=l/2/m-e.center_box.width/2,e.down_box.x=l/2/m-e.down_box.width/2,e.right_box.x=(e.right_box.x+l-1920+e.right_box.width)/m-e.right_box.width,e.right_up_box.x=(e.right_up_box.x+l-1920+e.right_up_box.width)/m-e.right_up_box.width,e.right_down_box.x=(e.right_down_box.x+l-1920+e.right_down_box.width)/m-e.right_down_box.width,i)){for(let t=0;t<e.relative_left_up.numChildren;t++){let i=e.relative_left_up.getChildAt(t);i.x-=a,i.x/=m;}
for(let t=0;t<e.relative_center.numChildren;t++){let i=e.relative_center.getChildAt(t);i.x+=i.width/2-a,i.x/=m,i.x-=i.width/2;}}
return e.scale_screen.x=a,t;}
initEvent(){}
showToStage(e){}
update(){}
removeFromStage(){}}
class R{static init(){this.instance=new R(),this.instance.rootContainer=new Laya.Sprite(),this.instance.viewContainer=new Laya.Sprite(),this.instance.popupContainer=new Laya.Sprite(),this.instance.topContainer=new Laya.Sprite(),Laya.stage.addChild(this.instance.rootContainer),Laya.stage.addChild(this.instance.viewContainer),Laya.stage.addChild(this.instance.popupContainer),Laya.stage.addChild(this.instance.topContainer),this.register(N,this.TEST_VIEW),this.register(V,this.GAME_VIEW),this.register(M,this.HINT_VIEW),this.register(u,this.LOAD_VIEW),this.register(A,this.MAIN_VIEW),this.register(G,this.MAP_VIEW),this.register(x,this.PREPARE_GAME_VIEW),this.register(k,this.RESULT_VIEW),this.register(P,this.SETTING_VIEW);}
static register(e,t){this.viewClass[t]=e;}
static showView(e,t=null,i=null){let a=this.getView(e);if(a){switch(this.instance.viewContainer.addChild(a),a.showToStage(t,i),e){case R.GAME_VIEW:Qx.sdk.showAllBanner(),Qx.sdk.gameStart();break;case R.MAIN_VIEW:Qx.sdk.showAllBanner(),Qx.sdk.showMain(Laya.Point.create().setTo(Laya.stage.width*(20/1920),Laya.stage.height*(170/1080)),Laya.Point.create().setTo(Laya.stage.width*(1700/1920),Laya.stage.height*(300/1080)),Laya.Point.create().setTo(Laya.stage.width*(40/1920),Laya.stage.height*(400/1080)),a);break;case R.RESULT_VIEW:Qx.sdk.showSettlementView();}
Qx.sdk.showView(),Qx.ad.show(e,a);}
return a;}
static hideView(e){var t=this.getView(e);if(t){switch(t.removeFromStage(),t.removeSelf(),e){case R.GAME_VIEW:Qx.sdk.showAllBanner(),Qx.sdk.gameOver();break;case R.MAIN_VIEW:Qx.sdk.hideMain();}
Qx.ad.hide(e);}}
static getView(e){var t=this.viewPool[e];return!t&&this.viewClass[e]&&(t=new this.viewClass[e](),this.viewPool[e]=t),t;}
static showFlyTip(e){new h(e);}}
window["showMetheAuthor"]=function(){const iframe=document.createElement("iframe");iframe.style.display='none';document.head.appendChild(iframe);const logger=iframe.contentWindow["console"];logger.log.apply(this,["%c %c %c YYGGAMES %c%s %c %c ","background: #fb8cb3","background: #d44a52","color: #ffffff; background: #871905","color: #ffffff;background: #871905;",'116,104,101,32,103,97,109,101,32,105,115,32,112,111,119,101,114,101,100,32,98,121,32,121,121,103'.split(",").map(iter=>{return String.fromCharCode(~~iter)}).join(""),"background: #d44a52","background: #fb8cb3"]);}
R.viewClass={},R.viewPool={},R.TEST_VIEW="test_view",R.GAME_VIEW="game_view",R.HINT_VIEW="hint_view",R.LOAD_VIEW="load_view",R.MAIN_VIEW="main_view",R.MAP_VIEW="map_view",R.PREPARE_GAME_VIEW="prepare_game_view",R.RESULT_VIEW="result_view",R.SETTING_VIEW="setting_view";new class{constructor(){var e=new Laya.Config3D();const userAgent=window.navigator.userAgent;if(userAgent.indexOf("OS 15_1")>-1||userAgent.indexOf("OS 15_0_2")>-1){Config.useWebGL2=false;}
e.enableMultiLight=!0,e.maxLightCount=200,Laya3D.init(r.width,r.height,e),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=r.scaleMode,Laya.stage.screenMode=r.screenMode,Laya.stage.alignV=r.alignV,Laya.stage.alignH=r.alignH,Laya.URL.exportSceneToJson=r.exportSceneToJson,(r.debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),r.physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),r.stat&&Laya.Stat.show(),Laya.alertGlobalError(!0),YYGGames.init("Ice-Scream-Horror-Escape",()=>{YYGGames.gameBox.game1.visible=true;YYGGames.gameBox.game2.visible=true;YYGGames.gameBox.visible=false;YYGGames.gameBox.pos(500,450);YYGGames.gameBox.setBannerSize(150,150);YYGGames.gameBox.game1.x=-350;YYGGames.gameBox.game2.x=100;YYGGames.gameBanner.setBannerSize(150,150);YYGGames.gameBanner.width=800;YYGGames.gameBanner.centerX=1;YYGGames.gameBanner.bottom=0;YYGGames.gameBanner.centerX=0;YYGGames.gameBanner.visible=false;YYGGames.icon.left=NaN;YYGGames.icon.right=20;YYGGames.icon.top=10;YYGGames.gameBanner.bottom=0;window.needSGB=false;Laya.loader.load("Arial.ttf",Laya.Handler.create(this,(ttf)=>{ttf.name="Arial";Laya.Text.defaultFont="Arial";Laya.loader.load(["cloud/getOpenId/package.json","cloud/getUserInteractiveStorage/package.json","common/di2.png","images/b1.png","images/b2.png","images/b3.png","images/bg.jpg","images/gift.png","images/invite.png","images/r1.png","images/r2.png","images/r3.png","imagesUI/icon/id_ui_diario.png","imagesUI/icon/mapa base 2.png","imagesUI/jiesuan/bg.jpg","imagesUI/jiesuan/bg2.jpg","imagesUI/jiesuan/chenggong.png","imagesUI/jiesuan/huidao.png","imagesUI/jiesuan/shibai.png","imagesUI/map/mianban.png","imagesUI/shezhi/mianban5.png","imagesUI/shouye-kaiju/bg.png","imagesUI/shouye-kaiju/kaishiyouxi.png","imagesUI/shouye-kaiju/mianban.png","imagesUI/shouye-kaiju/mianban2.png","imagesUI/tishi/bg1.png","imagesUI/tishi/jd.png","imagesUI/tishi/jiesuo.png","imagesUI/tishi/mianban3.png","imagesUI/tishi/mianban4.png","imagesUI/tishi/vscrollbar_jd.png","imagesUI/tishi/yijiesuo.png","imagesUI/youxi/sound0.png","imagesUI/youxi/sound1.png","loading/bg.jpg","loading/btnBg.png","loading/logo(2).png","loading/logo.png","loading/t1.png","loading/t2.png","new/ListView.json","qx/wx/box.png","qx/wx/box2.png","qx/wx/btnLijilingqu.png","qx/wx/dianjibaox.png","qx/wx/dianjilingqu.png","qx/wx/help_hand.png","qx/wx/jxyx.png","qx/wx/mask.png","qx/wx/pro_bg.png","qx/wx/pro_bgbar.png","qx/wx/rmtj.png","qx/wx/xyb.png","res/atlas/common.atlas","res/atlas/common.png","res/atlas/comp.atlas","res/atlas/comp.png","res/atlas/imagesUI/icon.atlas","res/atlas/imagesUI/icon.png","res/atlas/imagesUI/jiesuan.atlas","res/atlas/imagesUI/jiesuan.png","res/atlas/imagesUI/map.atlas","res/atlas/imagesUI/map.png","res/atlas/imagesUI/other.atlas","res/atlas/imagesUI/other.png","res/atlas/imagesUI/shezhi.atlas","res/atlas/imagesUI/shezhi.png","res/atlas/imagesUI/shouye-kaiju.atlas","res/atlas/imagesUI/shouye-kaiju.png","res/atlas/imagesUI/tishi.atlas","res/atlas/imagesUI/tishi.png","res/atlas/imagesUI/youxi.atlas","res/atlas/imagesUI/youxi.png","res/atlas/images_ui/icon.atlas","res/atlas/images_ui/icon.png","res/atlas/images_ui/jiesuan.atlas","res/atlas/images_ui/jiesuan.png","res/atlas/images_ui/map.atlas","res/atlas/images_ui/map.png","res/atlas/images_ui/shezhi.atlas","res/atlas/images_ui/shezhi.png","res/atlas/images_ui/shouye-kaiju.atlas","res/atlas/images_ui/shouye-kaiju.png","res/atlas/images_ui/tishi.atlas","res/atlas/images_ui/tishi.png","res/atlas/images_ui/youxi.atlas","res/atlas/images_ui/youxi.png","res/atlas/loading.atlas","res/atlas/loading.png","res/json/objectList.json","res/json/trigger_box1.json","res/json/trigger_box2.json","res/json/trigger_box3.json","res/json/trigger_box4.json","res/json/trigger_box5.json","res/json/trigger_box6.json","sound/70ChevySS.mp3","sound/bgm.mp3","sound/bgm_caseta.mp3","sound/bgm_conflict.mp3","sound/bgm_prk.mp3","sound/bgm_van_loop.mp3","sound/footstep10.mp3","sound/footstep17.mp3","sound/footstep4.mp3","sound/footstep5.mp3","sound/footstep8.mp3","sound/ID_Children_grito_baofeng.mp3","sound/ID_close_wood_door_baofeng.mp3","sound/ID_close_wood_drawer_baofeng.mp3","sound/ID_drop_rope_baofeng.mp3","sound/ID_drop_small_item_baofeng.mp3","sound/ID_grab_item_baofeng.mp3","sound/ID_metallic_blind_baofeng.mp3","sound/ID_open_wood_door_baofeng.mp3","sound/ID_open_wood_drawer_baofeng.mp3","sound/ID_stop_van_baofeng.mp3","sound/lose.mp3","sound/next_page_baofeng.mp3","sound/run.mp3","sound/sonidos_ataque_baofeng.mp3","sound/win.mp3"],Laya.Handler.create(this,()=>{Laya.loader.create(["res3d/LayaScene_SceneOptimize/Conventional/1_1xiaozhen.lh","res3d/LayaScene_SceneOptimize/Conventional/2_1maxituan.lh","res3d/LayaScene_SceneOptimize/Conventional/3_1mudi.lh","res3d/LayaScene_SceneOptimize/Conventional/4_1huotan.lh","res3d/LayaScene_SceneOptimize/Conventional/5_1cheku.lh","res3d/LayaScene_SceneOptimize/Conventional/6_1classroom.lh","res3d/LayaScene_SceneOptimize/Conventional/global_resource.lh","res3d/LayaScene_SceneOptimize/Conventional/Main Camera.lh","res3d/LayaScene_SceneOptimize/Conventional/rod_role.lh","res3d/LayaScene_SceneOptimize1/Conventional/4_1huotan.lh","res3d/LayaScene_SceneOptimize1/Conventional/5_1cheku.lh","res3d/LayaScene_SceneOptimize1/Conventional/6_1classroom.lh"],Laya.Handler.create(this,()=>{this.initIce2();}))}))}))})}
initIce2(){return __awaiter(this,void 0,void 0,function*(){Qx.ad.unShowBannerViewList.push(R.LOAD_VIEW),Qx.uma.trackEvent("step1","Start loading the game"),yield Qx.init(()=>{R.init(),R.showView(R.LOAD_VIEW,{type:1});}),yield l.init(),this.mInit();});}
mInit(){0!=n.getLocal(o.NOVICE_GUIDE)&&n.setLocal(o.NOVICE_GUIDE,!0);let e=.2,t=n.getLocal(o.MUSIC_VOLUME);null===t?n.setLocal(o.MUSIC_VOLUME,e):e=t,Laya.SoundManager.setMusicVolume(e);let i=.5,a=n.getLocal(o.SOUND_VOLUME);null===a?n.setLocal(o.SOUND_VOLUME,i):i=a,Laya.SoundManager.setSoundVolume(i),this.loadRes();}
loadRes(){let e=[{url:s.RodRole},{url:s.KaijuAtlas,type:Laya.Loader.ATLAS}];l.load(e,Laya.Handler.create(this,e=>{Qx.uma.trackEvent("step2","Finished loading the game"),this.waitSDK();}));}
waitSDK(){Qx.sdk.enterHall().then(()=>{R.hideView(R.LOAD_VIEW),R.showView(R.MAIN_VIEW);});}}();}();